import{a as ee,b as at,h as ot,q as nt,r as rt}from"./chunk-TX27RUR5.js";import"./chunk-XGTBP4Y5.js";import"./chunk-VHE33KF4.js";import"./chunk-6ZYHA642.js";import{f as tt,g as it}from"./chunk-HIE3CS2L.js";import"./chunk-HZR75I54.js";import{e as Ge,f as J,h as Ae,i as Oe,j as Re,k as Ve}from"./chunk-XMNFECFL.js";import{a as L}from"./chunk-KQAWUMEV.js";import{c as Ne,d as Pe}from"./chunk-PK5IVVJZ.js";import{a as U,b as K}from"./chunk-UEUYB7UV.js";import{j as ke}from"./chunk-W3566HAR.js";import{a as T,b as D}from"./chunk-GCQZWWGU.js";import{a as X,b as ze,c as Qe,d as He,e as Be,f as $e,g as Ue,h as Ke,i as Je,j as We,k as Xe,l as Ye,m as Y,n as Ze,o as Z,p as et}from"./chunk-6PXIPWTU.js";import{a as W,b as j}from"./chunk-EOCMTCR6.js";import"./chunk-QW5FYLLD.js";import"./chunk-NIOQF6FT.js";import{g as Fe}from"./chunk-PP2M6C3C.js";import{a as H,b as qe,c as B,d as Le,g as $,h as je}from"./chunk-TH2TGSUU.js";import{b as O,c as v,e as R,f as Ee,g as V,i as d,j as Se,k as Te,l as De,n as Ie,t as z,w as Q}from"./chunk-QYO4QB3D.js";import"./chunk-JGYM447R.js";import"./chunk-CGSOOTP7.js";import{$ as we,Z as xe,ba as I,ca as q}from"./chunk-5JRL5YFT.js";import"./chunk-J7K3RN7U.js";import{$a as l,A as de,B as ce,Cb as o,Da as he,Db as r,Eb as p,Fb as F,Gb as N,H as fe,Ib as C,Ic as Me,Lb as h,Nb as _,Sb as x,Tb as w,Ub as E,Vb as ne,Wb as s,Ya as A,Yb as re,Z as ge,ab as g,bc as _e,cc as S,dc as be,gc as Ce,hc as ve,ka as ye,la as k,lb as y,n as G,p as pe,rb as u,t as ue,tb as m,tc as P,ua as c,va as f,yb as b}from"./chunk-6RR23HKP.js";function _t(i,t){if(i&1&&(o(0,"div",3),p(1,"img",14),r()),i&2){let e=_();l(),m("src",e.avatarUrl()||e.formAvatar().value,A)}}var te=(()=>{class i{dialogData;materialConfig;formGroup=P(()=>this.dialogData.formGroup);formAvatar=P(()=>this.formGroup().get("avatar"));avatarUrl=y("");constructor(e,a){this.dialogData=e,this.materialConfig=a}get avatarName(){return this.formAvatar()?.value?.name??""}ngOnInit(){}onInputFileChange(e){let a=e.files;if(!a||!a.item(0))return;let n=a.item(0);this.formAvatar().patchValue(n),this.avatarUrl.set(Ne(this.formAvatar().value))}onSubmit(){console.log(this.formGroup().value)}reset(){tt(this.formGroup())}static \u0275fac=function(a){return new(a||i)(g(Ge),g(L))};static \u0275cmp=k({type:i,selectors:[["comp-create-everyday"]],standalone:!0,features:[_e([]),S],decls:32,vars:9,consts:[["f_input",""],[3,"ngSubmit","formGroup"],["mat-dialog-title",""],[1,"avatar-image"],["matTooltip","Upload cover image for document","mat-icon-button","","matPrefix","","type","button",3,"click","matTooltipPosition","matTooltipShowDelay","matTooltipHideDelay"],["type","text","readonly","","matInput","",3,"value"],["type","file","multiple","","hidden","","accept","image/*",3,"change"],["matInput","","placeholder","Placeholder","formControlName","label"],["matInput","","rows","10","formControlName","description","placeholder","Description of question"],[3,"formGroup"],[2,"color","transparent","user-select","none"],["align","end"],["mat-raised-button","","color","warn","type","reset",3,"disabled"],["mat-raised-button","","color","primary","type","submit",3,"disabled"],["alt","",3,"src"]],template:function(a,n){if(a&1){let M=C();o(0,"form",1),h("ngSubmit",function(){return c(M),f(n.onSubmit())}),o(1,"h2",2),s(2,"Dictionary Question"),r(),o(3,"mat-dialog-content"),u(4,_t,2,1,"div",3),o(5,"mat-form-field")(6,"mat-label"),s(7,"Files Name"),r(),o(8,"button",4),h("click",function(){c(M);let oe=ne(13);return f(oe.click())}),o(9,"mat-icon"),s(10,"add_photo_alternate"),r()(),p(11,"input",5),o(12,"input",6,0),h("change",function(){c(M);let oe=ne(13);return f(n.onInputFileChange(oe))}),r(),o(14,"mat-error"),s(15,"this field is required"),r()(),o(16,"mat-form-field")(17,"mat-label"),s(18,"Label"),r(),p(19,"input",7),r(),o(20,"mat-form-field")(21,"mat-label"),s(22,"Description"),r(),p(23,"textarea",8),r(),p(24,"comp-file-dictionary",9),o(25,"p",10),s(26," Lorem ipsum dolor, sit amet consectetur adipisicing elit. Totam, nemo. Laboriosam ipsa molestiae voluptatem quasi? Id reiciendis, ut repellat consequatur sapiente voluptatibus temporibus, modi ullam quas sit, amet est consequuntur. "),r()(),o(27,"mat-dialog-actions",11)(28,"button",12),s(29," Reset "),r(),o(30,"button",13),s(31," Submit "),r()()()}a&2&&(m("formGroup",n.formGroup()),l(4),b(4,n.avatarUrl()||n.formAvatar().value?4:-1),l(4),m("matTooltipPosition",n.materialConfig.tooltip.position)("matTooltipShowDelay",n.materialConfig.tooltip.showDelay)("matTooltipHideDelay",n.materialConfig.tooltip.hideDelay),l(3),m("value",n.avatarName),l(13),m("formGroup",n.formGroup()),l(4),m("disabled",n.formGroup().untouched),l(2),m("disabled",n.formGroup().invalid))},dependencies:[K,U,$,H,qe,B,q,xe,I,ke,Ve,Ae,Re,Oe,D,T,Q,Se,O,R,Ee,De,Ie,ot,j,W,nt],styles:["[_nghost-%COMP%]{display:block;width:100%}mat-dialog-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px}form[_ngcontent-%COMP%]{width:100%}mat-card[_ngcontent-%COMP%]{width:100%}mat-card-content[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:10px}.avatar-image[_ngcontent-%COMP%]{position:relative;width:150px;height:150px;min-height:150px;margin:10px 0}.avatar-image[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover}"]})}return i})();var ie=class extends Fe{data;paginator;sort;constructor(t=[]){super(),this.data=t}connect(){if(this.paginator&&this.sort)return ce(pe(this.data),this.paginator.page,this.sort.sortChange).pipe(ue(()=>this.getPagedData(this.getSortedData([...this.data]))));throw Error("Please set the paginator and sort on the data source before connecting.")}disconnect(){}getPagedData(t){if(this.paginator){let e=this.paginator.pageIndex*this.paginator.pageSize;return t.splice(e,this.paginator.pageSize)}else return t}getSortedData(t){return!this.sort?.active||this.sort.direction===""?t:t.sort((e,a)=>{let n=this.sort?.direction==="asc";switch(this.sort?.active){case"label":return ut(e.label,a.label,n);case"_id":return ut(e._id,a._id,n);default:return 0}})}};function ut(i,t,e){return!i||!t?-1:(i<t?-1:1)*(e?1:-1)}var bt=()=>[5,10,20];function Ct(i,t){i&1&&(o(0,"th",12),s(1,"Avatar"),r())}function vt(i,t){if(i&1&&p(0,"img",14),i&2){let e=_().$implicit;m("src",e.avatar,A)}}function Mt(i,t){if(i&1&&(o(0,"td",13),u(1,vt,1,1,"img",14),r()),i&2){let e=t.$implicit;l(),b(1,e.avatar?1:-1)}}function kt(i,t){i&1&&(o(0,"th",12),s(1,"Label"),r())}function xt(i,t){if(i&1&&(o(0,"td",13),s(1),Ce(2,"titlecase"),r()),i&2){let e=t.$implicit;l(),re(" ",ve(2,1,e.label)," ")}}function wt(i,t){i&1&&(o(0,"th",12),s(1,"Question Length"),r())}function Et(i,t){if(i&1&&(o(0,"td",13),s(1),r()),i&2){let e=t.$implicit;l(),re(" ",e.questionList.length," ")}}function St(i,t){i&1&&(o(0,"th",12),s(1,"Update"),r())}function Tt(i,t){if(i&1){let e=C();o(0,"td",13)(1,"button",15),h("click",function(){let n=c(e).$implicit,M=_(2);return f(M.update(n._id))}),o(2,"mat-icon"),s(3,"open_in_new"),r()()()}}function Dt(i,t){i&1&&p(0,"tr",16)}function It(i,t){i&1&&p(0,"tr",17)}function qt(i,t){i&1&&(o(0,"tr",18)(1,"td",19),s(2,"No data matching the filter"),r()())}function Lt(i,t){if(i&1&&(o(0,"table",1),F(1,2),u(2,Ct,2,0,"th",3)(3,Mt,2,1,"td",4),N(),F(4,5),u(5,kt,2,0,"th",3)(6,xt,3,3,"td",4),N(),F(7,6),u(8,wt,2,0,"th",3)(9,Et,2,1,"td",4),N(),F(10,7),u(11,St,2,0,"th",3)(12,Tt,4,0,"td",4),N(),u(13,Dt,1,0,"tr",8)(14,It,1,0,"tr",9)(15,qt,3,0,"tr",10),r(),p(16,"mat-paginator",11,0)),i&2){let e=_();l(13),m("matHeaderRowDef",e.displayedColumns()),l(),m("matRowDefColumns",e.displayedColumns()),l(2),m("length",e.list().length)("pageIndex",0)("pageSize",10)("pageSizeOptions",be(6,bt))}}var ae=class se{materialConfig;dialog;paginator;sort;table;list=he.required();listChange$=rt(this.list);listChange;dialogRef;formGroup=y(new V({avatar:new d(""),label:new d("",[v.required]),description:new d(""),fileName:new d(""),questionList:new z([],[v.required])}));displayedColumns=y(["avatar","label","questionList","_id"]);dataSource=P(()=>new ie(this.list()));constructor(t,e){this.materialConfig=t,this.dialog=e}ngAfterViewInit(){this.tableInit(),this.onListChange()}update(t){let e=this.list().findIndex(a=>a._id===t);e!==-1&&(at(this.dialogRef),this.dialogRef=this.openDialog(this.list()[e]).subscribe(()=>{}))}openDialog(t){let a={formGroup:it(t,this.formGroup())};return this.dialog.open(te,{data:a}).afterClosed()}tableInit(){this.dataSource().sort=this.sort,this.dataSource().paginator=this.paginator,this.table.dataSource=this.dataSource()}onListChange(){this.listChange=this.listChange$.subscribe(()=>{this.tableInit()})}static \u0275fac=function(e){return new(e||se)(g(L),g(J))};static \u0275cmp=k({type:se,selectors:[["comp-everyday-table"]],viewQuery:function(e,a){if(e&1&&(x(Y,5),x(Z,5),x(X,5)),e&2){let n;w(n=E())&&(a.paginator=n.first),w(n=E())&&(a.sort=n.first),w(n=E())&&(a.table=n.first)}},inputs:{list:[ye.SignalBased,"list"]},standalone:!0,features:[S],decls:1,vars:1,consts:[["paginator",""],["mat-table","","matSort",""],["matColumnDef","avatar"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","label"],["matColumnDef","questionList"],["matColumnDef","_id"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Select page",3,"length","pageIndex","pageSize","pageSizeOptions"],["mat-header-cell",""],["mat-cell",""],["loading","lazy","alt","",1,"avatar",3,"src"],["mat-icon-button","",3,"click"],["mat-header-row",""],["mat-row",""],[1,"mat-row"],["colspan","4",1,"mat-cell"]],template:function(e,a){e&1&&u(0,Lt,18,7),e&2&&b(0,a.dataSource()?0:-1)},dependencies:[Ye,X,Qe,Ue,He,ze,Ke,Be,$e,Je,We,Xe,Ze,Y,et,Z,Me,D,T,j,q,I],styles:["[_nghost-%COMP%]{display:block;width:100%}table[_ngcontent-%COMP%]{width:100%}.avatar[_ngcontent-%COMP%]{display:block;width:42px;height:42px;border-radius:50%;object-fit:cover}td[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}"]})};ae=G([ee()],ae);var dt=[{_id:1,avatar:"assets/dictionary.png",label:"Lesson 001",description:"Lorem ipsum dolor sit amet consectetur, adipisicing elit. Ipsa molestiae distinctio fugiat, eaque saepe quaerat rem, corporis enim magni sequi obcaecati expedita nulla pariatur corrupti nisi in, iste doloribus iusto.",fileName:"",questionList:[{tajik:"seb",russian:"yabloko",english:"apple"},{tajik:"markaz",russian:"sentr",english:"center"},{tajik:"maydon",russian:"okrug",english:"area"}]},{_id:2,avatar:"assets/dictionary.png",label:"Lesson 002",description:"Lorem ipsum dolor sit amet consectetur, adipisicing elit. Ipsa molestiae distinctio fugiat, eaque saepe quaerat rem, corporis enim magni sequi obcaecati expedita nulla pariatur corrupti nisi in, iste doloribus iusto.",fileName:"",questionList:[{tajik:"seb",russian:"yabloko",english:"apple"},{tajik:"markaz",russian:"sentr",english:"center"},{tajik:"maydon",russian:"okrug",english:"area"}]},{_id:3,avatar:"assets/dictionary.png",label:"Lesson 003",description:"Lorem ipsum dolor sit amet consectetur, adipisicing elit. Ipsa molestiae distinctio fugiat, eaque saepe quaerat rem, corporis enim magni sequi obcaecati expedita nulla pariatur corrupti nisi in, iste doloribus iusto.",fileName:"",questionList:[{tajik:"seb",russian:"yabloko",english:"apple"},{tajik:"markaz",russian:"sentr",english:"center"},{tajik:"maydon",russian:"okrug",english:"area"}]},{_id:4,avatar:"assets/dictionary.png",label:"Lesson 004",description:"Lorem ipsum dolor sit amet consectetur, adipisicing elit. Ipsa molestiae distinctio fugiat, eaque saepe quaerat rem, corporis enim magni sequi obcaecati expedita nulla pariatur corrupti nisi in, iste doloribus iusto.",fileName:"",questionList:[{tajik:"seb",russian:"yabloko",english:"apple"},{tajik:"markaz",russian:"sentr",english:"center"},{tajik:"maydon",russian:"okrug",english:"area"}]},{_id:5,avatar:"assets/dictionary.png",label:"Lesson 005",description:"Lorem ipsum dolor sit amet consectetur, adipisicing elit. Ipsa molestiae distinctio fugiat, eaque saepe quaerat rem, corporis enim magni sequi obcaecati expedita nulla pariatur corrupti nisi in, iste doloribus iusto.",fileName:"",questionList:[{tajik:"seb",russian:"yabloko",english:"apple"},{tajik:"markaz",russian:"sentr",english:"center"},{tajik:"maydon",russian:"okrug",english:"area"}]},{_id:6,avatar:"assets/dictionary.png",label:"Lesson 006",description:"Lorem ipsum dolor sit amet consectetur, adipisicing elit. Ipsa molestiae distinctio fugiat, eaque saepe quaerat rem, corporis enim magni sequi obcaecati expedita nulla pariatur corrupti nisi in, iste doloribus iusto.",fileName:"",questionList:[{tajik:"seb",russian:"yabloko",english:"apple"},{tajik:"markaz",russian:"sentr",english:"center"},{tajik:"maydon",russian:"okrug",english:"area"}]},{_id:7,avatar:"assets/dictionary.png",label:"Lesson 007",description:"Lorem ipsum dolor sit amet consectetur, adipisicing elit. Ipsa molestiae distinctio fugiat, eaque saepe quaerat rem, corporis enim magni sequi obcaecati expedita nulla pariatur corrupti nisi in, iste doloribus iusto.",fileName:"",questionList:[{tajik:"seb",russian:"yabloko",english:"apple"},{tajik:"markaz",russian:"sentr",english:"center"},{tajik:"maydon",russian:"okrug",english:"area"}]},{_id:8,avatar:"assets/dictionary.png",label:"Lesson 008",description:"Lorem ipsum dolor sit amet consectetur, adipisicing elit. Ipsa molestiae distinctio fugiat, eaque saepe quaerat rem, corporis enim magni sequi obcaecati expedita nulla pariatur corrupti nisi in, iste doloribus iusto.",fileName:"",questionList:[{tajik:"seb",russian:"yabloko",english:"apple"},{tajik:"markaz",russian:"sentr",english:"center"},{tajik:"maydon",russian:"okrug",english:"area"}]},{_id:9,avatar:"assets/dictionary.png",label:"Lesson 009",description:"Lorem ipsum dolor sit amet consectetur, adipisicing elit. Ipsa molestiae distinctio fugiat, eaque saepe quaerat rem, corporis enim magni sequi obcaecati expedita nulla pariatur corrupti nisi in, iste doloribus iusto.",fileName:"",questionList:[{tajik:"seb",russian:"yabloko",english:"apple"},{tajik:"markaz",russian:"sentr",english:"center"},{tajik:"maydon",russian:"okrug",english:"area"}]},{_id:10,avatar:"assets/dictionary.png",label:"Lesson 010",description:"Lorem ipsum dolor sit amet consectetur, adipisicing elit. Ipsa molestiae distinctio fugiat, eaque saepe quaerat rem, corporis enim magni sequi obcaecati expedita nulla pariatur corrupti nisi in, iste doloribus iusto.",fileName:"",questionList:[{tajik:"seb",russian:"yabloko",english:"apple"},{tajik:"markaz",russian:"sentr",english:"center"},{tajik:"maydon",russian:"okrug",english:"area"}]},{_id:11,avatar:"assets/dictionary.png",label:"Lesson 011",description:"Lorem ipsum dolor sit amet consectetur, adipisicing elit. Ipsa molestiae distinctio fugiat, eaque saepe quaerat rem, corporis enim magni sequi obcaecati expedita nulla pariatur corrupti nisi in, iste doloribus iusto.",fileName:"",questionList:[{tajik:"seb",russian:"yabloko",english:"apple"},{tajik:"markaz",russian:"sentr",english:"center"},{tajik:"maydon",russian:"okrug",english:"area"}]},{_id:12,avatar:"assets/dictionary.png",label:"Lesson 012",description:"Lorem ipsum dolor sit amet consectetur, adipisicing elit. Ipsa molestiae distinctio fugiat, eaque saepe quaerat rem, corporis enim magni sequi obcaecati expedita nulla pariatur corrupti nisi in, iste doloribus iusto.",fileName:"",questionList:[{tajik:"seb",russian:"yabloko",english:"apple"},{tajik:"markaz",russian:"sentr",english:"center"},{tajik:"maydon",russian:"okrug",english:"area"}]}];var jt=["searchInput"];function Ft(i,t){if(i&1){let e=C();o(0,"button",8),h("click",function(){c(e);let n=_();return f(n.searchControl().reset())}),o(1,"mat-icon"),s(2,"close"),r()()}}var ct=class le{materialConfig;dialog;searchInput;everydayList=y(dt);searchControl=y(new d("",[v.required]));formGroup=y(new V({avatar:new d(""),label:new d("",[v.required]),description:new d(""),fileName:new d(""),questionList:new z([],[v.required])}));onInput$;constructor(t,e){this.materialConfig=t,this.dialog=e}ngAfterViewInit(){this.onInputHandler()}openDialog(){let t={formGroup:this.formGroup()};this.dialog.open(te,{data:t}).afterClosed().subscribe(a=>{console.log(`Dialog result: ${a}`)})}onInputHandler(){let t=this.searchInput.nativeElement;this.onInput$=de(t,"input").pipe(fe(1e3),ge(e=>{let a=e.target;this.searchDocument(a.value)})).subscribe()}searchDocument(t){let e=this.everydayList().filter(a=>Pe(a.label,t));this.everydayList.set(e),console.log("data",this.everydayList())}static \u0275fac=function(e){return new(e||le)(g(L),g(J))};static \u0275cmp=k({type:le,selectors:[["app-everyday"]],viewQuery:function(e,a){if(e&1&&x(jt,5),e&2){let n;w(n=E())&&(a.searchInput=n.first)}},standalone:!0,features:[S],decls:16,vars:6,consts:[["searchInput",""],[1,"mat-headline-2","text-center"],[1,"example-form-field"],["matPrefix","","mat-icon-button",""],["matInput","","type","text",3,"formControl"],["matSuffix","","mat-icon-button","","aria-label","Search"],["mat-fab","","color","primary","matTooltip","Add new Document",3,"click","matTooltipPosition","matTooltipShowDelay","matTooltipHideDelay"],[3,"list"],["matPrefix","","mat-icon-button","",3,"click"]],template:function(e,a){if(e&1){let n=C();o(0,"h1",1),s(1,"Everyday Documents"),r(),o(2,"header")(3,"mat-form-field",2)(4,"mat-label"),s(5,"Search Documents"),r(),u(6,Ft,3,0,"button",3),p(7,"input",4,0),o(9,"button",5)(10,"mat-icon"),s(11,"search"),r()()(),o(12,"button",6),h("click",function(){return c(n),f(a.openDialog())}),o(13,"mat-icon"),s(14,"add"),r()()(),p(15,"comp-everyday-table",7)}e&2&&(l(6),b(6,a.searchControl().value?6:-1),l(),m("formControl",a.searchControl()),l(5),m("matTooltipPosition",a.materialConfig.tooltip.position)("matTooltipShowDelay",a.materialConfig.tooltip.showDelay)("matTooltipHideDelay",a.materialConfig.tooltip.hideDelay),l(3),m("list",a.everydayList()))},dependencies:[Q,O,R,Te,q,I,we,D,T,K,U,$,H,B,Le,je,j,W,ae],styles:["[_nghost-%COMP%]{flex:0 0 100vw;overflow-x:hidden}@media screen and (min-width: 960px){[_nghost-%COMP%]{flex:1 1 auto}}mat-form-field[_ngcontent-%COMP%]{flex:0 1 550px}header[_ngcontent-%COMP%]{display:flex;gap:8px}"]})};ct=G([ee()],ct);export{ct as EverydayComponent};
