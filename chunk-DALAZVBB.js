import{a as _i,b as Ci,c as bi,d as Ti,e as vi,f as Mi,g as gt,h as wt,i as qe,j as Ve,k as Je,l as Xe,m as Ie,n as yt,o as Si}from"./chunk-DIN32TF5.js";import{a as dt,c as ut,d as ft}from"./chunk-3ZYY74ZM.js";import{a as Pe,b as Re}from"./chunk-J4VPY23A.js";import{a as gi,b as wi,c as yi,d as ht}from"./chunk-GSKVCRVH.js";import{a as ke,b as Ge,c as De}from"./chunk-7AIGY32E.js";import{c as Jt}from"./chunk-KXUFQZIM.js";import{a as m}from"./chunk-YCVZ2DKW.js";import{a as K,b as J}from"./chunk-Z3NAGWM3.js";import{a as me,b as pe,c as ce,d as de,e as ue,f as fe,j as ee}from"./chunk-WU43Z2PU.js";import{a as mt,b as Xt,c as Zt,d as ei,e as ti,f as ii,g as oi,h as ri,i as ai,j as ni,k as li,l as si,m as pt,n as mi,o as ct,p as pi,q as ci,r as di,s as fi,t as hi}from"./chunk-O6ZKFD36.js";import{a as Ee,b as je,c as ze,d as Ke,e as Fe,f as ae,g as ui}from"./chunk-KDC6RVS5.js";import{e as $t,f as st,g as Qt,h as Ut,i as Yt,j as zt,k as Kt}from"./chunk-TVOTZ4VU.js";import{a as q,b as V,c as L}from"./chunk-WRIK7YZC.js";import"./chunk-VIGM4TIH.js";import"./chunk-EIV6QZRO.js";import{g as Ot}from"./chunk-P2KDBDCF.js";import{b as ye,c as lt,d as Bt}from"./chunk-PK5IVVJZ.js";import{a as Y,b as re,c as we,d as nt,g as z,h as Ht}from"./chunk-IUNWJZ3G.js";import{b as O,c as h,e as B,f as ie,g as I,i as v,j as he,k as xe,l as oe,n as ge,q as Wt,t as $,u as Q,w as U}from"./chunk-FKZNMG4K.js";import"./chunk-RGNDWIHZ.js";import"./chunk-HQYHPCCU.js";import{a as W,b as P}from"./chunk-WJ2WTO7Q.js";import{$ as Lt,Z as te,aa as Se,ba as H,ca as R}from"./chunk-IJDN24GB.js";import"./chunk-YN2XHAVH.js";import{A as Nt,Ab as X,B as xt,Bb as G,C as le,Cb as E,D as Ae,Da as Et,Db as r,Ea as Me,Eb as n,Fb as _,Gb as rt,Gc as qt,H as kt,Hb as at,J as M,Jb as D,Jc as Vt,Mb as f,Ob as C,Tb as Qe,Ub as Ue,Vb as Ye,Wb as A,X as Gt,Xb as l,Yb as N,Z as se,Za as $e,Zb as x,aa as Te,ab as s,bb as y,cc as Z,dc as j,ec as jt,fa as Ne,hc as Pt,i as Ft,ic as Rt,ka as ve,la as k,mb as b,n as It,p as At,sb as T,t as be,ua as g,ub as c,uc as F,va as w,zb as S}from"./chunk-AP74RX5A.js";var Wi=(o,p)=>p.title;function Hi(o,p){o&1&&(r(0,"mat-error"),l(1,"Description field is required"),n())}function Oi(o,p){o&1&&(r(0,"mat-error"),l(1,"Answer field is required"),n())}function Bi(o,p){if(o&1){let e=D();r(0,"mat-radio-button",15),l(1),r(2,"button",16)(3,"mat-icon"),l(4,"more_vert"),n()()(),r(5,"mat-menu",null,1)(7,"button",17),f("click",function(){let t=g(e).$index,a=C();return w(a.removeVariant(t))}),r(8,"mat-icon"),l(9,"delete"),n(),r(10,"span"),l(11,"Remove"),n()()()}if(o&2){let e=p.$implicit,i=A(6);c("value",e),s(),x(" ",e," "),s(),c("matMenuTriggerFor",i)}}function $i(o,p){o&1&&(r(0,"p")(1,"i"),l(2,"no variants"),n()())}function Qi(o,p){o&1&&(r(0,"mat-error"),l(1,"Write new variant value for add it"),n())}function Ui(o,p){if(o&1&&(r(0,"p")(1,"i"),l(2),n()()),o&2){let e=C().$implicit;s(2),N(e.title)}}function Yi(o,p){if(o&1&&(r(0,"s")(1,"p")(2,"i"),l(3),n()()()),o&2){let e=C().$implicit;s(3),N(e.title)}}function zi(o,p){if(o&1&&T(0,Ui,3,1,"p")(1,Yi,4,1),o&2){let e=p.$implicit;S(0,e.formControl().hasError("required")?0:1)}}var Ze=(()=>{class o{materialConfig;sheetData;bottomSheetRef;formGroup=F(()=>this.sheetData.formGroup);formArray=F(()=>this.formGroup().get("neither"));sumitTitle=F(()=>this.sheetData.mode==="update"?"update":"add");requiredTasks=b([{title:"* Fill description field",formControl:F(()=>this.formGroup().get("description"))},{title:"* Fill answer field",formControl:F(()=>this.formGroup().get("answer"))},{title:"* Add variants",formControl:this.formArray}]);variant=b(new v("",h.required));constructor(e,i,t){this.materialConfig=e,this.sheetData=i,this.bottomSheetRef=t}ngOnInit(){this.bottomSheetRef.disableClose=!0}addVariant(){let e=this.variant().value.toLowerCase(),i=this.formGroup().get("answer").value.toLowerCase(),a=this.formArray().value.includes(e);if(this.variant().reset(),a||!e||e===i)return;let u=new v(e);this.formArray().push(u)}close(e){this.bottomSheetRef.dismiss(!1),e.preventDefault()}submit(){this.verifyNeither(),this.bottomSheetRef.dismiss(this.formGroup())}reset(){ae(this.formGroup()),this.variant().reset()}removeVariant(e){this.formArray().removeAt(e)}verifyNeither(){let e=this.formGroup().get("answer");this.formArray().value.includes(e.value)||this.formArray().push(new v(e.value))}static \u0275fac=function(i){return new(i||o)(y(q),y(gt),y(wt))};static \u0275cmp=k({type:o,selectors:[["comp-sheet-grammar"]],standalone:!0,features:[Z([]),j],decls:45,vars:27,consts:[["formDirective","ngForm"],["menu","matMenu"],[3,"ngSubmit","formGroup"],["matInput","","formControlName","description","placeholder","desciption of question",3,"formatInput"],["matInput","","formControlName","answer","placeholder","Answer of question",3,"formatInput"],[1,"mat-h3"],["id","variants"],[1,"add-variant"],["matInput","","placeholder","write new variant value",3,"formControl","formatInput"],["matTooltip","Add new variant value","mat-mini-fab","","color","primary",3,"click","matTooltipPosition","matTooltipShowDelay","matTooltipHideDelay","disabled"],["matTooltip","Required tasks for adding new question",3,"matTooltipPosition","matTooltipShowDelay","matTooltipHideDelay"],["matTooltip","Clear new question form","mat-raised-button","","color","accent","type","reset",3,"click","matTooltipPosition","matTooltipShowDelay","matTooltipHideDelay"],["align","end"],["matTooltip","Add question to ''Question List''","mat-raised-button","","type","submit","color","primary",3,"matTooltipPosition","matTooltipShowDelay","matTooltipHideDelay","disabled"],["matTooltip","Close ''add questions'' popup","mat-raised-button","","type","button","color","warn",3,"click","matTooltipPosition","matTooltipShowDelay","matTooltipHideDelay"],[3,"value"],["mat-icon-button","","type","button",3,"matMenuTriggerFor"],["mat-menu-item","","type","button",3,"click"]],template:function(i,t){if(i&1){let a=D();r(0,"form",2,0),f("ngSubmit",function(){return g(a),w(t.submit())}),r(2,"mat-card")(3,"mat-card-header")(4,"mat-card-title"),l(5,"Add Questions"),n(),r(6,"mat-card-subtitle"),l(7,"Add new question for this folder"),n()(),r(8,"mat-card-content")(9,"mat-form-field")(10,"mat-label"),l(11,"Description"),n(),_(12,"input",3),T(13,Hi,2,0,"mat-error"),n(),r(14,"mat-form-field")(15,"mat-label"),l(16,"Answer"),n(),_(17,"input",4),T(18,Oi,2,0,"mat-error"),n(),r(19,"h3",5),l(20,"Question variants:"),n(),r(21,"mat-radio-group",6),G(22,Bi,12,3,null,null,X,!1,$i,3,0,"p"),n(),r(25,"div",7)(26,"mat-form-field")(27,"mat-label"),l(28,"New Variant"),n(),_(29,"input",8),T(30,Qi,2,0,"mat-error"),n(),r(31,"button",9),f("click",function(){return g(a),w(t.addVariant())}),r(32,"mat-icon"),l(33,"add"),n()()(),r(34,"mat-list",10),G(35,zi,2,1,null,null,Wi),n()(),r(37,"mat-card-actions")(38,"button",11),f("click",function(){return g(a),w(t.reset())}),l(39," Reset "),n()()(),r(40,"mat-nav-list",12)(41,"button",13),l(42),n(),r(43,"button",14),f("click",function(u){return g(a),w(t.close(u))}),l(44," Close "),n()()()}i&2&&(c("formGroup",t.formGroup()),s(12),c("formatInput",t.formGroup().get("description")),s(),S(13,t.formGroup().get("description").hasError("required")?13:-1),s(4),c("formatInput",t.formGroup().get("answer")),s(),S(18,t.formGroup().get("answer").hasError("required")?18:-1),s(4),E(t.formArray().value),s(7),c("formControl",t.variant())("formatInput",t.variant()),s(),S(30,t.variant().hasError("required")?30:-1),s(),c("matTooltipPosition",t.materialConfig.tooltip.position)("matTooltipShowDelay",t.materialConfig.tooltip.showDelay)("matTooltipHideDelay",t.materialConfig.tooltip.hideDelay)("disabled",t.variant().invalid),s(3),c("matTooltipPosition",t.materialConfig.tooltip.position)("matTooltipShowDelay",t.materialConfig.tooltip.showDelay)("matTooltipHideDelay",t.materialConfig.tooltip.hideDelay),s(),E(t.requiredTasks()),s(3),c("matTooltipPosition",t.materialConfig.tooltip.position)("matTooltipShowDelay",t.materialConfig.tooltip.showDelay)("matTooltipHideDelay",t.materialConfig.tooltip.hideDelay),s(3),c("matTooltipPosition",t.materialConfig.tooltip.position)("matTooltipShowDelay",t.materialConfig.tooltip.showDelay)("matTooltipHideDelay",t.materialConfig.tooltip.hideDelay)("disabled",t.formGroup().invalid),s(),x(" ",t.sumitTitle()," "),s(),c("matTooltipPosition",t.materialConfig.tooltip.position)("matTooltipShowDelay",t.materialConfig.tooltip.showDelay)("matTooltipHideDelay",t.materialConfig.tooltip.hideDelay))},dependencies:[J,K,z,Y,re,R,te,H,Se,ee,me,ue,ce,fe,de,pe,P,W,De,ke,Ge,ft,dt,ut,L,V,ht,wi,gi,yi,U,he,O,B,ie,xe,oe,ge,yt],styles:["mat-form-field[_ngcontent-%COMP%]{width:100%}mat-radio-group[_ngcontent-%COMP%]{display:flex;flex-direction:column}.add-variant[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;align-items:center}.add-variant[_ngcontent-%COMP%] > mat-form-field[_ngcontent-%COMP%]{flex:1 0 50%}mat-radio-group[_ngcontent-%COMP%]     .mdc-label{display:flex;align-items:center}mat-nav-list[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] + *[_ngcontent-%COMP%]{margin-left:8px}"]})}return o})();var _t=(()=>{class o{fb;constructor(e){this.fb=e}excelFormGroup(e){return je(e).pipe(M(1),be(i=>{let t=["description","answer"],a=this.formatGrammar(Ee(i,t)),d=[];return a.forEach(u=>{!u.neither||!u.answer||d.push(this.fb.group({description:[u.description,[h.required]],answer:[u.answer,[h.required]],neither:this.fb.array([u.answer,...u.neither],[h.required])}))}),d}))}formatGrammar(e){for(let i of e)i.answer=ye(i.answer),i.description=ye(i.description),i.neither=ze(i.neither);return e}static \u0275fac=function(i){return new(i||o)(Ne(Q))};static \u0275prov=Te({token:o,factory:o.\u0275fac})}return o})();function Ji(o,p){if(o&1&&(r(0,"mat-radio-button",9),l(1),n()),o&2){let e=p.$implicit;c("value",e),s(),N(e)}}function Xi(o,p){if(o&1){let e=D();r(0,"form",1)(1,"mat-card")(2,"mat-card-header")(3,"mat-card-subtitle"),l(4),n(),r(5,"mat-card-title"),l(6),n()(),r(7,"mat-card-content")(8,"mat-radio-group",8),G(9,Ji,2,2,"mat-radio-button",9,X),n()(),_(11,"mat-divider"),r(12,"mat-card-actions")(13,"button",10),f("click",function(){let t=g(e).$index,a=C();return w(a.updateQuestion(t))}),r(14,"mat-icon"),l(15,"update"),n()(),r(16,"button",11),f("click",function(){let t=g(e).$index,a=C();return w(a.removeQuestion(t))}),r(17,"mat-icon"),l(18,"delete"),n()()()()()}if(o&2){let e,i=p.$implicit,t=p.$index,a=C();c("formGroup",i),s(4),x("$",t+1,"."),s(2),N((e=i.get("description"))==null?null:e.value),s(3),E(a.getNeitherField(i)),s(4),c("matTooltipPosition",a.materialConfig.tooltip.position)("matTooltipShowDelay",a.materialConfig.tooltip.showDelay)("matTooltipHideDelay",a.materialConfig.tooltip.hideDelay),s(3),c("matTooltipPosition",a.materialConfig.tooltip.position)("matTooltipShowDelay",a.materialConfig.tooltip.showDelay)("matTooltipHideDelay",a.materialConfig.tooltip.hideDelay)}}function Zi(o,p){o&1&&_(0,"mat-spinner")}var Fi=(()=>{class o{materialConfig;service;bottomSheet;fb;formGroup=Me(new I({}));formArray=F(()=>this.formGroup().get("questionList"));isFileLoading=b(!1);files=b([]);constructor(e,i,t,a){this.materialConfig=e,this.service=i,this.bottomSheet=t,this.fb=a}ngOnInit(){}getNeitherField(e){let i=e.get("neither");return i?i.value:[]}onInputFileChange(e){let i=e.files;i?.length&&this.readFile(i)}addQuestion(){this.openBottomSheet().pipe(M(1),le(e=>!!e),se(e=>{this.formArray().push(e)})).subscribe()}updateQuestion(e){let i=this.formArray().get(""+e),a={formGroup:Ke(i),mode:"update"};this.openBottomSheet(a).pipe(M(1),le(d=>!!d),se(d=>{this.updateFormControls(e,d)})).subscribe()}removeQuestion(e){this.formArray().removeAt(e)}reset(){ae(this.formGroup())}openBottomSheet(e){return e||(e={formGroup:this.fb.group({description:["",[h.required]],answer:["",[h.required]],neither:this.fb.array([],[h.required])}),mode:"add"}),this.bottomSheet.open(Ze,{data:e}).afterDismissed()}updateFormControls(e,i){let t=this.formArray().get(""+e);for(let a of Object.keys(i.value)){let d=i.controls[a];t.setControl(a,Fe(d))}}readFile(e){let i=[],t=[];this.cleanFiles(),this.isFileLoading.set(!0);for(let a in e)if(e[a]instanceof File){if(Ie(e[a],this.files()))continue;this.files.update(u=>[...u,e[a]]),t.push(e[a].name),i.push(this.service.excelFormGroup(e[a]))}this.setFormArray(i),this.setFilesName(t)}setFormArray(e){Ae(...e).pipe(M(1)).subscribe(i=>{i.flat().forEach(a=>{this.formArray().push(a)}),this.isFileLoading.set(!1)})}setFilesName(e){let i=this.formGroup().get("fileName");i?.value?.trim()&&e.push(i.value),i?.patchValue(e.join(", "))}cleanFiles(){this.formArray().length||this.files.set([])}static \u0275fac=function(i){return new(i||o)(y(q),y(_t),y(qe),y(Q))};static \u0275cmp=k({type:o,selectors:[["comp-file-grammar"]],inputs:{formGroup:[ve.SignalBased,"formGroup"]},standalone:!0,features:[Z([_t]),j],decls:31,vars:13,consts:[["f_input",""],[3,"formGroup"],["mat-icon-button","","matPrefix","","matTooltip","Upload grammar questions 'Excel' files",3,"click","matTooltipPosition","matTooltipShowDelay","matTooltipHideDelay"],["type","text","readonly","","matInput","","formControlName","fileName"],["type","file","multiple","","hidden","","accept",".xlsx",3,"change"],[1,"main-actions"],["matTooltip","Add new question","mat-mini-fab","","color","primary",3,"click","matTooltipPosition","matTooltipShowDelay","matTooltipHideDelay"],["type","reset","mat-raised-button","","color","accent","matTooltip","Reset Grammar form",3,"click","disabled","matTooltipPosition","matTooltipShowDelay","matTooltipHideDelay"],["formControlName","answer"],[3,"value"],["matTooltip","Update current question","mat-icon-button","","color","warn","type","button",3,"click","matTooltipPosition","matTooltipShowDelay","matTooltipHideDelay"],["matTooltip","Remove current question","mat-icon-button","","color","warn","type","button",3,"click","matTooltipPosition","matTooltipShowDelay","matTooltipHideDelay"]],template:function(i,t){if(i&1){let a=D();r(0,"form",1)(1,"mat-form-field")(2,"mat-label"),l(3,"Files Name"),n(),r(4,"button",2),f("click",function(){g(a);let u=A(9);return w(u.click())}),r(5,"mat-icon"),l(6,"upload_file"),n()(),_(7,"input",3),r(8,"input",4,0),f("change",function(){g(a);let u=A(9);return w(t.onInputFileChange(u))}),n(),r(10,"mat-error"),l(11,"this field is required"),n()(),r(12,"mat-card")(13,"mat-card-header")(14,"mat-card-title"),l(15,"Question List"),n(),r(16,"mat-card-subtitle"),l(17,"Grammar addeded question list: "),r(18,"b"),l(19),n(),l(20," question"),n()(),r(21,"mat-card-content"),G(22,Xi,19,9,"form",1,X),T(24,Zi,1,0,"mat-spinner"),n(),r(25,"mat-card-actions",5)(26,"button",6),f("click",function(){return g(a),w(t.addQuestion())}),r(27,"mat-icon"),l(28,"add"),n()(),r(29,"button",7),f("click",function(){return g(a),w(t.reset())}),l(30," Reset "),n()()()()}i&2&&(c("formGroup",t.formGroup()),s(4),c("matTooltipPosition",t.materialConfig.tooltip.position)("matTooltipShowDelay",t.materialConfig.tooltip.showDelay)("matTooltipHideDelay",t.materialConfig.tooltip.hideDelay),s(15),N(t.formArray().controls.length),s(3),E(t.formArray().controls),s(2),S(24,t.isFileLoading()?24:-1),s(2),c("matTooltipPosition",t.materialConfig.tooltip.position)("matTooltipShowDelay",t.materialConfig.tooltip.showDelay)("matTooltipHideDelay",t.materialConfig.tooltip.hideDelay),s(3),c("disabled",t.formGroup().untouched)("matTooltipPosition",t.materialConfig.tooltip.position)("matTooltipShowDelay",t.materialConfig.tooltip.showDelay)("matTooltipHideDelay",t.materialConfig.tooltip.hideDelay))},dependencies:[J,K,z,Y,re,we,R,te,H,Se,ee,me,ue,ce,fe,de,pe,P,W,De,ke,Ge,U,he,O,B,ie,oe,ge,Ve,L,V,Re,Pe,Xe,Je],styles:["mat-card-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px}mat-radio-group[_ngcontent-%COMP%]{display:flex;flex-direction:column}mat-form-field[_ngcontent-%COMP%]{width:100%}mat-spinner[_ngcontent-%COMP%]{margin-left:auto!important;margin-right:auto!important}.main-actions[_ngcontent-%COMP%]{justify-content:space-between}"]})}return o})();var Ct=(()=>{class o{fb;constructor(e){this.fb=e}excelFormGroup(e){return je(e).pipe(M(1),be(i=>{let t=["description","answer"],a=this.formatReading(Ee(i,t)),d=a.map(({text:Ce})=>Ce).filter(Boolean).map(Ce=>new v(Ce,[h.required])),u=this.fb.array(d),Dt=[];return a.forEach(Ce=>{!Ce.neither||!Ce.answer||Dt.push(this.fb.group({description:[Ce.description,[h.required]],answer:[Ce.answer,[h.required]],neither:this.fb.array([Ce.answer,...Ce.neither],[h.required])}))}),{formGroups:Dt,readTexts:u}}))}formatReading(e){for(let i of e)i.answer=ye(i.answer),i.description=ye(i.description),i.neither=ze(i.neither);return e}static \u0275fac=function(i){return new(i||o)(Ne(Q))};static \u0275prov=Te({token:o,factory:o.\u0275fac})}return o})();function to(o,p){if(o&1){let e=D();r(0,"mat-form-field")(1,"mat-label"),l(2),n(),r(3,"textarea",10),l(4," "),n(),r(5,"button",11),f("click",function(){let t=g(e).$index,a=C();return w(a.removePragraph(t))}),r(6,"mat-icon"),l(7,"delete"),n()()()}if(o&2){let e=p.$implicit,i=p.$index;s(2),x("Paragraph ",i+1,""),s(),c("formControl",e)}}function io(o,p){if(o&1&&(r(0,"mat-radio-button",13),l(1),n()),o&2){let e=p.$implicit;c("value",e),s(),N(e)}}function oo(o,p){if(o&1){let e=D();r(0,"form",1)(1,"mat-card")(2,"mat-card-header")(3,"mat-card-subtitle"),l(4),n(),r(5,"mat-card-title"),l(6),n()(),r(7,"mat-card-content")(8,"mat-radio-group",12),G(9,io,2,2,"mat-radio-button",13,X),n()(),_(11,"mat-divider"),r(12,"mat-card-actions")(13,"button",14),f("click",function(){let t=g(e).$index,a=C();return w(a.updateQuestion(t))}),r(14,"mat-icon"),l(15,"update"),n()(),r(16,"button",15),f("click",function(){let t=g(e).$index,a=C();return w(a.removeQuestion(t))}),r(17,"mat-icon"),l(18,"delete"),n()()()()()}if(o&2){let e,i=p.$implicit,t=p.$index,a=C();c("formGroup",i),s(4),x("$",t+1,"."),s(2),N((e=i.get("description"))==null?null:e.value),s(3),E(a.getNeitherField(i)),s(4),c("matTooltipPosition",a.materialConfig.tooltip.position)("matTooltipShowDelay",a.materialConfig.tooltip.showDelay)("matTooltipHideDelay",a.materialConfig.tooltip.hideDelay),s(3),c("matTooltipPosition",a.materialConfig.tooltip.position)("matTooltipShowDelay",a.materialConfig.tooltip.showDelay)("matTooltipHideDelay",a.materialConfig.tooltip.hideDelay)}}function ro(o,p){o&1&&_(0,"mat-spinner")}var Ii=(()=>{class o{materialConfig;service;bottomSheet;fb;formGroup=Me(new I({}));formParagraphs=F(()=>this.formGroup().get("readText"));formArray=F(()=>this.formGroup().get("questionList"));formNewParagraph=b(new v("",[h.required]));isFileLoading=b(!1);files=b([]);constructor(e,i,t,a){this.materialConfig=e,this.service=i,this.bottomSheet=t,this.fb=a}ngOnInit(){}getNeitherField(e){let i=e.get("neither");return i?i.value:[]}onInputFileChange(e){let i=e.files;i?.length&&this.readFile(i)}addQuestion(){this.openBottomSheet().pipe(M(1),le(e=>!!e),se(e=>{this.formArray().push(e)})).subscribe()}addParagraph(){let e=Fe(this.formNewParagraph());this.formNewParagraph().reset(),this.formParagraphs().push(e)}updateQuestion(e){let i=this.formArray().get(""+e),a={formGroup:Ke(i),mode:"update"};this.openBottomSheet(a).pipe(M(1),le(d=>!!d),se(d=>{this.updateFormControls(e,d)})).subscribe()}removeQuestion(e){this.formArray().removeAt(e)}removePragraph(e){this.formParagraphs().removeAt(e)}reset(){ae(this.formGroup())}openBottomSheet(e){return e||(e={formGroup:this.fb.group({description:["",[h.required]],answer:["",[h.required]],neither:this.fb.array([],[h.required])}),mode:"add"}),this.bottomSheet.open(Ze,{data:e}).afterDismissed()}updateFormControls(e,i){let t=this.formArray().get(""+e);for(let a of Object.keys(i.value)){let d=i.controls[a];t.setControl(a,Fe(d))}}readFile(e){let i=[],t=[];this.cleanFiles(),this.isFileLoading.set(!0);for(let a in e)if(e[a]instanceof File){if(Ie(e[a],this.files()))continue;this.files.update(u=>[...u,e[a]]),t.push(e[a].name),i.push(this.service.excelFormGroup(e[a]))}this.setFormArray(i),this.setFilesName(t)}setFormArray(e){Ae(...e).pipe(M(1)).subscribe(i=>{i.forEach(t=>{t.readTexts.controls.forEach(d=>{this.formParagraphs().push(d)}),t.formGroups.forEach(d=>{this.formArray().push(d)})}),this.isFileLoading.set(!1)})}setFilesName(e){let i=this.formGroup().get("fileName");i?.value?.trim()&&e.push(i.value),i?.patchValue(e.join(", "))}cleanFiles(){this.formArray().length<1&&this.files.set([])}static \u0275fac=function(i){return new(i||o)(y(q),y(Ct),y(qe),y(Q))};static \u0275cmp=k({type:o,selectors:[["comp-reading-grammar"]],inputs:{formGroup:[ve.SignalBased,"formGroup"]},standalone:!0,features:[Z([Ct]),j],decls:40,vars:15,consts:[["f_input",""],[3,"formGroup"],["mat-icon-button","","matPrefix","","matTooltip","Upload reading questions 'Excel' files",3,"click","matTooltipPosition","matTooltipShowDelay","matTooltipHideDelay"],["type","text","readonly","","matInput","","formControlName","fileName"],["type","file","multiple","","hidden","","accept",".xlsx",3,"change"],["matInput","","rows","5","required","","placeholder","Write new paragraph for reading",3,"formControl"],["mat-mini-fab","","matSuffix","","color","primary",3,"click","disabled"],[1,"main-actions"],["matTooltip","Add new question","mat-mini-fab","","color","primary",3,"click","matTooltipPosition","matTooltipShowDelay","matTooltipHideDelay"],["type","reset","mat-raised-button","","color","accent","matTooltip","Reset Grammar form",3,"click","disabled","matTooltipPosition","matTooltipShowDelay","matTooltipHideDelay"],["matInput","","rows","5",3,"formControl"],["mat-icon-button","","matSuffix","","color","warn",3,"click"],["formControlName","answer"],[3,"value"],["matTooltip","Update current question","mat-icon-button","","color","warn","type","button",3,"click","matTooltipPosition","matTooltipShowDelay","matTooltipHideDelay"],["matTooltip","Remove current question","mat-icon-button","","color","warn","type","button",3,"click","matTooltipPosition","matTooltipShowDelay","matTooltipHideDelay"]],template:function(i,t){if(i&1){let a=D();r(0,"form",1)(1,"mat-form-field")(2,"mat-label"),l(3,"Files Name"),n(),r(4,"button",2),f("click",function(){g(a);let u=A(9);return w(u.click())}),r(5,"mat-icon"),l(6,"upload_file"),n()(),_(7,"input",3),r(8,"input",4,0),f("change",function(){g(a);let u=A(9);return w(t.onInputFileChange(u))}),n(),r(10,"mat-error"),l(11,"this field is required"),n()(),G(12,to,8,2,"mat-form-field",null,X),r(14,"mat-form-field")(15,"mat-label"),l(16,"Reading paragraph"),n(),_(17,"textarea",5),r(18,"button",6),f("click",function(){return g(a),w(t.addParagraph())}),r(19,"mat-icon"),l(20,"add"),n()()(),r(21,"mat-card")(22,"mat-card-header")(23,"mat-card-title"),l(24,"Question List"),n(),r(25,"mat-card-subtitle"),l(26,"Grammar addeded question list: "),r(27,"b"),l(28),n(),l(29," question"),n()(),r(30,"mat-card-content"),G(31,oo,19,9,"form",1,X),T(33,ro,1,0,"mat-spinner"),n(),r(34,"mat-card-actions",7)(35,"button",8),f("click",function(){return g(a),w(t.addQuestion())}),r(36,"mat-icon"),l(37,"add"),n()(),r(38,"button",9),f("click",function(){return g(a),w(t.reset())}),l(39," Reset "),n()()()()}i&2&&(c("formGroup",t.formGroup()),s(4),c("matTooltipPosition",t.materialConfig.tooltip.position)("matTooltipShowDelay",t.materialConfig.tooltip.showDelay)("matTooltipHideDelay",t.materialConfig.tooltip.hideDelay),s(8),E(t.formParagraphs().controls),s(5),c("formControl",t.formNewParagraph()),s(),c("disabled",t.formNewParagraph().invalid),s(10),N(t.formArray().controls.length),s(3),E(t.formArray().controls),s(2),S(33,t.isFileLoading()?33:-1),s(2),c("matTooltipPosition",t.materialConfig.tooltip.position)("matTooltipShowDelay",t.materialConfig.tooltip.showDelay)("matTooltipHideDelay",t.materialConfig.tooltip.hideDelay),s(3),c("disabled",t.formGroup().untouched)("matTooltipPosition",t.materialConfig.tooltip.position)("matTooltipShowDelay",t.materialConfig.tooltip.showDelay)("matTooltipHideDelay",t.materialConfig.tooltip.hideDelay))},dependencies:[J,K,z,Y,re,we,nt,R,te,H,Se,ee,me,ue,ce,fe,de,pe,P,W,De,ke,Ge,U,he,O,B,ie,Wt,xe,oe,ge,Ve,L,V,Re,Pe,Xe,Je],styles:["mat-card-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px}mat-radio-group[_ngcontent-%COMP%]{display:flex;flex-direction:column}mat-form-field[_ngcontent-%COMP%]{width:100%}mat-spinner[_ngcontent-%COMP%]{margin-left:auto!important;margin-right:auto!important}.main-actions[_ngcontent-%COMP%]{justify-content:space-between}"]})}return o})();function Ai(o){return function(p){let e=p.value;if(e){let i=e.name.split(".")[1].toLowerCase();return o.toLowerCase()!==i.toLowerCase()?{requiredFileType:!0}:null}return null}}var bt=(()=>{class o{fb;constructor(e){this.fb=e}excelFormGroup(e){return je(e).pipe(M(1),be(i=>{let t=["description","answer"],a=this.formatGrammar(Ee(i,t)),d=[];return a.forEach(u=>{!u.neither||!u.answer||d.push(this.fb.group({description:[u.description,[h.required]],answer:[u.answer,[h.required]],neither:this.fb.array([u.answer,...u.neither],[h.required])}))}),d}))}formatGrammar(e){for(let i of e)i.answer=ye(i.answer),i.description=ye(i.description),i.neither=ze(i.neither);return e}static \u0275fac=function(i){return new(i||o)(Ne(Q))};static \u0275prov=Te({token:o,factory:o.\u0275fac})}return o})();function no(o,p){if(o&1&&_(0,"audio",12),o&2){let e=p.$implicit;c("src",e,$e)}}function lo(o,p){if(o&1&&G(0,no,1,1,"audio",12,X),o&2){let e=C();E(e.audiosUrl())}}function so(o,p){if(o&1&&(r(0,"mat-radio-button",14),l(1),n()),o&2){let e=p.$implicit;c("value",e),s(),N(e)}}function mo(o,p){if(o&1){let e=D();r(0,"form",2)(1,"mat-card")(2,"mat-card-header")(3,"mat-card-subtitle"),l(4),n(),r(5,"mat-card-title"),l(6),n()(),r(7,"mat-card-content")(8,"mat-radio-group",13),G(9,so,2,2,"mat-radio-button",14,X),n()(),_(11,"mat-divider"),r(12,"mat-card-actions")(13,"button",15),f("click",function(){let t=g(e).$index,a=C();return w(a.updateQuestion(t))}),r(14,"mat-icon"),l(15,"update"),n()(),r(16,"button",16),f("click",function(){let t=g(e).$index,a=C();return w(a.removeQuestion(t))}),r(17,"mat-icon"),l(18,"delete"),n()()()()()}if(o&2){let e,i=p.$implicit,t=p.$index,a=C();c("formGroup",i),s(4),x("$",t+1,"."),s(2),N((e=i.get("description"))==null?null:e.value),s(3),E(a.getNeitherField(i)),s(4),c("matTooltipPosition",a.materialConfig.tooltip.position)("matTooltipShowDelay",a.materialConfig.tooltip.showDelay)("matTooltipHideDelay",a.materialConfig.tooltip.hideDelay),s(3),c("matTooltipPosition",a.materialConfig.tooltip.position)("matTooltipShowDelay",a.materialConfig.tooltip.showDelay)("matTooltipHideDelay",a.materialConfig.tooltip.hideDelay)}}var Ni=(()=>{class o{materialConfig;service;bottomSheet;fb;formGroup=Me(new I({}));formAudios=F(()=>this.formGroup().get("audios"));formArray=F(()=>this.formGroup().get("questionList"));audiosUrl=b([]);isFileLoading=b(!1);files=b([]);audioFiles=b([]);constructor(e,i,t,a){this.materialConfig=e,this.service=i,this.bottomSheet=t,this.fb=a}get audioFilesName(){return this.formAudios().value.map(e=>typeof e!="string"?e?.name:"").join(", ")}ngOnInit(){this.firstInitFiles()}getNeitherField(e){let i=e.get("neither");return i?i.value:[]}onInputFileChange(e){let i=e.files;i?.length&&this.readFile(i)}onAudioInputChange(e){let i=e.files;i?.length&&this.readAudioFile(i)}addQuestion(){this.openBottomSheet().pipe(M(1),le(e=>!!e),se(e=>{this.formArray().push(e)})).subscribe()}updateQuestion(e){let i=this.formArray().get(""+e),a={formGroup:Ke(i),mode:"update"};this.openBottomSheet(a).pipe(M(1),le(d=>!!d),se(d=>{this.updateFormControls(e,d)})).subscribe()}removeQuestion(e){this.formArray().removeAt(e)}reset(){ae(this.formGroup())}openBottomSheet(e){return e||(e={formGroup:this.fb.group({description:["",[h.required]],answer:["",[h.required]],neither:this.fb.array([],[h.required])}),mode:"add"}),this.bottomSheet.open(Ze,{data:e}).afterDismissed()}updateFormControls(e,i){let t=this.formArray().get(""+e);for(let a of Object.keys(i.value)){let d=i.controls[a];t.setControl(a,Fe(d))}}readFile(e){let i=[],t=[];this.cleanFiles(),this.isFileLoading.set(!0);for(let a in e)if(e[a]instanceof File){if(Ie(e[a],this.files()))continue;this.files().push(e[a]),t.push(e[a].name),i.push(this.service.excelFormGroup(e[a]))}this.setFormArray(i),this.setFilesName(t)}setFormArray(e){Ae(...e).pipe(M(1)).subscribe(i=>{i.flat().forEach(a=>{this.formArray().push(a)}),this.isFileLoading.set(!1)})}setFilesName(e){let i=this.formGroup().get("fileName");i?.value?.trim()&&e.push(i.value),i?.patchValue(e.join(", "))}setAudioFilesName(e){let i=this.formGroup().get("audioFileName");i?.value?.trim()&&e.push(i.value),i?.patchValue(e.join(", "))}cleanFiles(){this.formArray().length||this.files.set([])}readAudioFile(e){let i=0,t=[];for(;e.item(i);){let a=e.item(i),d=Ie(a,this.audioFiles());if(!a||d){i++;continue}t.push(a.name),this.audioFiles().push(a),this.formAudios().push(this.fb.control(a,Ai("mp3"))),this.audiosUrl().push(lt(a)),i++}this.setAudioFilesName(t)}firstInitFiles(){let e=this.formAudios().value;!e||e.length<=0||e.forEach(i=>{this.audiosUrl.update(t=>[i,...t])})}static \u0275fac=function(i){return new(i||o)(y(q),y(bt),y(qe),y(Q))};static \u0275cmp=k({type:o,selectors:[["comp-file-listening"]],inputs:{formGroup:[ve.SignalBased,"formGroup"]},standalone:!0,features:[Z([bt]),j],decls:42,vars:17,consts:[["audio_input",""],["f_input",""],[3,"formGroup"],["matTooltip","Upload listening audio file (.mp3)","mat-icon-button","","matPrefix","",3,"click","matTooltipPosition","matTooltipShowDelay","matTooltipHideDelay"],["type","text","readonly","","matInput","",3,"value"],["type","file","multiple","","hidden","","accept","audio/*",3,"change"],["matTooltip","Upload grammar questions 'Excel' files","mat-icon-button","","matPrefix","",3,"click","matTooltipPosition","matTooltipShowDelay","matTooltipHideDelay"],["type","text","readonly","","matInput","","formControlName","fileName"],["type","file","multiple","","hidden","","accept",".xlsx",3,"change"],[1,"main-actions"],["matTooltip","Add new question","mat-mini-fab","","color","primary",3,"click","matTooltipPosition","matTooltipShowDelay","matTooltipHideDelay"],["type","reset","mat-raised-button","","color","accent","matTooltip","Reset Grammar form",3,"click","disabled","matTooltipPosition","matTooltipShowDelay","matTooltipHideDelay"],["controls","",3,"src"],["formControlName","answer"],[3,"value"],["matTooltip","Update current question","mat-icon-button","","color","warn","type","button",3,"click","matTooltipPosition","matTooltipShowDelay","matTooltipHideDelay"],["matTooltip","Remove current question","mat-icon-button","","color","warn","type","button",3,"click","matTooltipPosition","matTooltipShowDelay","matTooltipHideDelay"]],template:function(i,t){if(i&1){let a=D();r(0,"form",2)(1,"mat-form-field")(2,"mat-label"),l(3,"Audio Files Name"),n(),r(4,"button",3),f("click",function(){g(a);let u=A(9);return w(u.click())}),r(5,"mat-icon"),l(6,"audio_file"),n()(),_(7,"input",4),r(8,"input",5,0),f("change",function(){g(a);let u=A(9);return w(t.onAudioInputChange(u))}),n(),r(10,"mat-error"),l(11,"this field is required"),n()(),T(12,lo,2,0),r(13,"mat-form-field")(14,"mat-label"),l(15,"Files Name"),n(),r(16,"button",6),f("click",function(){g(a);let u=A(21);return w(u.click())}),r(17,"mat-icon"),l(18,"upload_file"),n()(),_(19,"input",7),r(20,"input",8,1),f("change",function(){g(a);let u=A(21);return w(t.onInputFileChange(u))}),n(),r(22,"mat-error"),l(23,"this field is required"),n()(),r(24,"mat-card")(25,"mat-card-header")(26,"mat-card-title"),l(27,"Question List"),n(),r(28,"mat-card-subtitle"),l(29,"Grammar addeded question list: "),r(30,"b"),l(31),n(),l(32," question"),n()(),r(33,"mat-card-content"),G(34,mo,19,9,"form",2,X),n(),r(36,"mat-card-actions",9)(37,"button",10),f("click",function(){return g(a),w(t.addQuestion())}),r(38,"mat-icon"),l(39,"add"),n()(),r(40,"button",11),f("click",function(){return g(a),w(t.reset())}),l(41," Reset "),n()()()()}i&2&&(c("formGroup",t.formGroup()),s(4),c("matTooltipPosition",t.materialConfig.tooltip.position)("matTooltipShowDelay",t.materialConfig.tooltip.showDelay)("matTooltipHideDelay",t.materialConfig.tooltip.hideDelay),s(3),c("value",t.audioFilesName),s(5),S(12,t.formAudios().controls.length>0?12:-1),s(4),c("matTooltipPosition",t.materialConfig.tooltip.position)("matTooltipShowDelay",t.materialConfig.tooltip.showDelay)("matTooltipHideDelay",t.materialConfig.tooltip.hideDelay),s(15),N(t.formArray().controls.length),s(3),E(t.formArray().controls),s(3),c("matTooltipPosition",t.materialConfig.tooltip.position)("matTooltipShowDelay",t.materialConfig.tooltip.showDelay)("matTooltipHideDelay",t.materialConfig.tooltip.hideDelay),s(3),c("disabled",t.formGroup().untouched)("matTooltipPosition",t.materialConfig.tooltip.position)("matTooltipShowDelay",t.materialConfig.tooltip.showDelay)("matTooltipHideDelay",t.materialConfig.tooltip.hideDelay))},dependencies:[J,K,z,Y,re,we,R,te,H,Se,ee,me,ue,ce,fe,de,pe,P,W,De,ke,Ge,U,he,O,B,ie,oe,ge,Ve,L,V,Re,Pe],styles:["mat-card-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px}mat-radio-group[_ngcontent-%COMP%]{display:flex;flex-direction:column}mat-form-field[_ngcontent-%COMP%]{width:100%}mat-spinner[_ngcontent-%COMP%]{margin-left:auto!important;margin-right:auto!important}audio[_ngcontent-%COMP%]{width:100%}audio[_ngcontent-%COMP%] + audio[_ngcontent-%COMP%]{margin-top:10px}.main-actions[_ngcontent-%COMP%]{justify-content:space-between}"]})}return o})();function po(o,p){o&1&&(r(0,"mat-error"),l(1,"Theme field is required"),n())}function co(o,p){o&1&&(r(0,"p")(1,"i"),l(2,"* Fill theme field"),n()())}function uo(o,p){o&1&&(r(0,"s")(1,"p")(2,"i"),l(3,"* Fill theme field"),n()()())}var xi=(()=>{class o{materialConfig;sheetData;bottomSheetRef;formControl=F(()=>this.sheetData.formControl);sumitTitle=F(()=>this.sheetData.mode==="update"?"update":"add");constructor(e,i,t){this.materialConfig=e,this.sheetData=i,this.bottomSheetRef=t}ngOnInit(){this.bottomSheetRef.disableClose=!0}close(e){this.bottomSheetRef.dismiss(!1),e.preventDefault()}submit(){this.bottomSheetRef.dismiss(this.formControl())}reset(){this.formControl().reset()}static \u0275fac=function(i){return new(i||o)(y(q),y(gt),y(wt))};static \u0275cmp=k({type:o,selectors:[["comp-sheet-writing"]],standalone:!0,features:[Z([]),j],decls:23,vars:18,consts:[["matInput","","placeholder","new writing theme",3,"formControl","formatInput"],["matTooltip","Required tasks for adding new question",3,"matTooltipPosition","matTooltipShowDelay","matTooltipHideDelay"],["matTooltip","Clear new question form","mat-raised-button","","color","accent","type","reset",3,"click","matTooltipPosition","matTooltipShowDelay","matTooltipHideDelay"],["align","end"],["mat-raised-button","","type","submit","color","primary","matTooltip","Add question to ''Question List''",3,"click","matTooltipPosition","matTooltipShowDelay","matTooltipHideDelay","disabled"],["matTooltip","Close ''add questions'' popup","mat-raised-button","","type","button","color","warn",3,"click","matTooltipPosition","matTooltipShowDelay","matTooltipHideDelay"]],template:function(i,t){i&1&&(r(0,"mat-card")(1,"mat-card-header")(2,"mat-card-title"),l(3,"Add Theme"),n(),r(4,"mat-card-subtitle"),l(5,"Add new writing them for this folder"),n()(),r(6,"mat-card-content")(7,"mat-form-field")(8,"mat-label"),l(9,"Theme"),n(),_(10,"input",0),T(11,po,2,0,"mat-error"),n(),r(12,"mat-list",1),T(13,co,3,0,"p")(14,uo,4,0),n()(),r(15,"mat-card-actions")(16,"button",2),f("click",function(){return t.reset()}),l(17," Reset "),n()()(),r(18,"mat-nav-list",3)(19,"button",4),f("click",function(){return t.submit()}),l(20),n(),r(21,"button",5),f("click",function(d){return t.close(d)}),l(22," Close "),n()()),i&2&&(s(10),c("formControl",t.formControl())("formatInput",t.formControl()),s(),S(11,t.formControl().hasError("required")?11:-1),s(),c("matTooltipPosition",t.materialConfig.tooltip.position)("matTooltipShowDelay",t.materialConfig.tooltip.showDelay)("matTooltipHideDelay",t.materialConfig.tooltip.hideDelay),s(),S(13,t.formControl().hasError("required")?13:14),s(3),c("matTooltipPosition",t.materialConfig.tooltip.position)("matTooltipShowDelay",t.materialConfig.tooltip.showDelay)("matTooltipHideDelay",t.materialConfig.tooltip.hideDelay),s(3),c("matTooltipPosition",t.materialConfig.tooltip.position)("matTooltipShowDelay",t.materialConfig.tooltip.showDelay)("matTooltipHideDelay",t.materialConfig.tooltip.hideDelay)("disabled",t.formControl().invalid),s(),x(" ",t.sumitTitle()," "),s(),c("matTooltipPosition",t.materialConfig.tooltip.position)("matTooltipShowDelay",t.materialConfig.tooltip.showDelay)("matTooltipHideDelay",t.materialConfig.tooltip.hideDelay))},dependencies:[J,K,z,Y,re,R,te,ee,me,ue,ce,fe,de,pe,P,De,ft,dt,ut,L,V,ht,U,O,B,xe,yt],styles:["mat-form-field[_ngcontent-%COMP%]{width:100%}mat-nav-list[_ngcontent-%COMP%] > *[_ngcontent-%COMP%] + *[_ngcontent-%COMP%]{margin-left:8px}"]})}return o})();var Tt=(()=>{class o{fb;constructor(e){this.fb=e}excelFormGroup(e){return je(e).pipe(M(1),be(i=>{let t=["theme"],a=this.formatGrammar(Ee(i,t)),d=[];return a.forEach(u=>{u.theme&&d.push(this.fb.control(u.theme,[h.required]))}),d}))}formatGrammar(e){for(let i of e)i.theme=ye(i.theme);return e}static \u0275fac=function(i){return new(i||o)(Ne(Q))};static \u0275prov=Te({token:o,factory:o.\u0275fac})}return o})();function ho(o,p){if(o&1){let e=D();r(0,"mat-card")(1,"mat-card-header")(2,"mat-card-subtitle"),l(3),n(),r(4,"mat-card-title"),l(5),n()(),_(6,"mat-divider"),r(7,"mat-card-actions")(8,"button",8),f("click",function(){let t=g(e).$index,a=C();return w(a.updateTheme(t))}),r(9,"mat-icon"),l(10,"update"),n()(),r(11,"button",9),f("click",function(){let t=g(e).$index,a=C();return w(a.removeTheme(t))}),r(12,"mat-icon"),l(13,"delete"),n()()()()}if(o&2){let e=p.$implicit,i=p.$index,t=C();s(3),x("$",i+1,"."),s(2),x(" ",e==null?null:e.value," "),s(3),c("matTooltipPosition",t.materialConfig.tooltip.position)("matTooltipShowDelay",t.materialConfig.tooltip.showDelay)("matTooltipHideDelay",t.materialConfig.tooltip.hideDelay),s(3),c("matTooltipPosition",t.materialConfig.tooltip.position)("matTooltipShowDelay",t.materialConfig.tooltip.showDelay)("matTooltipHideDelay",t.materialConfig.tooltip.hideDelay)}}function go(o,p){o&1&&_(0,"mat-spinner")}var ki=(()=>{class o{materialConfig;service;bottomSheet;fb;formGroup=Me(new I({}));formArray=F(()=>this.formGroup().get("themes"));isFileLoading=b(!1);files=b([]);constructor(e,i,t,a){this.materialConfig=e,this.service=i,this.bottomSheet=t,this.fb=a}ngOnInit(){}onInputFileChange(e){let i=e.files;i?.length&&this.readFile(i)}addQuestion(){this.openBottomSheet().pipe(M(1),le(e=>!!e),se(e=>{this.formArray().push(e)})).subscribe()}updateTheme(e){let i=this.formArray().get(""+e),a={formControl:Fe(i),mode:"update"};this.openBottomSheet(a).pipe(M(1),le(d=>!!d),se(d=>{this.updateFormControls(e,d)})).subscribe()}removeTheme(e){this.formArray().removeAt(e)}reset(){ae(this.formGroup())}openBottomSheet(e){return e||(e={formControl:this.fb.control("",h.required),mode:"add"}),this.bottomSheet.open(xi,{data:e}).afterDismissed()}updateFormControls(e,i){this.formArray().setControl(e,Fe(i))}readFile(e){let i=[],t=[];this.cleanFiles(),this.isFileLoading.set(!0);for(let a in e)if(e[a]instanceof File){if(Ie(e[a],this.files()))continue;this.files.update(u=>[...u,e[a]]),t.push(e[a].name),i.push(this.service.excelFormGroup(e[a]))}this.setFormArray(i),this.setFilesName(t)}setFormArray(e){Ae(...e).pipe(M(1)).subscribe(i=>{let t=i.flat();console.log("next: ",t),t.forEach(a=>{this.formArray().push(a)}),this.isFileLoading.set(!1)})}setFilesName(e){let i=this.formGroup().get("fileName");i?.value?.trim()&&e.push(i.value),i?.patchValue(e.join(", "))}cleanFiles(){this.formArray().length||this.files.set([])}static \u0275fac=function(i){return new(i||o)(y(q),y(Tt),y(qe),y(Q))};static \u0275cmp=k({type:o,selectors:[["comp-file-writing"]],inputs:{formGroup:[ve.SignalBased,"formGroup"]},standalone:!0,features:[Z([Tt]),j],decls:31,vars:13,consts:[["f_input",""],[3,"formGroup"],["matTooltip","Upload grammar questions 'Excel' files","mat-icon-button","","matPrefix","",3,"click","matTooltipPosition","matTooltipShowDelay","matTooltipHideDelay"],["type","text","readonly","","matInput","","formControlName","fileName"],["type","file","multiple","","hidden","","accept",".xlsx",3,"change"],[1,"main-actions"],["matTooltip","Add new question","mat-mini-fab","","color","primary",3,"click","matTooltipPosition","matTooltipShowDelay","matTooltipHideDelay"],["type","reset","mat-raised-button","","color","accent","matTooltip","Reset Grammar form",3,"click","disabled","matTooltipPosition","matTooltipShowDelay","matTooltipHideDelay"],["matTooltip","Update current theme","mat-icon-button","","color","warn","type","button",3,"click","matTooltipPosition","matTooltipShowDelay","matTooltipHideDelay"],["matTooltip","Remove current theme","mat-icon-button","","color","warn","type","button",3,"click","matTooltipPosition","matTooltipShowDelay","matTooltipHideDelay"]],template:function(i,t){if(i&1){let a=D();r(0,"form",1)(1,"mat-form-field")(2,"mat-label"),l(3,"Files Name"),n(),r(4,"button",2),f("click",function(){g(a);let u=A(9);return w(u.click())}),r(5,"mat-icon"),l(6,"upload_file"),n()(),_(7,"input",3),r(8,"input",4,0),f("change",function(){g(a);let u=A(9);return w(t.onInputFileChange(u))}),n(),r(10,"mat-error"),l(11,"this field is required"),n()(),r(12,"mat-card")(13,"mat-card-header")(14,"mat-card-title"),l(15,"Question List"),n(),r(16,"mat-card-subtitle"),l(17," Writing addeded added themes list: "),r(18,"b"),l(19),n(),l(20," question"),n()(),r(21,"mat-card-content"),G(22,ho,14,8,"mat-card",null,X),T(24,go,1,0,"mat-spinner"),n(),r(25,"mat-card-actions",5)(26,"button",6),f("click",function(){return g(a),w(t.addQuestion())}),r(27,"mat-icon"),l(28,"add"),n()(),r(29,"button",7),f("click",function(){return g(a),w(t.reset())}),l(30," Reset "),n()()()()}i&2&&(c("formGroup",t.formGroup()),s(4),c("matTooltipPosition",t.materialConfig.tooltip.position)("matTooltipShowDelay",t.materialConfig.tooltip.showDelay)("matTooltipHideDelay",t.materialConfig.tooltip.hideDelay),s(15),N(t.formArray().controls.length),s(3),E(t.formArray().controls),s(2),S(24,t.isFileLoading()?24:-1),s(2),c("matTooltipPosition",t.materialConfig.tooltip.position)("matTooltipShowDelay",t.materialConfig.tooltip.showDelay)("matTooltipHideDelay",t.materialConfig.tooltip.hideDelay),s(3),c("disabled",t.formGroup().untouched)("matTooltipPosition",t.materialConfig.tooltip.position)("matTooltipShowDelay",t.materialConfig.tooltip.showDelay)("matTooltipHideDelay",t.materialConfig.tooltip.hideDelay))},dependencies:[J,K,z,Y,re,we,R,te,H,Se,ee,me,ue,ce,fe,de,pe,P,W,U,he,O,B,ie,oe,ge,Ve,L,V,Re,Pe,Xe,Je],styles:["mat-card-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px}mat-radio-group[_ngcontent-%COMP%]{display:flex;flex-direction:column}mat-form-field[_ngcontent-%COMP%]{width:100%}mat-spinner[_ngcontent-%COMP%]{margin-left:auto!important;margin-right:auto!important}.main-actions[_ngcontent-%COMP%]{justify-content:space-between}"]})}return o})();function Gi(o){return[{id:1,title:"Grammar",description:"Add grammar questions",component:Fi,inputs:{formGroup:o.get(m.GRAMMAR)}},{id:2,title:"Reading",description:"Add reading questions",component:Ii,inputs:{formGroup:o.get(m.READING)}},{id:3,title:"Listening",description:"Add listening questions",component:Ni,inputs:{formGroup:o.get(m.LISTENING)}},{id:4,title:"Dictionary",description:"Add dictionary questions",component:Si,inputs:{formGroup:o.get(m.DICTIONARY)}},{id:5,title:"Writing",description:"Add writing questions",component:ki,inputs:{formGroup:o.get(m.WRITING)}}]}var Ei=(()=>{class o{constructor(){}static \u0275fac=function(i){return new(i||o)};static \u0275prov=Te({token:o,factory:o.\u0275fac})}return o})();var wo=(o,p)=>p.id;function yo(o,p){if(o&1&&(r(0,"div",3),_(1,"img",14),n()),o&2){let e=C();s(),c("src",e.avatarUrl()||e.formAvatar().value,$e)}}function _o(o,p){}function Co(o,p){o&1&&T(0,_o,0,0,"ng-template")}function bo(o,p){if(o&1&&(r(0,"mat-expansion-panel")(1,"mat-expansion-panel-header")(2,"mat-panel-title"),l(3),n(),r(4,"mat-panel-description"),l(5),n()(),T(6,Co,1,0,null,15),n()),o&2){let e=p.$implicit;s(3),N(e.title),s(2),x(" ",e.description," "),s(),c("ngComponentOutlet",e.component)("ngComponentOutletInputs",e.inputs)}}var et=(()=>{class o{dialogData;materialConfig;Activities=b(m);formGroup=F(()=>this.dialogData.formGroup);formAvatar=F(()=>this.formGroup().get("avatar"));activitiesExpansion=F(()=>Gi(this.formGroup()));avatarUrl=b("");tiles=[{text:"One",cols:3,rows:1,color:"lightblue"},{text:"Two",cols:1,rows:2,color:"lightgreen"},{text:"Three",cols:1,rows:1,color:"lightpink"},{text:"Four",cols:2,rows:1,color:"#DDBDF1"}];constructor(e,i){this.dialogData=e,this.materialConfig=i}get avatarName(){return this.formAvatar()?.value?.name?this.formAvatar().value.name:""}ngOnInit(){}onInputFileChange(e){let i=e.files;if(!i?.item(0))return;let t=i.item(0);this.formAvatar().patchValue(t),this.avatarUrl.set(lt(this.formAvatar().value)),console.log("formGroup: ",this.formGroup())}onSubmit(){}reset(){ae(this.formGroup())}static \u0275fac=function(i){return new(i||o)(y($t),y(q))};static \u0275cmp=k({type:o,selectors:[["comp-create-testing"]],standalone:!0,features:[Z([Ei]),j],decls:36,vars:9,consts:[["f_input",""],["novalidate","",3,"ngSubmit","formGroup"],["mat-dialog-title",""],[1,"avatar-image"],["matTooltip","Upload cover image for document","mat-icon-button","","type","button","matPrefix","",3,"click","matTooltipPosition","matTooltipShowDelay","matTooltipHideDelay"],["type","text","readonly","","matInput","",3,"value"],["type","file","multiple","","hidden","","accept","image/*",3,"change"],["matPrefix",""],["matInput","","formControlName","label","placeholder","Write label of document"],["matInput","","formControlName","description","rows","10","placeholder","Write description of document"],[2,"color","transparent","user-select","none"],["align","end"],["mat-raised-button","","color","primary","type","submit",3,"mat-dialog-close","disabled"],["mat-raised-button","","color","warn","type","reset",3,"click","disabled"],["alt","",3,"src"],[4,"ngComponentOutlet","ngComponentOutletInputs"]],template:function(i,t){if(i&1){let a=D();r(0,"form",1),f("ngSubmit",function(){return g(a),w(t.onSubmit())}),r(1,"h2",2),l(2,"Testing Questions"),n(),r(3,"mat-dialog-content"),T(4,yo,2,1,"div",3),r(5,"mat-form-field")(6,"mat-label"),l(7,"Files Name"),n(),r(8,"button",4),f("click",function(){g(a);let u=A(13);return w(u.click())}),r(9,"mat-icon"),l(10,"add_photo_alternate"),n()(),_(11,"input",5),r(12,"input",6,0),f("change",function(){g(a);let u=A(13);return w(t.onInputFileChange(u))}),n(),r(14,"mat-error"),l(15,"this field is required"),n()(),r(16,"mat-form-field")(17,"mat-icon",7),l(18,"label"),n(),r(19,"mat-label"),l(20,"Label"),n(),_(21,"input",8),n(),r(22,"mat-form-field")(23,"mat-label"),l(24,"Description"),n(),_(25,"textarea",9),n(),r(26,"mat-accordion"),G(27,bo,7,4,"mat-expansion-panel",null,wo),n(),r(29,"p",10),l(30," Lorem ipsum dolor, sit amet consectetur adipisicing elit. Totam, nemo. Laboriosam ipsa molestiae voluptatem quasi? Id reiciendis, ut repellat consequatur sapiente voluptatibus temporibus, modi ullam quas sit, amet est consequuntur. "),n()(),r(31,"mat-dialog-actions",11)(32,"button",12),l(33," Submit "),n(),r(34,"button",13),f("click",function(){return g(a),w(t.reset())}),l(35," Reset "),n()()()}i&2&&(c("formGroup",t.formGroup()),s(4),S(4,t.avatarUrl()||t.formAvatar().value?4:-1),s(4),c("matTooltipPosition",t.materialConfig.tooltip.position)("matTooltipShowDelay",t.materialConfig.tooltip.showDelay)("matTooltipHideDelay",t.materialConfig.tooltip.hideDelay),s(3),c("value",t.avatarName),s(16),E(t.activitiesExpansion()),s(5),c("mat-dialog-close",t.formGroup().value)("disabled",t.formGroup().invalid),s(2),c("disabled",t.formGroup().untouched))},dependencies:[qt,J,K,z,Y,re,we,R,te,H,ee,Kt,Qt,Ut,zt,Yt,P,W,U,he,O,B,ie,oe,ge,Mi,vi,_i,Ci,Ti,bi,L,V],styles:["mat-dialog-content[_ngcontent-%COMP%]{display:flex;flex-direction:column}.avatar-image[_ngcontent-%COMP%]{position:relative;width:150px;height:150px;min-height:150px;margin:10px 0}.avatar-image[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover}"]})}return o})();var ot=class extends Ot{data=[];paginator;sort;constructor(){super()}connect(){if(this.paginator&&this.sort)return xt(At(this.data),this.paginator.page,this.sort.sortChange).pipe(be(()=>this.getPagedData(this.getSortedData([...this.data]))));throw Error("Please set the paginator and sort on the data source before connecting.")}disconnect(){}getPagedData(p){if(this.paginator){let e=this.paginator.pageIndex*this.paginator.pageSize;return p.splice(e,this.paginator.pageSize)}else return p}getSortedData(p){return!this.sort?.active||this.sort.direction===""?p:p.sort((e,i)=>{let t=this.sort?.direction==="asc";switch(this.sort?.active){case"label":return Pi(e.label,i.label,t);case"_id":return Pi(e._id,i._id,t);default:return 0}})}};function Pi(o,p,e){return!o||!p?-1:(o<p?-1:1)*(e?1:-1)}var To=()=>[5,10,20];function vo(o,p){o&1&&(r(0,"th",11),l(1," Cover "),n())}function Mo(o,p){if(o&1&&_(0,"img",13),o&2){let e=C().$implicit,i=C(2);c("matTooltipPosition",i.materialConfig.tooltip.position)("matTooltipShowDelay",i.materialConfig.tooltip.showDelay)("matTooltipHideDelay",i.materialConfig.tooltip.hideDelay)("src",e.avatar,$e)}}function So(o,p){if(o&1&&(r(0,"td",12),T(1,Mo,1,4,"img",13),n()),o&2){let e=p.$implicit;s(),S(1,e.avatar?1:-1)}}function Do(o,p){o&1&&(r(0,"th",11),l(1," Label "),n())}function Fo(o,p){if(o&1&&(r(0,"td",12)(1,"div",14),l(2),Pt(3,"titlecase"),n()()),o&2){let e=p.$implicit,i=C(2);s(),c("matTooltipPosition",i.materialConfig.tooltip.position)("matTooltipShowDelay",i.materialConfig.tooltip.showDelay)("matTooltipHideDelay",i.materialConfig.tooltip.hideDelay),s(),x(" ",Rt(3,4,e.label)," ")}}function Io(o,p){o&1&&(r(0,"th",11),l(1," Update "),n())}function Ao(o,p){if(o&1){let e=D();r(0,"td",12)(1,"button",15),f("click",function(){let t=g(e).$implicit,a=C(2);return w(a.update(t._id))}),r(2,"mat-icon"),l(3,"open_in_new"),n()()()}if(o&2){let e=C(2);s(),c("matTooltipPosition",e.materialConfig.tooltip.position)("matTooltipShowDelay",e.materialConfig.tooltip.showDelay)("matTooltipHideDelay",e.materialConfig.tooltip.hideDelay)}}function No(o,p){o&1&&_(0,"tr",16)}function xo(o,p){o&1&&_(0,"tr",17)}function ko(o,p){o&1&&(r(0,"tr"),l(1,' class="mat-row" '),r(2,"td",18),l(3,"No data matching the filter"),n()())}function Go(o,p){if(o&1&&(r(0,"table",1),rt(1,2),T(2,vo,2,0,"th",3)(3,So,2,1,"td",4),at(),rt(4,5),T(5,Do,2,0,"th",3)(6,Fo,4,6,"td",4),at(),rt(7,6),T(8,Io,2,0,"th",3)(9,Ao,4,3,"td",4),at(),T(10,No,1,0,"tr",7)(11,xo,1,0,"tr",8)(12,ko,4,0,"tr",9),n(),_(13,"mat-paginator",10,0)),o&2){let e=C();s(10),c("matHeaderRowDef",e.displayedColumns()),s(),c("matRowDefColumns",e.displayedColumns()),s(2),c("length",e.list().length)("pageIndex",0)("pageSize",10)("pageSizeOptions",jt(6,To))}}var Ri=class St{materialConfig;dialog;list=Me.required();valueChange=Et();listChange$=fi(this.list);listChange;dialogRef;formGroup=b(new I({avatar:new v(""),label:new v("",[h.required]),description:new v(""),[m.GRAMMAR]:new I({fileName:new v(""),questionList:new $([],h.required)}),[m.READING]:new I({fileName:new v(""),questionList:new $([],[h.required]),readText:new $([],[h.required])}),[m.LISTENING]:new I({fileName:new v(""),questionList:new $([],[h.required]),audios:new $([],[h.required])}),[m.DICTIONARY]:new I({fileName:new v(""),questionList:new $([],[h.required])}),[m.WRITING]:new I({fileName:new v(""),themes:new $([],[h.required])})}));displayedColumns=b(["avatar","label","_id"]);paginator;sort;table;dataSource=b(new ot);constructor(p,e){this.materialConfig=p,this.dialog=e}ngAfterViewInit(){this.tableInit(),this.onListChange()}update(p){let e=this.list().findIndex(i=>i._id===p);e!==-1&&(ae(this.formGroup()),di(this.dialogRef),this.dialogRef=this.openDialog(this.list()[e]).subscribe(i=>{i&&(this.valueChange.emit(i),this.tableInit())}))}openDialog(p){let i={formGroup:ui(p,this.formGroup())};return this.dialog.open(et,{data:i}).afterClosed()}tableInit(){this.dataSource.set(new ot),this.dataSource().data=this.list(),this.dataSource().sort=this.sort,this.dataSource().paginator=this.paginator,this.table.dataSource=this.dataSource()}onListChange(){this.listChange=this.listChange$.subscribe(()=>{this.tableInit()})}static \u0275fac=function(e){return new(e||St)(y(q),y(st))};static \u0275cmp=k({type:St,selectors:[["comp-testing-table"]],viewQuery:function(e,i){if(e&1&&(Qe(pt,5),Qe(ct,5),Qe(mt,5)),e&2){let t;Ue(t=Ye())&&(i.paginator=t.first),Ue(t=Ye())&&(i.sort=t.first),Ue(t=Ye())&&(i.table=t.first)}},inputs:{list:[ve.SignalBased,"list"]},outputs:{valueChange:"valueChange"},standalone:!0,features:[j],decls:1,vars:1,consts:[["paginator",""],["mat-table","","matSort",""],["matColumnDef","avatar"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","label"],["matColumnDef","_id"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[4,"matNoDataRow"],["aria-label","Select page",3,"length","pageIndex","pageSize","pageSizeOptions"],["mat-header-cell",""],["mat-cell",""],["loading","lazy","matTooltip","Cover current document","alt","",1,"avatar",3,"matTooltipPosition","matTooltipShowDelay","matTooltipHideDelay","src"],["matTooltip","Label current document",3,"matTooltipPosition","matTooltipShowDelay","matTooltipHideDelay"],["matTooltip","Update current document","mat-icon-button","",3,"click","matTooltipPosition","matTooltipShowDelay","matTooltipHideDelay"],["mat-header-row",""],["mat-row",""],["colspan","4",1,"mat-cell"]],template:function(e,i){e&1&&T(0,Go,15,7),e&2&&S(0,i.dataSource()?0:-1)},dependencies:[Vt,si,mt,Zt,oi,ei,Xt,ri,ti,ii,ai,ni,li,mi,pt,pi,ct,P,W,L,V,R,H],styles:["[_nghost-%COMP%]{display:block;width:100%}.avatar[_ngcontent-%COMP%]{display:block;width:42px;height:42px;border-radius:50%;object-fit:cover}td[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}div[_ngcontent-%COMP%]{width:min-content}"]})};Ri=It([ci()],Ri);var qi=[{_id:1,avatar:"",label:"Testing 001",description:"Testing description 001",[m.GRAMMAR]:{fileName:"grammar fileName",questionList:[{description:"I __ your friend.",answer:"am",neither:["not","wet","is"]},{description:"We __ the students of school.",answer:"are",neither:["not","aren`t","is"]},{description:"we __ new jacket",answer:"bougth",neither:["feed","cell","futere"]}]},[m.READING]:{fileName:"reading fileName",readText:["i am paragraph 1","i am paragraph 2","i am paragraph 3"],questionList:[{description:"who was send new jacket to Ali ?.",answer:"brother",neither:["mother","father","neighbor"]},{description:"When was bor Ali",answer:"02.02.2002",neither:["20.01.2001","15.12.2000","11.12.2003"]},{description:"What is the favorite subject of Ali",answer:"biology",neither:["computer information","physical","chemistry"]},{description:"what is name mother ali",answer:"Alisa",neither:["Marina","Violite","Inna"]}]},[m.LISTENING]:{fileName:"file name001 listening",audios:["assets/001.mp3"],questionList:[{description:"who was send new jacket to Ali ?.",answer:"brother",neither:["mother","father","neighbor"]},{description:"When was bor Ali",answer:"02.02.2002",neither:["20.01.2001","15.12.2000","11.12.2003"]},{description:"What is the favorite subject of Ali",answer:"biology",neither:["computer information","physical","chemistry"]},{description:"what is name mother ali",answer:"Alisa",neither:["Marina","Violite","Inna"]}]},[m.DICTIONARY]:{fileName:"Dictionary file.",questionList:[{tajik:"Salom",russian:"Privet",english:"Hello"},{tajik:"Baland",russian:"Visokiy",english:"High"},{tajik:"Duxtar",russian:"Devushka",english:"girl"},{tajik:"pisar",russian:"malchik",english:"boy"}]},[m.WRITING]:{fileName:"Writing File",themes:["My favorite subject","My favorite music","My favorite animal"]}},{_id:2,avatar:"assets/dictionary.png",label:"Testing 002",description:"Testing description 002",[m.GRAMMAR]:{fileName:"grammar fileName",questionList:[{description:"I __ your friend.",answer:"am",neither:["not","wet","is"]},{description:"We __ the students of school.",answer:"are",neither:["not","aren`t","is"]},{description:"we __ new jacket",answer:"bougth",neither:["feed","cell","futere"]}]},[m.READING]:{fileName:"reading fileName",readText:["i am paragraph 1","i am paragraph 2","i am paragraph 3"],questionList:[{description:"who was send new jacket to Ali ?.",answer:"brother",neither:["mother","father","neighbor"]},{description:"When was bor Ali",answer:"02.02.2002",neither:["20.01.2001","15.12.2000","11.12.2003"]},{description:"What is the favorite subject of Ali",answer:"biology",neither:["computer information","physical","chemistry"]},{description:"what is name mother ali",answer:"Alisa",neither:["Marina","Violite","Inna"]}]},[m.LISTENING]:{fileName:"file name001 listening",audios:["assets/001.mp3"],questionList:[{description:"who was send new jacket to Ali ?.",answer:"brother",neither:["mother","father","neighbor"]},{description:"When was bor Ali",answer:"02.02.2002",neither:["20.01.2001","15.12.2000","11.12.2003"]},{description:"What is the favorite subject of Ali",answer:"biology",neither:["computer information","physical","chemistry"]},{description:"what is name mother ali",answer:"Alisa",neither:["Marina","Violite","Inna"]}]},[m.DICTIONARY]:{fileName:"Dictionary file.",questionList:[{tajik:"Salom",russian:"Privet",english:"Hello"},{tajik:"Baland",russian:"Visokiy",english:"High"},{tajik:"Duxtar",russian:"Devushka",english:"girl"},{tajik:"pisar",russian:"malchik",english:"boy"}]},[m.WRITING]:{fileName:"Writing File",themes:["My favorite subject","My favorite music","My favorite animal"]}},{_id:3,avatar:"assets/dictionary.png",label:"Testing 003",description:"Testing description 003",[m.GRAMMAR]:{fileName:"grammar fileName",questionList:[{description:"I __ your friend.",answer:"am",neither:["not","wet","is"]},{description:"We __ the students of school.",answer:"are",neither:["not","aren`t","is"]},{description:"we __ new jacket",answer:"bougth",neither:["feed","cell","futere"]}]},[m.READING]:{fileName:"reading fileName",readText:["i am paragraph 1","i am paragraph 2","i am paragraph 3"],questionList:[{description:"who was send new jacket to Ali ?.",answer:"brother",neither:["mother","father","neighbor"]},{description:"When was bor Ali",answer:"02.02.2002",neither:["20.01.2001","15.12.2000","11.12.2003"]},{description:"What is the favorite subject of Ali",answer:"biology",neither:["computer information","physical","chemistry"]},{description:"what is name mother ali",answer:"Alisa",neither:["Marina","Violite","Inna"]}]},[m.LISTENING]:{fileName:"file name001 listening",audios:["assets/001.mp3"],questionList:[{description:"who was send new jacket to Ali ?.",answer:"brother",neither:["mother","father","neighbor"]},{description:"When was bor Ali",answer:"02.02.2002",neither:["20.01.2001","15.12.2000","11.12.2003"]},{description:"What is the favorite subject of Ali",answer:"biology",neither:["computer information","physical","chemistry"]},{description:"what is name mother ali",answer:"Alisa",neither:["Marina","Violite","Inna"]}]},[m.DICTIONARY]:{fileName:"Dictionary file.",questionList:[{tajik:"Salom",russian:"Privet",english:"Hello"},{tajik:"Baland",russian:"Visokiy",english:"High"},{tajik:"Duxtar",russian:"Devushka",english:"girl"},{tajik:"pisar",russian:"malchik",english:"boy"}]},[m.WRITING]:{fileName:"Writing File",themes:["My favorite subject","My favorite music","My favorite animal"]}},{_id:4,avatar:"assets/dictionary.png",label:"Testing 004",description:"Testing description 004",[m.GRAMMAR]:{fileName:"grammar fileName",questionList:[{description:"I __ your friend.",answer:"am",neither:["not","wet","is"]},{description:"We __ the students of school.",answer:"are",neither:["not","aren`t","is"]},{description:"we __ new jacket",answer:"bougth",neither:["feed","cell","futere"]}]},[m.READING]:{fileName:"reading fileName",readText:["i am paragraph 1","i am paragraph 2","i am paragraph 3"],questionList:[{description:"who was send new jacket to Ali ?.",answer:"brother",neither:["mother","father","neighbor"]},{description:"When was bor Ali",answer:"02.02.2002",neither:["20.01.2001","15.12.2000","11.12.2003"]},{description:"What is the favorite subject of Ali",answer:"biology",neither:["computer information","physical","chemistry"]},{description:"what is name mother ali",answer:"Alisa",neither:["Marina","Violite","Inna"]}]},[m.LISTENING]:{fileName:"file name001 listening",audios:["assets/001.mp3"],questionList:[{description:"who was send new jacket to Ali ?.",answer:"brother",neither:["mother","father","neighbor"]},{description:"When was bor Ali",answer:"02.02.2002",neither:["20.01.2001","15.12.2000","11.12.2003"]},{description:"What is the favorite subject of Ali",answer:"biology",neither:["computer information","physical","chemistry"]},{description:"what is name mother ali",answer:"Alisa",neither:["Marina","Violite","Inna"]}]},[m.DICTIONARY]:{fileName:"Dictionary file.",questionList:[{tajik:"Salom",russian:"Privet",english:"Hello"},{tajik:"Baland",russian:"Visokiy",english:"High"},{tajik:"Duxtar",russian:"Devushka",english:"girl"},{tajik:"pisar",russian:"malchik",english:"boy"}]},[m.WRITING]:{fileName:"Writing File",themes:["My favorite subject","My favorite music","My favorite animal"]}},{_id:5,avatar:"assets/dictionary.png",label:"Testing 004",description:"Testing description 004",[m.GRAMMAR]:{fileName:"grammar fileName",questionList:[{description:"I __ your friend.",answer:"am",neither:["not","wet","is"]},{description:"We __ the students of school.",answer:"are",neither:["not","aren`t","is"]},{description:"we __ new jacket",answer:"bougth",neither:["feed","cell","futere"]}]},[m.READING]:{fileName:"reading fileName",readText:["i am paragraph 1","i am paragraph 2","i am paragraph 3"],questionList:[{description:"who was send new jacket to Ali ?.",answer:"brother",neither:["mother","father","neighbor"]},{description:"When was bor Ali",answer:"02.02.2002",neither:["20.01.2001","15.12.2000","11.12.2003"]},{description:"What is the favorite subject of Ali",answer:"biology",neither:["computer information","physical","chemistry"]},{description:"what is name mother ali",answer:"Alisa",neither:["Marina","Violite","Inna"]}]},[m.LISTENING]:{fileName:"file name001 listening",audios:["assets/001.mp3"],questionList:[{description:"who was send new jacket to Ali ?.",answer:"brother",neither:["mother","father","neighbor"]},{description:"When was bor Ali",answer:"02.02.2002",neither:["20.01.2001","15.12.2000","11.12.2003"]},{description:"What is the favorite subject of Ali",answer:"biology",neither:["computer information","physical","chemistry"]},{description:"what is name mother ali",answer:"Alisa",neither:["Marina","Violite","Inna"]}]},[m.DICTIONARY]:{fileName:"Dictionary file.",questionList:[{tajik:"Salom",russian:"Privet",english:"Hello"},{tajik:"Baland",russian:"Visokiy",english:"High"},{tajik:"Duxtar",russian:"Devushka",english:"girl"},{tajik:"pisar",russian:"malchik",english:"boy"}]},[m.WRITING]:{fileName:"Writing File",themes:["My favorite subject","My favorite music","My favorite animal"]}},{_id:6,avatar:"assets/dictionary.png",label:"Testing 004",description:"Testing description 004",[m.GRAMMAR]:{fileName:"grammar fileName",questionList:[{description:"I __ your friend.",answer:"am",neither:["not","wet","is"]},{description:"We __ the students of school.",answer:"are",neither:["not","aren`t","is"]},{description:"we __ new jacket",answer:"bougth",neither:["feed","cell","futere"]}]},[m.READING]:{fileName:"reading fileName",readText:["i am paragraph 1","i am paragraph 2","i am paragraph 3"],questionList:[{description:"who was send new jacket to Ali ?.",answer:"brother",neither:["mother","father","neighbor"]},{description:"When was bor Ali",answer:"02.02.2002",neither:["20.01.2001","15.12.2000","11.12.2003"]},{description:"What is the favorite subject of Ali",answer:"biology",neither:["computer information","physical","chemistry"]},{description:"what is name mother ali",answer:"Alisa",neither:["Marina","Violite","Inna"]}]},[m.LISTENING]:{fileName:"file name001 listening",audios:["assets/001.mp3"],questionList:[{description:"who was send new jacket to Ali ?.",answer:"brother",neither:["mother","father","neighbor"]},{description:"When was bor Ali",answer:"02.02.2002",neither:["20.01.2001","15.12.2000","11.12.2003"]},{description:"What is the favorite subject of Ali",answer:"biology",neither:["computer information","physical","chemistry"]},{description:"what is name mother ali",answer:"Alisa",neither:["Marina","Violite","Inna"]}]},[m.DICTIONARY]:{fileName:"Dictionary file.",questionList:[{tajik:"Salom",russian:"Privet",english:"Hello"},{tajik:"Baland",russian:"Visokiy",english:"High"},{tajik:"Duxtar",russian:"Devushka",english:"girl"},{tajik:"pisar",russian:"malchik",english:"boy"}]},[m.WRITING]:{fileName:"Writing File",themes:["My favorite subject","My favorite music","My favorite animal"]}},{_id:6,avatar:"assets/dictionary.png",label:"Testing 004",description:"Testing description 004",[m.GRAMMAR]:{fileName:"grammar fileName",questionList:[{description:"I __ your friend.",answer:"am",neither:["not","wet","is"]},{description:"We __ the students of school.",answer:"are",neither:["not","aren`t","is"]},{description:"we __ new jacket",answer:"bougth",neither:["feed","cell","futere"]}]},[m.READING]:{fileName:"reading fileName",readText:["i am paragraph 1","i am paragraph 2","i am paragraph 3"],questionList:[{description:"who was send new jacket to Ali ?.",answer:"brother",neither:["mother","father","neighbor"]},{description:"When was bor Ali",answer:"02.02.2002",neither:["20.01.2001","15.12.2000","11.12.2003"]},{description:"What is the favorite subject of Ali",answer:"biology",neither:["computer information","physical","chemistry"]},{description:"what is name mother ali",answer:"Alisa",neither:["Marina","Violite","Inna"]}]},[m.LISTENING]:{fileName:"file name001 listening",audios:["assets/001.mp3"],questionList:[{description:"who was send new jacket to Ali ?.",answer:"brother",neither:["mother","father","neighbor"]},{description:"When was bor Ali",answer:"02.02.2002",neither:["20.01.2001","15.12.2000","11.12.2003"]},{description:"What is the favorite subject of Ali",answer:"biology",neither:["computer information","physical","chemistry"]},{description:"what is name mother ali",answer:"Alisa",neither:["Marina","Violite","Inna"]}]},[m.DICTIONARY]:{fileName:"Dictionary file.",questionList:[{tajik:"Salom",russian:"Privet",english:"Hello"},{tajik:"Baland",russian:"Visokiy",english:"High"},{tajik:"Duxtar",russian:"Devushka",english:"girl"},{tajik:"pisar",russian:"malchik",english:"boy"}]},[m.WRITING]:{fileName:"Writing File",themes:["My favorite subject","My favorite music","My favorite animal"]}},{_id:7,avatar:"assets/dictionary.png",label:"Testing 004",description:"Testing description 004",[m.GRAMMAR]:{fileName:"grammar fileName",questionList:[{description:"I __ your friend.",answer:"am",neither:["not","wet","is"]},{description:"We __ the students of school.",answer:"are",neither:["not","aren`t","is"]},{description:"we __ new jacket",answer:"bougth",neither:["feed","cell","futere"]}]},[m.READING]:{fileName:"reading fileName",readText:["i am paragraph 1","i am paragraph 2","i am paragraph 3"],questionList:[{description:"who was send new jacket to Ali ?.",answer:"brother",neither:["mother","father","neighbor"]},{description:"When was bor Ali",answer:"02.02.2002",neither:["20.01.2001","15.12.2000","11.12.2003"]},{description:"What is the favorite subject of Ali",answer:"biology",neither:["computer information","physical","chemistry"]},{description:"what is name mother ali",answer:"Alisa",neither:["Marina","Violite","Inna"]}]},[m.LISTENING]:{fileName:"file name001 listening",audios:["assets/001.mp3"],questionList:[{description:"who was send new jacket to Ali ?.",answer:"brother",neither:["mother","father","neighbor"]},{description:"When was bor Ali",answer:"02.02.2002",neither:["20.01.2001","15.12.2000","11.12.2003"]},{description:"What is the favorite subject of Ali",answer:"biology",neither:["computer information","physical","chemistry"]},{description:"what is name mother ali",answer:"Alisa",neither:["Marina","Violite","Inna"]}]},[m.DICTIONARY]:{fileName:"Dictionary file.",questionList:[{tajik:"Salom",russian:"Privet",english:"Hello"},{tajik:"Baland",russian:"Visokiy",english:"High"},{tajik:"Duxtar",russian:"Devushka",english:"girl"},{tajik:"pisar",russian:"malchik",english:"boy"}]},[m.WRITING]:{fileName:"Writing File",themes:["My favorite subject","My favorite music","My favorite animal"]}},{_id:8,avatar:"assets/dictionary.png",label:"Testing 004",description:"Testing description 004",[m.GRAMMAR]:{fileName:"grammar fileName",questionList:[{description:"I __ your friend.",answer:"am",neither:["not","wet","is"]},{description:"We __ the students of school.",answer:"are",neither:["not","aren`t","is"]},{description:"we __ new jacket",answer:"bougth",neither:["feed","cell","futere"]}]},[m.READING]:{fileName:"reading fileName",readText:["i am paragraph 1","i am paragraph 2","i am paragraph 3"],questionList:[{description:"who was send new jacket to Ali ?.",answer:"brother",neither:["mother","father","neighbor"]},{description:"When was bor Ali",answer:"02.02.2002",neither:["20.01.2001","15.12.2000","11.12.2003"]},{description:"What is the favorite subject of Ali",answer:"biology",neither:["computer information","physical","chemistry"]},{description:"what is name mother ali",answer:"Alisa",neither:["Marina","Violite","Inna"]}]},[m.LISTENING]:{fileName:"file name001 listening",audios:["assets/001.mp3"],questionList:[{description:"who was send new jacket to Ali ?.",answer:"brother",neither:["mother","father","neighbor"]},{description:"When was bor Ali",answer:"02.02.2002",neither:["20.01.2001","15.12.2000","11.12.2003"]},{description:"What is the favorite subject of Ali",answer:"biology",neither:["computer information","physical","chemistry"]},{description:"what is name mother ali",answer:"Alisa",neither:["Marina","Violite","Inna"]}]},[m.DICTIONARY]:{fileName:"Dictionary file.",questionList:[{tajik:"Salom",russian:"Privet",english:"Hello"},{tajik:"Baland",russian:"Visokiy",english:"High"},{tajik:"Duxtar",russian:"Devushka",english:"girl"},{tajik:"pisar",russian:"malchik",english:"boy"}]},[m.WRITING]:{fileName:"Writing File",themes:["My favorite subject","My favorite music","My favorite animal"]}},{_id:9,avatar:"assets/dictionary.png",label:"Testing 004",description:"Testing description 004",[m.GRAMMAR]:{fileName:"grammar fileName",questionList:[{description:"I __ your friend.",answer:"am",neither:["not","wet","is"]},{description:"We __ the students of school.",answer:"are",neither:["not","aren`t","is"]},{description:"we __ new jacket",answer:"bougth",neither:["feed","cell","futere"]}]},[m.READING]:{fileName:"reading fileName",readText:["i am paragraph 1","i am paragraph 2","i am paragraph 3"],questionList:[{description:"who was send new jacket to Ali ?.",answer:"brother",neither:["mother","father","neighbor"]},{description:"When was bor Ali",answer:"02.02.2002",neither:["20.01.2001","15.12.2000","11.12.2003"]},{description:"What is the favorite subject of Ali",answer:"biology",neither:["computer information","physical","chemistry"]},{description:"what is name mother ali",answer:"Alisa",neither:["Marina","Violite","Inna"]}]},[m.LISTENING]:{fileName:"file name001 listening",audios:["assets/001.mp3"],questionList:[{description:"who was send new jacket to Ali ?.",answer:"brother",neither:["mother","father","neighbor"]},{description:"When was bor Ali",answer:"02.02.2002",neither:["20.01.2001","15.12.2000","11.12.2003"]},{description:"What is the favorite subject of Ali",answer:"biology",neither:["computer information","physical","chemistry"]},{description:"what is name mother ali",answer:"Alisa",neither:["Marina","Violite","Inna"]}]},[m.DICTIONARY]:{fileName:"Dictionary file.",questionList:[{tajik:"Salom",russian:"Privet",english:"Hello"},{tajik:"Baland",russian:"Visokiy",english:"High"},{tajik:"Duxtar",russian:"Devushka",english:"girl"},{tajik:"pisar",russian:"malchik",english:"boy"}]},[m.WRITING]:{fileName:"Writing File",themes:["My favorite subject","My favorite music","My favorite animal"]}},{_id:10,avatar:"assets/dictionary.png",label:"Testing 004",description:"Testing description 004",[m.GRAMMAR]:{fileName:"grammar fileName",questionList:[{description:"I __ your friend.",answer:"am",neither:["not","wet","is"]},{description:"We __ the students of school.",answer:"are",neither:["not","aren`t","is"]},{description:"we __ new jacket",answer:"bougth",neither:["feed","cell","futere"]}]},[m.READING]:{fileName:"reading fileName",readText:["i am paragraph 1","i am paragraph 2","i am paragraph 3"],questionList:[{description:"who was send new jacket to Ali ?.",answer:"brother",neither:["mother","father","neighbor"]},{description:"When was bor Ali",answer:"02.02.2002",neither:["20.01.2001","15.12.2000","11.12.2003"]},{description:"What is the favorite subject of Ali",answer:"biology",neither:["computer information","physical","chemistry"]},{description:"what is name mother ali",answer:"Alisa",neither:["Marina","Violite","Inna"]}]},[m.LISTENING]:{fileName:"file name001 listening",audios:["assets/001.mp3"],questionList:[{description:"who was send new jacket to Ali ?.",answer:"brother",neither:["mother","father","neighbor"]},{description:"When was bor Ali",answer:"02.02.2002",neither:["20.01.2001","15.12.2000","11.12.2003"]},{description:"What is the favorite subject of Ali",answer:"biology",neither:["computer information","physical","chemistry"]},{description:"what is name mother ali",answer:"Alisa",neither:["Marina","Violite","Inna"]}]},[m.DICTIONARY]:{fileName:"Dictionary file.",questionList:[{tajik:"Salom",russian:"Privet",english:"Hello"},{tajik:"Baland",russian:"Visokiy",english:"High"},{tajik:"Duxtar",russian:"Devushka",english:"girl"},{tajik:"pisar",russian:"malchik",english:"boy"}]},[m.WRITING]:{fileName:"Writing File",themes:["My favorite subject","My favorite music","My favorite animal"]}},{_id:11,avatar:"assets/dictionary.png",label:"Testing 004",description:"Testing description 004",[m.GRAMMAR]:{fileName:"grammar fileName",questionList:[{description:"I __ your friend.",answer:"am",neither:["not","wet","is"]},{description:"We __ the students of school.",answer:"are",neither:["not","aren`t","is"]},{description:"we __ new jacket",answer:"bougth",neither:["feed","cell","futere"]}]},[m.READING]:{fileName:"reading fileName",readText:["i am paragraph 1","i am paragraph 2","i am paragraph 3"],questionList:[{description:"who was send new jacket to Ali ?.",answer:"brother",neither:["mother","father","neighbor"]},{description:"When was bor Ali",answer:"02.02.2002",neither:["20.01.2001","15.12.2000","11.12.2003"]},{description:"What is the favorite subject of Ali",answer:"biology",neither:["computer information","physical","chemistry"]},{description:"what is name mother ali",answer:"Alisa",neither:["Marina","Violite","Inna"]}]},[m.LISTENING]:{fileName:"file name001 listening",audios:["assets/001.mp3"],questionList:[{description:"who was send new jacket to Ali ?.",answer:"brother",neither:["mother","father","neighbor"]},{description:"When was bor Ali",answer:"02.02.2002",neither:["20.01.2001","15.12.2000","11.12.2003"]},{description:"What is the favorite subject of Ali",answer:"biology",neither:["computer information","physical","chemistry"]},{description:"what is name mother ali",answer:"Alisa",neither:["Marina","Violite","Inna"]}]},[m.DICTIONARY]:{fileName:"Dictionary file.",questionList:[{tajik:"Salom",russian:"Privet",english:"Hello"},{tajik:"Baland",russian:"Visokiy",english:"High"},{tajik:"Duxtar",russian:"Devushka",english:"girl"},{tajik:"pisar",russian:"malchik",english:"boy"}]},[m.WRITING]:{fileName:"Writing File",themes:["My favorite subject","My favorite music","My favorite animal"]}},{_id:12,avatar:"assets/dictionary.png",label:"Testing 004",description:"Testing description 004",[m.GRAMMAR]:{fileName:"grammar fileName",questionList:[{description:"I __ your friend.",answer:"am",neither:["not","wet","is"]},{description:"We __ the students of school.",answer:"are",neither:["not","aren`t","is"]},{description:"we __ new jacket",answer:"bougth",neither:["feed","cell","futere"]}]},[m.READING]:{fileName:"reading fileName",readText:["i am paragraph 1","i am paragraph 2","i am paragraph 3"],questionList:[{description:"who was send new jacket to Ali ?.",answer:"brother",neither:["mother","father","neighbor"]},{description:"When was bor Ali",answer:"02.02.2002",neither:["20.01.2001","15.12.2000","11.12.2003"]},{description:"What is the favorite subject of Ali",answer:"biology",neither:["computer information","physical","chemistry"]},{description:"what is name mother ali",answer:"Alisa",neither:["Marina","Violite","Inna"]}]},[m.LISTENING]:{fileName:"file name001 listening",audios:["assets/001.mp3"],questionList:[{description:"who was send new jacket to Ali ?.",answer:"brother",neither:["mother","father","neighbor"]},{description:"When was bor Ali",answer:"02.02.2002",neither:["20.01.2001","15.12.2000","11.12.2003"]},{description:"What is the favorite subject of Ali",answer:"biology",neither:["computer information","physical","chemistry"]},{description:"what is name mother ali",answer:"Alisa",neither:["Marina","Violite","Inna"]}]},[m.DICTIONARY]:{fileName:"Dictionary file.",questionList:[{tajik:"Salom",russian:"Privet",english:"Hello"},{tajik:"Baland",russian:"Visokiy",english:"High"},{tajik:"Duxtar",russian:"Devushka",english:"girl"},{tajik:"pisar",russian:"malchik",english:"boy"}]},[m.WRITING]:{fileName:"Writing File",themes:["My favorite subject","My favorite music","My favorite animal"]}}],Vi={id:{header:"update",property:"_id",tooltip:"Update current testing document"},columns:[{header:"label",property:"label",tooltip:"label of current testing document"}],avatar:{header:"avatar",property:"avatar",tooltip:"Cover image of document"},dialogComponent:et};var Eo=["searchInput"];function jo(o,p){if(o&1){let e=D();r(0,"button",8),f("click",function(){g(e);let t=C();return w(t.searchField().reset())}),r(1,"mat-icon"),l(2,"close"),n()()}}var Pl=(()=>{class o{materialConfig;dialog;searchInput;testingList=b(qi);searchField=b(new v("",[h.required]));tableData=b(Vi);Activities=b(m);formGroup=b(new I({avatar:new v,label:new v("",[h.required]),description:new v(""),[m.GRAMMAR]:new I({fileName:new v(""),questionList:new $([],[h.required])}),[m.READING]:new I({readText:new $([],h.required),fileName:new v(""),questionList:new $([],[h.required])}),[m.LISTENING]:new I({audios:new $([],[h.required]),fileName:new v(""),questionList:new $([],[h.required])}),[m.DICTIONARY]:new I({fileName:new v(""),questionList:new $([],[h.required])}),[m.WRITING]:new I({fileName:new v(""),themes:new $([])})}));destroy$=new Ft;constructor(e,i){this.materialConfig=e,this.dialog=i}ngAfterViewInit(){this.onInputHandler()}onAddTesting(){this.openDialog().pipe(M(1)).subscribe(e=>{this.testingList.update(i=>(i.unshift(e),i))})}onUpdateTesting(e){if(!e._id)return;let i=e._id,t=this.testingList().findIndex(a=>a._id===i);this.testingList.update(a=>(a.splice(t,1,e),a))}openDialog(){let e={formGroup:this.formGroup()};return this.dialog.open(et,{data:e}).afterClosed()}onInputHandler(){let e=this.searchInput.nativeElement;Nt(e,"input").pipe(kt(1e3),Gt(this.destroy$)).subscribe(i=>{let t=i.target;this.searchDocument(t.value)})}searchDocument(e){let i=this.testingList().filter(t=>Bt(t.label,e));this.testingList.set(i)}ngOnDestroy(){this.destroy$.next(!0)}static \u0275fac=function(i){return new(i||o)(y(q),y(st))};static \u0275cmp=k({type:o,selectors:[["app-testing"]],viewQuery:function(i,t){if(i&1&&Qe(Eo,5),i&2){let a;Ue(a=Ye())&&(t.searchInput=a.first)}},standalone:!0,features:[j],decls:16,vars:11,consts:[["searchInput",""],[1,"mat-headline-2","text-center"],[1,"example-form-field"],["matPrefix","","mat-icon-button",""],["matInput","","type","text",3,"formControl"],["matSuffix","","mat-icon-button","","aria-label","Search"],["mat-fab","","color","primary","matTooltip","Add new Document",3,"click","matTooltipPosition","matTooltipShowDelay","matTooltipHideDelay"],[3,"valueChange","list","columns","identify","avatar","dialogComponent","formGroup"],["matPrefix","","mat-icon-button","",3,"click"]],template:function(i,t){if(i&1){let a=D();r(0,"h1",1),l(1,"Testing Documents"),n(),r(2,"header")(3,"mat-form-field",2)(4,"mat-label"),l(5,"Search Documents"),n(),T(6,jo,3,0,"button",3),_(7,"input",4,0),r(9,"button",5)(10,"mat-icon"),l(11,"search"),n()()(),r(12,"button",6),f("click",function(){return g(a),w(t.onAddTesting())}),r(13,"mat-icon"),l(14,"add"),n()()(),r(15,"comp-table",7),f("valueChange",function(u){return g(a),w(t.onUpdateTesting(u))}),n()}i&2&&(s(6),S(6,t.searchField().value?6:-1),s(),c("formControl",t.searchField()),s(5),c("matTooltipPosition",t.materialConfig.tooltip.position)("matTooltipShowDelay",t.materialConfig.tooltip.showDelay)("matTooltipHideDelay",t.materialConfig.tooltip.hideDelay),s(3),c("list",t.testingList())("columns",t.tableData().columns)("identify",t.tableData().id)("avatar",t.tableData().avatar)("dialogComponent",t.tableData().dialogComponent)("formGroup",t.formGroup()))},dependencies:[U,O,B,ie,xe,oe,P,W,Jt,R,H,Lt,L,V,J,K,z,Y,we,nt,Ht,hi],styles:["[_nghost-%COMP%]{flex:0 0 100vw;overflow-x:hidden}@media screen and (min-width: 960px){[_nghost-%COMP%]{flex:1 1 auto}}mat-form-field[_ngcontent-%COMP%]{flex:0 1 550px}header[_ngcontent-%COMP%]{display:flex;gap:8px}"]})}return o})();export{Pl as TestingComponent};
