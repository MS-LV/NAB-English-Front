import{b as Pe}from"./chunk-PXGN2JG4.js";import{b as Ae}from"./chunk-V7NJ5TOU.js";import"./chunk-FYXAUPIQ.js";import{e as xe,f as Ne,g as we,h as De,i as Ue,j as Fe,k as Ie}from"./chunk-73FD5PWE.js";import{f as Ge}from"./chunk-SSLYQRHY.js";import"./chunk-WSDEOAYZ.js";import"./chunk-5CC4SUG3.js";import"./chunk-ZEEIW5SF.js";import{b as Oe}from"./chunk-7MLRNDAE.js";import"./chunk-X6D6ZXMZ.js";import{g as ee}from"./chunk-EEPI5JBV.js";import{e as Te,g as Se}from"./chunk-OELXEG4N.js";import{a as je,b as qe}from"./chunk-A3HFD2ZB.js";import{a as J,b as Q,c as z}from"./chunk-WQUYFIZ5.js";import"./chunk-L4VVBDDS.js";import{c as Ee}from"./chunk-FDFBILGX.js";import{b as H}from"./chunk-OKG76SOY.js";import{b as Me,c as ye}from"./chunk-YCVZ2DKW.js";import{a as L,b as B}from"./chunk-3RUGDQG5.js";import{a as P,b as he,c as A,d as V,g as k,h as R}from"./chunk-JJGNKWU3.js";import{b as I,c as se,e as G,f as O,i as de,j as pe,k as ue,l as j,o as ce,p as fe,q as ge,r as ve,s as _e,t as Ce,w as be,x as q}from"./chunk-B6A23TUE.js";import"./chunk-RGNDWIHZ.js";import"./chunk-ZITBM2SP.js";import{j as ne}from"./chunk-MDARTJMG.js";import{a as w,b as D}from"./chunk-2G67OSBZ.js";import{$ as me,U as re,Z as le,ba as U,ca as F}from"./chunk-DZWWLC2F.js";import"./chunk-ATQ6OJSW.js";import{Ab as m,Bc as N,Fb as u,Gb as Y,Hb as T,Ib as S,Jb as t,Kb as i,Lb as C,Pb as E,Pd as ae,Sb as c,Ub as b,_a as te,bb as n,cb as v,cc as Z,dc as o,ec as h,ic as oe,jc as x,la as y,nb as p,nc as W,oc as X,ua as f,va as g,vb as _,zb as ie}from"./chunk-E25BKHHC.js";var $e=(a,s)=>s.name;function Ye(a,s){if(a&1&&(t(0,"div",3),C(1,"img",20),i()),a&2){let r=b();n(),m("src",r.avatarUrl()||r.formAvatar().value,te)}}function Ze(a,s){a&1&&(t(0,"mat-error"),o(1,"Fill "),t(2,"b"),o(3,"Full Name"),i(),o(4," field"),i())}function We(a,s){a&1&&(t(0,"mat-error"),o(1,"Fill "),t(2,"b"),o(3,"Email"),i(),o(4," field"),i())}function Xe(a,s){a&1&&(t(0,"mat-error"),o(1,"Fill "),t(2,"b"),o(3,"Password"),i(),o(4," field"),i())}function et(a,s){if(a&1&&(t(0,"mat-error"),o(1,"Password minimum length "),t(2,"b"),o(3),i(),o(4," symbols"),i()),a&2){let r=b();n(3),h(r.usersFormConfig.password.min)}}function tt(a,s){if(a&1&&(t(0,"mat-error"),o(1,"Password maximum length "),t(2,"b"),o(3),i(),o(4," symbols"),i()),a&2){let r=b();n(3),h(r.usersFormConfig.password.max)}}function it(a,s){if(a&1&&(t(0,"mat-option",12),o(1),W(2,"titlecase"),i()),a&2){let r=s.$implicit;m("value",r),n(),h(X(2,2,r))}}function ot(a,s){if(a&1&&(t(0,"mat-option",12),o(1),W(2,"titlecase"),i()),a&2){let r=s.$implicit;m("value",r),n(),h(X(2,2,r))}}function at(a,s){a&1&&(t(0,"mat-error"),o(1,"Fill "),t(2,"b"),o(3,"Password"),i(),o(4," field"),i())}function rt(a,s){if(a&1&&(t(0,"option",12),o(1),i()),a&2){let r=s.$implicit,l=b();m("value",l.emailField()[0]+r.value),n(),h(r.name)}}var K=(()=>{class a{materialConfig;usersFormConfig;dialogData;formGroup=N(()=>this.dialogData.formGroup);formAvatar=N(()=>this.formGroup().get("avatar"));formEmail=N(()=>this.formGroup().get("email"));Object=Object;roles=p(Me);levels=p(ye);avatarUrl=p("");isHide=p(!0);emailTypes=p(Se);emailField=p([""]);constructor(r,l,e){this.materialConfig=r,this.usersFormConfig=l,this.dialogData=e}ngOnInit(){}get avatarName(){return this.formAvatar()?.value?.name?this.formAvatar().value.name??"":""}onEmailInput(){if(!this.formGroup().get("email").value){this.emailField.set([""]);return}let l=this.formGroup().get("email").value.match(new RegExp(/^\w+/));this.emailField.set(l)}onInputFileChange(r){let l=r.files;if(!l?.item(0))return;let e=l.item(0);this.formAvatar().patchValue(e),this.avatarUrl.set(Ee(this.formAvatar().value)),console.log("file: ",this.formGroup().value)}onSubmit(){}reset(){ee(this.formGroup())}ngOnDestroy(){ee(this.formGroup())}static \u0275fac=function(l){return new(l||a)(v(z),v(H),v(xe))};static \u0275cmp=y({type:a,selectors:[["comp-create-user"]],standalone:!0,features:[oe([]),x],decls:63,vars:26,consts:[["f_input",""],[3,"ngSubmit","formGroup"],["mat-dialog-title",""],[1,"avatar-image"],["type","button","mat-icon-button","","matPrefix","","matTooltip","Upload cover image for document",3,"click","matTooltipPosition","matTooltipShowDelay","matTooltipHideDelay"],["type","text","readonly","","matInput","",3,"value"],["type","file","multiple","","hidden","","accept","image/*",3,"change"],["matInput","","formControlName","fullName",3,"minlength","maxlength"],["type","email","list","emailTypes","matInput","","formControlName","email",3,"input","minlength","maxlength"],["matInput","","formControlName","password",3,"type","minlength","maxlength"],["type","button","mat-icon-button","","matSuffix","",3,"click"],["formControlName","role","required",""],[3,"value"],["formControlName","level","required",""],["matInput","","rows","10","formControlName","description","placeholder","Description of question",3,"minlength","maxlength"],[2,"color","transparent","user-select","none"],["align","end"],["mat-raised-button","","color","warn","type","reset",3,"disabled"],["mat-raised-button","","color","primary","type","submit",3,"mat-dialog-close","disabled"],["id","emailTypes"],["alt","",3,"src"]],template:function(l,e){if(l&1){let d=E();t(0,"form",1),c("ngSubmit",function(){return f(d),g(e.onSubmit())}),t(1,"h2",2),o(2,"New User"),i(),t(3,"mat-dialog-content"),_(4,Ye,2,1,"div",3),t(5,"mat-form-field")(6,"mat-label"),o(7,"Avatar"),i(),t(8,"button",4),c("click",function(){f(d);let $=Z(13);return g($.click())}),t(9,"mat-icon"),o(10,"add_photo_alternate"),i()(),C(11,"input",5),t(12,"input",6,0),c("change",function(){f(d);let $=Z(13);return g(e.onInputFileChange($))}),i(),t(14,"mat-error"),o(15,"this field is required"),i()(),t(16,"mat-form-field")(17,"mat-label"),o(18,"Full Name"),i(),C(19,"input",7),_(20,Ze,5,0,"mat-error"),i(),t(21,"mat-form-field")(22,"mat-label"),o(23,"Email"),i(),t(24,"input",8),c("input",function(){return f(d),g(e.onEmailInput())}),i(),_(25,We,5,0,"mat-error"),i(),t(26,"mat-form-field")(27,"mat-label"),o(28,"Password"),i(),C(29,"input",9),t(30,"button",10),c("click",function(){return f(d),g(e.isHide.set(!e.isHide()))}),t(31,"mat-icon"),o(32),i()(),_(33,Xe,5,0,"mat-error")(34,et,5,1,"mat-error")(35,tt,5,1,"mat-error"),i(),t(36,"mat-form-field")(37,"mat-label"),o(38,"Role"),i(),t(39,"mat-select",11),T(40,it,3,4,"mat-option",12,Y),i()(),t(42,"mat-form-field")(43,"mat-label"),o(44,"Level"),i(),t(45,"mat-select",13),T(46,ot,3,4,"mat-option",12,Y),i()(),t(48,"mat-form-field")(49,"mat-label"),o(50,"Description"),i(),C(51,"textarea",14),_(52,at,5,0,"mat-error"),i(),t(53,"p",15),o(54," Lorem ipsum dolor, sit amet consectetur adipisicing elit. Totam, nemo. Laboriosam ipsa molestiae voluptatem quasi? Id reiciendis, ut repellat consequatur sapiente voluptatibus temporibus, modi ullam quas sit, amet est consequuntur. "),i()(),t(55,"mat-dialog-actions",16)(56,"button",17),o(57," Reset "),i(),t(58,"button",18),o(59," Submit "),i()()(),t(60,"datalist",19),T(61,rt,2,2,"option",12,$e),i()}l&2&&(m("formGroup",e.formGroup()),n(4),u(4,e.avatarUrl()||e.formAvatar().value?4:-1),n(4),m("matTooltipPosition",e.materialConfig.tooltip.position)("matTooltipShowDelay",e.materialConfig.tooltip.showDelay)("matTooltipHideDelay",e.materialConfig.tooltip.hideDelay),n(3),m("value",e.avatarName),n(8),m("minlength",e.usersFormConfig.fullName.min)("maxlength",e.usersFormConfig.fullName.max),n(),u(20,e.formGroup().get("fullName").hasError("required")?20:-1),n(4),m("minlength",e.usersFormConfig.email.min)("maxlength",e.usersFormConfig.email.max),n(),u(25,e.formGroup().get("email").hasError("required")?25:-1),n(4),m("type",e.isHide()?"password":"text")("minlength",e.usersFormConfig.password.min)("maxlength",e.usersFormConfig.password.max),n(),ie("aria-label","Hide password"),n(2),h(e.isHide()?"visibility_off":"visibility"),n(),u(33,e.formGroup().get("password").hasError("required")?33:-1),n(),u(34,e.formGroup().get("password").hasError("minlength")?34:-1),n(),u(35,e.formGroup().get("password").hasError("maxlength")?35:-1),n(5),S(e.Object.values(e.roles())),n(6),S(e.Object.values(e.levels())),n(5),m("minlength",e.usersFormConfig.description.min)("maxlength",e.usersFormConfig.description.max),n(),u(52,e.formGroup().get("description").hasError("required")?52:-1),n(4),m("disabled",e.formGroup().untouched),n(2),m("mat-dialog-close",e.formGroup().value)("disabled",e.formGroup().invalid),n(3),S(e.emailTypes()))},dependencies:[ae,be,pe,fe,ge,I,G,O,ve,_e,Ce,B,L,k,P,he,A,V,F,le,U,ne,Ie,we,De,Fe,Ue,D,w,q,j,ce,Ge,Q,J,qe,je,re,R],styles:["[_nghost-%COMP%]{display:block;width:100%}mat-dialog-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px}form[_ngcontent-%COMP%]{width:100%}mat-card[_ngcontent-%COMP%]{width:100%}mat-card-content[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:10px}.avatar-image[_ngcontent-%COMP%]{position:relative;width:150px;height:150px;min-height:150px;margin:10px 0}.avatar-image[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover}"]})}return a})();var Ve=[{_id:1,avatar:"assets/signin.png",fullName:"Ikrom Qodirov",email:"jamoliddinqodirov18@gmail.com",password:"234234234",role:"STUDENT",level:"beginner",description:"My description about student"},{_id:2,avatar:"assets/history.png",fullName:"Vali Azimov",email:"jamoliddinqodirov18@gmail.com",password:"234234234",role:"STUDENT",level:"beginner",description:"My description about student"},{_id:3,avatar:"assets/dictionary.png",fullName:"maysara iqrorova",email:"jamoliddinqodirov18@gmail.com",password:"234234234",role:"STUDENT",level:"beginner",description:"My description about student"},{_id:4,avatar:"assets/dictionary.png",fullName:"jonibek ghafuro",email:"jgafurov@gmail.com",password:"234234234",role:"STUDENT",level:"beginner",description:"My description about student"},{_id:5,avatar:"assets/testing.png",fullName:"Jamoliddin Qodirov",email:"jamoliddinqodirov18@gmail.com",password:"234234234",role:"STUDENT",level:"beginner",description:"My description about student"},{_id:6,avatar:"assets/testing.png",fullName:"Jamoliddin Qodirov",email:"jamoliddinqodirov18@gmail.com",password:"234234234",role:"ADMIN",level:"elementary",description:"My description about student"},{_id:7,avatar:"assets/dictionary.png",fullName:"Jamoliddin Qodirov",email:"jamoliddinqodirov18@gmail.com",password:"234234234",role:"STUDENT",level:"beginner",description:"My description about student"},{_id:8,avatar:"assets/dictionary.png",fullName:"Jamoliddin Qodirov",email:"jamoliddinqodirov18@gmail.com",password:"234234234",role:"STUDENT",level:"beginner",description:"My description about student"},{_id:9,avatar:"assets/dictionary.png",fullName:"Jamoliddin Qodirov",email:"jamoliddinqodirov18@gmail.com",password:"234234234",role:"STUDENT",level:"beginner",description:"My description about student"},{_id:10,avatar:"assets/signin.png",fullName:"Komila Jabborova",email:"kjaborova@gmail.com",password:"234234234",role:"STUDENT",level:"beginner",description:"My description about student"},{_id:11,avatar:"assets/student.jpg",fullName:"Asal Urunova",email:"jamoliddinqodirov18@gmail.com",password:"234234234",role:"STUDENT",level:"beginner",description:"My description about student"},{_id:12,avatar:"assets/dictionary.png",fullName:"Laylo Sharipova",email:"jamoliddinqodirov18@gmail.com",password:"234234234",role:"STUDENT",level:"beginner",description:"My description about student"},{_id:13,avatar:"assets/dictionary.png",fullName:"Mumin Azizoda",email:"jamoliddinqodirov18@gmail.com",password:"234234234",role:"STUDENT",level:"beginner",description:"My description about student"},{_id:14,avatar:"assets/testing.png",fullName:"Zebo Nematova",email:"znematova@gmail.com",password:"234234234",role:"STUDENT",level:"beginner",description:"My description about student"},{_id:15,avatar:"assets/admin.png",fullName:"sayfura temurbekova",email:"stemurbek@gmail.com",password:"234234234",role:"STUDENT",level:"beginner",description:"My description about student"},{_id:16,avatar:"assets/dictionary.png",fullName:"Mijgona Bobeva",email:"jamoliddinqodirov18@gmail.com",password:"234234234",role:"STUDENT",level:"beginner",description:"My description about student"},{_id:17,avatar:"assets/dictionary.png",fullName:"Maysar Qodirova",email:"jamoliddinqodirov18@gmail.com",password:"234234234",role:"STUDENT",level:"beginner",description:"My description about student"},{_id:18,avatar:"assets/signin.png",fullName:"Jonona rametova",email:"jamoliddinqodirov18@gmail.com",password:"234234234",role:"STUDENT",level:"beginner",description:"My description about student"},{_id:19,avatar:"assets/dictionary.png",fullName:"Jabbor davlatov",email:"jamoliddinqodirov18@gmail.com",password:"234234234",role:"STUDENT",level:"beginner",description:"My description about student"},{_id:20,avatar:"assets/dictionary.png",fullName:"Daler Halimov",email:"jamoliddinqodirov18@gmail.com",password:"234234234",role:"STUDENT",level:"beginner",description:"My description about student"}],ke={id:{header:"update",property:"_id",tooltip:"Update current user"},columns:[{header:"Full Name",property:"fullName",tooltip:"Full name of current user"},{header:"Role",property:"role",tooltip:"Current user role (Admin | Student)"}],avatar:{header:"avatar",property:"avatar",tooltip:"Avatar image of user"},dialogComponent:K};function nt(a,s){if(a&1){let r=E();t(0,"button",7),c("click",function(){f(r);let e=b();return g(e.searchField().reset())}),t(1,"mat-icon"),o(2,"close"),i()()}}var Zt=(()=>{class a{materialConfig;usersFormConfig;dialog;usersList=p(Ve);tableData=p(ke);searchField=p(new de("",se.required));dialogRef;formGroup=p(Te);constructor(r,l,e){this.materialConfig=r,this.usersFormConfig=l,this.dialog=e}ngOnInit(){}onAddUser(){this.dialogRef=this.openDialog().subscribe(r=>{r&&this.usersList.update(l=>(l.unshift(r),l))})}onUpdateUser(r){if(!r?._id)return;let l=r._id,e=this.usersList().findIndex(d=>d._id===l);this.usersList.update(d=>(d.splice(e,1,r),d))}openDialog(){let r={formGroup:this.formGroup()};return this.dialog.open(K,{data:r}).afterClosed()}static \u0275fac=function(l){return new(l||a)(v(z),v(H),v(Ne))};static \u0275cmp=y({type:a,selectors:[["app-users"]],standalone:!0,features:[x],decls:15,vars:11,consts:[[1,"mat-headline-2","text-center"],[1,"example-form-field"],["matPrefix","","mat-icon-button",""],["matInput","","type","text",3,"formControl"],["matSuffix","","mat-icon-button","","aria-label","Search"],["mat-fab","","color","primary","matTooltip","Add new User",3,"click","matTooltipPosition","matTooltipShowDelay","matTooltipHideDelay"],[3,"valueChange","list","columns","identify","avatar","dialogComponent","formGroup"],["matPrefix","","mat-icon-button","",3,"click"]],template:function(l,e){l&1&&(t(0,"h1",0),o(1,"User Accounts"),i(),t(2,"header")(3,"mat-form-field",1)(4,"mat-label"),o(5,"Search Users"),i(),_(6,nt,3,0,"button",2),C(7,"input",3),t(8,"button",4)(9,"mat-icon"),o(10,"search"),i()()(),t(11,"button",5),c("click",function(){return e.onAddUser()}),t(12,"mat-icon"),o(13,"add"),i()()(),t(14,"comp-table",6),c("valueChange",function(M){return e.onUpdateUser(M)}),i()),l&2&&(n(6),u(6,e.searchField().value?6:-1),n(),m("formControl",e.searchField()),n(4),m("matTooltipPosition",e.materialConfig.tooltip.position)("matTooltipShowDelay",e.materialConfig.tooltip.showDelay)("matTooltipHideDelay",e.materialConfig.tooltip.hideDelay),n(3),m("list",e.usersList())("columns",e.tableData().columns)("identify",e.tableData().id)("avatar",e.tableData().avatar)("dialogComponent",e.tableData().dialogComponent)("formGroup",e.formGroup()))},dependencies:[Ae,F,U,me,D,w,Oe,Q,J,R,k,P,A,V,B,L,q,I,G,O,ue,j,Pe],styles:["[_nghost-%COMP%]{flex:0 0 100vw;overflow-x:hidden}@media screen and (min-width: 960px){[_nghost-%COMP%]{flex:1 1 auto}}mat-form-field[_ngcontent-%COMP%]{flex:0 1 550px}header[_ngcontent-%COMP%]{display:flex;gap:8px}"]})}return a})();export{Zt as UsersComponent};
