import{b as lt}from"./chunk-PXGN2JG4.js";import{a as nt,b as at,c as rt}from"./chunk-UQUXWO6X.js";import"./chunk-FYXAUPIQ.js";import{f as tt}from"./chunk-73FD5PWE.js";import"./chunk-SSLYQRHY.js";import"./chunk-WSDEOAYZ.js";import"./chunk-5CC4SUG3.js";import"./chunk-ZEEIW5SF.js";import"./chunk-7MLRNDAE.js";import"./chunk-X6D6ZXMZ.js";import{e as Z}from"./chunk-EEPI5JBV.js";import{c as X}from"./chunk-OELXEG4N.js";import"./chunk-A3HFD2ZB.js";import{c as mt}from"./chunk-QLHMX4IY.js";import{a as et,b as it,c as ot}from"./chunk-WQUYFIZ5.js";import"./chunk-L4VVBDDS.js";import{d as Y}from"./chunk-FDFBILGX.js";import"./chunk-OKG76SOY.js";import{a as W}from"./chunk-YCVZ2DKW.js";import{a as z,b as J}from"./chunk-3RUGDQG5.js";import{a as q,c as B,d as Q,g as $,h as K}from"./chunk-JJGNKWU3.js";import{b as P,c as O,e as k,f as R,i as N,k as j,l as H,x as U}from"./chunk-B6A23TUE.js";import"./chunk-RGNDWIHZ.js";import"./chunk-ZITBM2SP.js";import"./chunk-MDARTJMG.js";import{a as G,b as E}from"./chunk-2G67OSBZ.js";import{$ as V,ba as A,ca as L}from"./chunk-DZWWLC2F.js";import"./chunk-ATQ6OJSW.js";import{A as C,Ab as c,Fb as I,H as _,J as T,Jb as o,Kb as r,Lb as w,Pb as g,Sb as d,Ub as y,X as M,ac as S,bb as s,bc as x,cb as f,dc as l,i as h,jc as F,la as b,nb as a,ob as v,ua as p,va as u,vb as D}from"./chunk-E25BKHHC.js";var ut=["searchInput"];function ct(m,dt){if(m&1){let i=g();o(0,"button",8),d("click",function(){p(i);let t=y();return u(t.searchField().reset())}),o(1,"mat-icon"),l(2,"close"),r()()}}var Ut=(()=>{class m{materialConfig;dialog;searchInput=v.required("searchInput");testingList=a(at);searchField=a(new N("",[O.required]));tableData=a(rt);Activities=a(W);formGroup=a(Z(X));destroy$=a(new h);constructor(i,e){this.materialConfig=i,this.dialog=e}ngAfterViewInit(){this.onInputHandler()}onAddTesting(){this.openDialog().pipe(T(1)).subscribe(i=>{this.testingList.update(e=>(e.unshift(i),e))})}onUpdateTesting(i){if(!i._id)return;let e=i._id,t=this.testingList().findIndex(n=>n._id===e);this.testingList.update(n=>(n.splice(t,1,i),n))}openDialog(){let i={formGroup:this.formGroup()};return this.dialog.open(nt,{data:i}).afterClosed()}onInputHandler(){let i=this.searchInput().nativeElement;C(i,"input").pipe(_(1e3),M(this.destroy$())).subscribe(e=>{let t=e.target;this.searchDocument(t.value)})}searchDocument(i){let e=this.testingList().filter(t=>Y(t.label,i));this.testingList.set(e)}ngOnDestroy(){this.destroy$().next(!0)}static \u0275fac=function(e){return new(e||m)(f(ot),f(tt))};static \u0275cmp=b({type:m,selectors:[["app-testing"]],viewQuery:function(e,t){e&1&&S(t.searchInput,ut,5),e&2&&x()},standalone:!0,features:[F],decls:16,vars:11,consts:[["searchInput",""],[1,"mat-headline-2","text-center"],[1,"example-form-field"],["matPrefix","","mat-icon-button",""],["matInput","","type","text",3,"formControl"],["matSuffix","","mat-icon-button","","aria-label","Search"],["mat-fab","","color","primary","matTooltip","Add new Document",3,"click","matTooltipPosition","matTooltipShowDelay","matTooltipHideDelay"],[3,"valueChange","list","columns","identify","avatar","dialogComponent","formGroup"],["matPrefix","","mat-icon-button","",3,"click"]],template:function(e,t){if(e&1){let n=g();o(0,"h1",1),l(1,"Testing Documents"),r(),o(2,"header")(3,"mat-form-field",2)(4,"mat-label"),l(5,"Search Documents"),r(),D(6,ct,3,0,"button",3),w(7,"input",4,0),o(9,"button",5)(10,"mat-icon"),l(11,"search"),r()()(),o(12,"button",6),d("click",function(){return p(n),u(t.onAddTesting())}),o(13,"mat-icon"),l(14,"add"),r()()(),o(15,"comp-table",7),d("valueChange",function(pt){return p(n),u(t.onUpdateTesting(pt))}),r()}e&2&&(s(6),I(6,t.searchField().value?6:-1),s(),c("formControl",t.searchField()),s(5),c("matTooltipPosition",t.materialConfig.tooltip.position)("matTooltipShowDelay",t.materialConfig.tooltip.showDelay)("matTooltipHideDelay",t.materialConfig.tooltip.hideDelay),s(3),c("list",t.testingList())("columns",t.tableData().columns)("identify",t.tableData().id)("avatar",t.tableData().avatar)("dialogComponent",t.tableData().dialogComponent)("formGroup",t.formGroup()))},dependencies:[U,P,k,R,j,H,E,G,mt,L,A,V,it,et,J,z,$,q,B,Q,K,lt],styles:["[_nghost-%COMP%]{flex:0 0 100vw;overflow-x:hidden}@media screen and (min-width: 960px){[_nghost-%COMP%]{flex:1 1 auto}}mat-form-field[_ngcontent-%COMP%]{flex:0 1 550px}header[_ngcontent-%COMP%]{display:flex;gap:8px}"]})}return m})();export{Ut as TestingComponent};
