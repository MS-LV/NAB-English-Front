import{a as b}from"./chunk-J2KQXVPX.js";import{a as I}from"./chunk-BH7EUVTS.js";import{a as E,b as S}from"./chunk-WSDEOAYZ.js";import{h as D}from"./chunk-EEPI5JBV.js";import"./chunk-FDFBILGX.js";import"./chunk-3RUGDQG5.js";import"./chunk-JJGNKWU3.js";import"./chunk-B6A23TUE.js";import"./chunk-RGNDWIHZ.js";import{b as P}from"./chunk-ZITBM2SP.js";import"./chunk-MDARTJMG.js";import"./chunk-DZWWLC2F.js";import"./chunk-ATQ6OJSW.js";import{Ab as u,Fb as a,Jb as r,Kb as s,Lb as f,Ub as c,Zd as G,aa as x,bb as i,dc as l,ec as y,ga as p,gc as _,ic as C,jc as H,la as g,nb as m,nc as w,pc as M,vb as d}from"./chunk-E25BKHHC.js";var v=(()=>{class e{constructor(){}checkHistory(t){let o={total:t.length,answered:0};return t.forEach(n=>{n.english===n.userAnswer&&(o.answered+=1)}),o}static \u0275fac=function(o){return new(o||e)};static \u0275prov=x({token:e,factory:e.\u0275fac})}return e})();function j(e,h){if(e&1&&(r(0,"div",2),f(1,"mat-progress-spinner",3),r(2,"h1",4),l(3),w(4,"percent"),s()(),r(5,"h1",5),l(6),s()),e&2){let t=c(2);i(),u("value",t.score().answered/t.score().total*100),i(2),y(M(4,4,t.score().answered/t.score().total,"2.0-0")),i(3),_("",t.score().answered," / ",t.score().total,"")}}function k(e,h){if(e&1&&(r(0,"p",1),l(1),s()),e&2){let t,o=c(2);i(),y((t=o.formGroup().get("description"))==null?null:t.value)}}function F(e,h){if(e&1&&(d(0,j,7,7)(1,k,2,1,"p",1),f(2,"comp-dictionary-result",0)),e&2){let t,o=c();a(0,o.score()?0:-1),i(),a(1,(t=o.formGroup().get("description"))!=null&&t.value?1:-1),i(),u("formGroup",o.formGroup())}}var Q=(()=>{class e{formGroup=m(null);score=m(null);route=p(P);service=p(v);ngAfterViewInit(){this.loadHistory(),this.calcScore()}getHistory(t){return b.find(o=>o._id==t)}loadHistory(){let t=this.route.snapshot.paramMap.get("id"),o=this.getHistory(t);this.formGroup.set(D(o))}calcScore(){if(!this.formGroup())return;let t=this.formGroup().get("questionList").value;this.score.set(this.service.checkHistory(t)),console.log(this.score())}static \u0275fac=function(o){return new(o||e)};static \u0275cmp=g({type:e,selectors:[["app-history-everyday-detail"]],standalone:!0,features:[C([v]),H],decls:1,vars:1,consts:[[3,"formGroup"],[1,"mat-body-1"],[1,"score"],["color","primary","mode","determinate",3,"value"],[1,"mat-h1"],[1,"mat-headline-1","text-center"]],template:function(o,n){o&1&&d(0,F,3,3,"comp-dictionary-result",0),o&2&&a(0,n.formGroup()?0:-1)},dependencies:[G,S,E,I],styles:["[_nghost-%COMP%]{flex:0 0 100vw;overflow-x:hidden}@media screen and (min-width: 960px){[_nghost-%COMP%]{flex:1 1 auto}}.avatar[_ngcontent-%COMP%]{display:block;width:200px;height:200px;border-radius:50%;object-fit:cover;margin:0 auto}.score[_ngcontent-%COMP%]{position:relative;height:150px}.score[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;translate:-50% -50%}"]})}return e})();export{Q as HistoryEverydayDetailComponent};
