import{a as h,b as Q,c as P,d as H,f as O,g as q,h as F,i as A,j as B,l as V,m as S,n as $,o as C,p as k}from"./chunk-6PXIPWTU.js";import{g as z}from"./chunk-PP2M6C3C.js";import{$a as o,B as x,Cb as l,Da as M,Db as s,Eb as c,Fb as _,Gb as D,Sb as u,Tb as f,Ub as g,Wb as m,Xb as y,cc as E,ka as b,la as I,lb as R,p as T,rb as p,t as v,tb as d}from"./chunk-6RR23HKP.js";var w=class extends z{data=[];paginator;sort;constructor(){super()}connect(){if(this.paginator&&this.sort)return x(T(this.data),this.paginator.page,this.sort.sortChange).pipe(v(()=>this.getPagedData(this.getSortedData([...this.data]))));throw Error("Please set the paginator and sort on the data source before connecting.")}disconnect(){}getPagedData(t){if(this.paginator){let a=this.paginator.pageIndex*this.paginator.pageSize;return t.splice(a,this.paginator.pageSize)}else return t}getSortedData(t){return!this.sort?.active||this.sort.direction===""?t:t.sort((a,r)=>{let i=this.sort?.direction==="asc";switch(this.sort?.active){case"name":return N(a.name,r.name,i);case"id":return N(+a.id,+r.id,i);default:return 0}})}};function N(e,t,a){return(e<t?-1:1)*(a?1:-1)}function j(e,t){e&1&&(l(0,"th",9),m(1,"Id"),s())}function G(e,t){if(e&1&&(l(0,"td",10),m(1),s()),e&2){let a=t.$implicit;o(),y(a.id)}}function J(e,t){e&1&&(l(0,"th",9),m(1,"Name"),s())}function K(e,t){if(e&1&&(l(0,"td",10),m(1),s()),e&2){let a=t.$implicit;o(),y(a.name)}}function L(e,t){e&1&&c(0,"tr",11)}function U(e,t){e&1&&c(0,"tr",12)}var de=(()=>{class e{list=M.required();columns=M.required();paginator;sort;table;dataSource=new w;pageSizeOptions=R([5,10,20,50]);constructor(){}ngAfterViewInit(){this.tableInit()}tableInit(){this.dataSource.data=this.list(),this.dataSource.sort=this.sort,this.dataSource.paginator=this.paginator,this.table.dataSource=this.dataSource}static \u0275fac=function(r){return new(r||e)};static \u0275cmp=I({type:e,selectors:[["comp-table"]],viewQuery:function(r,i){if(r&1&&(u(S,5),u(C,5),u(h,5)),r&2){let n;f(n=g())&&(i.paginator=n.first),f(n=g())&&(i.sort=n.first),f(n=g())&&(i.table=n.first)}},inputs:{list:[b.SignalBased,"list"],columns:[b.SignalBased,"columns"]},standalone:!0,features:[E],decls:11,vars:6,consts:[["paginator",""],["mat-table","","matSort","","aria-label","Elements"],["matColumnDef","id"],["mat-header-cellmat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","name"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["aria-label","Select page",3,"length","pageIndex","pageSize","pageSizeOptions"],["mat-header-cellmat-sort-header",""],["mat-cell",""],["mat-header-row",""],["mat-row",""]],template:function(r,i){r&1&&(l(0,"table",1),_(1,2),p(2,j,2,0,"th",3)(3,G,2,1,"td",4),D(),_(4,5),p(5,J,2,0,"th",3)(6,K,2,1,"td",4),D(),p(7,L,1,0,"tr",6)(8,U,1,0,"tr",7),s(),c(9,"mat-paginator",8,0)),r&2&&(o(7),d("matHeaderRowDef",i.columns()),o(),d("matRowDefColumns",i.columns()),o(),d("length",i.list.length||0)("pageIndex",0)("pageSize",10)("pageSizeOptions",i.pageSizeOptions()))},dependencies:[V,h,P,q,H,Q,F,O,A,B,$,S,k,C],styles:["[_nghost-%COMP%]{display:block;width:100%}"]})}return e})();export{de as a};
