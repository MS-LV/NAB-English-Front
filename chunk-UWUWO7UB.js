import{b as ht}from"./chunk-B76NC3QH.js";import{f as bt}from"./chunk-DIN32TF5.js";import"./chunk-3ZYY74ZM.js";import{b as vt}from"./chunk-J4VPY23A.js";import"./chunk-GSKVCRVH.js";import"./chunk-7AIGY32E.js";import{a as de}from"./chunk-DDCKFMMT.js";import{b as le,c as me}from"./chunk-YCVZ2DKW.js";import{a as ne,b as re}from"./chunk-Z3NAGWM3.js";import{j as Ie}from"./chunk-WU43Z2PU.js";import{a as pe,b as et,c as tt,d as it,e as ot,f as at,g as nt,h as rt,i as lt,j as mt,k as st,l as dt,m as ue,n as pt,o as ce,p as ut,q as ct,r as ft,s as Ct,t as _t}from"./chunk-O6ZKFD36.js";import{f as fe,g as gt}from"./chunk-KDC6RVS5.js";import{e as ze,f as se,g as $e,h as Je,i as Ke,j as Ze,k as We}from"./chunk-TVOTZ4VU.js";import{a as G,b as P,c as q}from"./chunk-WRIK7YZC.js";import{a as Xe,b as Ye}from"./chunk-VIGM4TIH.js";import"./chunk-EIV6QZRO.js";import{g as Be}from"./chunk-P2KDBDCF.js";import{c as Qe}from"./chunk-PK5IVVJZ.js";import{a as ee,b as He,c as te,d as ie,g as oe,h as ae}from"./chunk-IUNWJZ3G.js";import{b as J,c as d,e as K,f as Z,g as W,i as p,j as Pe,k as qe,l as X,n as Oe,o as Re,p as je,q as Ae,r as Le,s as Ve,v as ke,w as Y}from"./chunk-FKZNMG4K.js";import"./chunk-RGNDWIHZ.js";import"./chunk-HQYHPCCU.js";import{a as N,b as U}from"./chunk-WJ2WTO7Q.js";import{$ as Ge,U as Ue,Z as Fe,ba as I,ca as F}from"./chunk-IJDN24GB.js";import"./chunk-YN2XHAVH.js";import{Ab as Ce,B as Se,Bb as V,Cb as k,Da as we,Db as o,Ea as xe,Eb as a,Fb as _,Gb as R,Hb as j,Jb as w,Jc as $,Mb as v,Ob as f,Tb as H,Ub as B,Vb as Q,Wb as _e,Xb as r,Yb as y,Za as L,Zb as ve,ab as m,bb as h,cc as Ee,dc as x,ec as Ne,hc as D,ic as E,ka as Me,la as M,mb as u,n as be,p as Te,sb as c,t as ye,tb as De,ua as b,ub as s,uc as z,va as T,zb as C}from"./chunk-AP74RX5A.js";var Gt=(t,l)=>l.name;function Pt(t,l){if(t&1&&(o(0,"div",3),_(1,"img",20),a()),t&2){let e=f();m(),s("src",e.avatarUrl()||e.formAvatar().value,L)}}function qt(t,l){t&1&&(o(0,"mat-error"),r(1,"Fill "),o(2,"b"),r(3,"Full Name"),a(),r(4," field"),a())}function Ot(t,l){t&1&&(o(0,"mat-error"),r(1,"Fill "),o(2,"b"),r(3,"Email"),a(),r(4," field"),a())}function Rt(t,l){t&1&&(o(0,"mat-error"),r(1,"Fill "),o(2,"b"),r(3,"Password"),a(),r(4," field"),a())}function jt(t,l){if(t&1&&(o(0,"mat-error"),r(1,"Password minimum length "),o(2,"b"),r(3),a(),r(4," symbols"),a()),t&2){let e=f();m(3),y(e.usersConfig.password.min)}}function At(t,l){if(t&1&&(o(0,"mat-error"),r(1,"Password maximum length "),o(2,"b"),r(3),a(),r(4," symbols"),a()),t&2){let e=f();m(3),y(e.usersConfig.password.max)}}function Lt(t,l){if(t&1&&(o(0,"mat-option",12),r(1),D(2,"titlecase"),a()),t&2){let e=l.$implicit;s("value",e),m(),y(E(2,2,e))}}function Vt(t,l){if(t&1&&(o(0,"mat-option",12),r(1),D(2,"titlecase"),a()),t&2){let e=l.$implicit;s("value",e),m(),y(E(2,2,e))}}function kt(t,l){t&1&&(o(0,"mat-error"),r(1,"Fill "),o(2,"b"),r(3,"Password"),a(),r(4," field"),a())}function Ht(t,l){if(t&1&&(o(0,"option",12),r(1),a()),t&2){let e=l.$implicit,n=f();s("value",n.emailField()[0]+e.value),m(),y(e.name)}}var O=(()=>{class t{materialConfig;usersConfig;dialogData;formGroup=z(()=>this.dialogData.formGroup);formAvatar=z(()=>this.formGroup().get("avatar"));formEmail=z(()=>this.formGroup().get("email"));Object=Object;roles=u(le);levels=u(me);avatarUrl=u("");isHide=u(!0);emailTypes=u([{name:"Gmail",value:"@gmail.com"},{name:"Email",value:"@email.ru"}]);emailField=u([""]);constructor(e,n,i){this.materialConfig=e,this.usersConfig=n,this.dialogData=i}ngOnInit(){}get avatarName(){return this.formAvatar()?.value?.name?this.formAvatar().value.name??"":""}onEmailInput(){if(!this.formGroup().get("email").value){this.emailField.set([""]);return}let n=this.formGroup().get("email").value.match(new RegExp(/^\w+/));this.emailField.set(n)}onInputFileChange(e){let n=e.files;if(!n?.item(0))return;let i=n.item(0);this.formAvatar().patchValue(i),this.avatarUrl.set(Qe(this.formAvatar().value)),console.log("file: ",this.formGroup().value)}onSubmit(){}reset(){fe(this.formGroup())}static \u0275fac=function(n){return new(n||t)(h(G),h(de),h(ze))};static \u0275cmp=M({type:t,selectors:[["comp-create-user"]],standalone:!0,features:[Ee([]),x],decls:63,vars:26,consts:[["f_input",""],[3,"ngSubmit","formGroup"],["mat-dialog-title",""],[1,"avatar-image"],["type","button","mat-icon-button","","matPrefix","","matTooltip","Upload cover image for document",3,"click","matTooltipPosition","matTooltipShowDelay","matTooltipHideDelay"],["type","text","readonly","","matInput","",3,"value"],["type","file","multiple","","hidden","","accept","image/*",3,"change"],["matInput","","formControlName","fullName",3,"minlength","maxlength"],["type","email","list","emailTypes","matInput","","formControlName","email",3,"input","minlength","maxlength"],["matInput","","formControlName","password",3,"type","minlength","maxlength"],["type","button","mat-icon-button","","matSuffix","",3,"click"],["formControlName","role","required",""],[3,"value"],["formControlName","level","required",""],["matInput","","rows","10","formControlName","description","placeholder","Description of question",3,"minlength","maxlength"],[2,"color","transparent","user-select","none"],["align","end"],["mat-raised-button","","color","warn","type","reset",3,"disabled"],["mat-raised-button","","color","primary","type","submit",3,"mat-dialog-close","disabled"],["id","emailTypes"],["alt","",3,"src"]],template:function(n,i){if(n&1){let g=w();o(0,"form",1),v("ngSubmit",function(){return b(g),T(i.onSubmit())}),o(1,"h2",2),r(2,"New User"),a(),o(3,"mat-dialog-content"),c(4,Pt,2,1,"div",3),o(5,"mat-form-field")(6,"mat-label"),r(7,"Avatar"),a(),o(8,"button",4),v("click",function(){b(g);let ge=_e(13);return T(ge.click())}),o(9,"mat-icon"),r(10,"add_photo_alternate"),a()(),_(11,"input",5),o(12,"input",6,0),v("change",function(){b(g);let ge=_e(13);return T(i.onInputFileChange(ge))}),a(),o(14,"mat-error"),r(15,"this field is required"),a()(),o(16,"mat-form-field")(17,"mat-label"),r(18,"Full Name"),a(),_(19,"input",7),c(20,qt,5,0,"mat-error"),a(),o(21,"mat-form-field")(22,"mat-label"),r(23,"Email"),a(),o(24,"input",8),v("input",function(){return b(g),T(i.onEmailInput())}),a(),c(25,Ot,5,0,"mat-error"),a(),o(26,"mat-form-field")(27,"mat-label"),r(28,"Password"),a(),_(29,"input",9),o(30,"button",10),v("click",function(){return b(g),T(i.isHide.set(!i.isHide()))}),o(31,"mat-icon"),r(32),a()(),c(33,Rt,5,0,"mat-error")(34,jt,5,1,"mat-error")(35,At,5,1,"mat-error"),a(),o(36,"mat-form-field")(37,"mat-label"),r(38,"Role"),a(),o(39,"mat-select",11),V(40,Lt,3,4,"mat-option",12,Ce),a()(),o(42,"mat-form-field")(43,"mat-label"),r(44,"Level"),a(),o(45,"mat-select",13),V(46,Vt,3,4,"mat-option",12,Ce),a()(),o(48,"mat-form-field")(49,"mat-label"),r(50,"Description"),a(),_(51,"textarea",14),c(52,kt,5,0,"mat-error"),a(),o(53,"p",15),r(54," Lorem ipsum dolor, sit amet consectetur adipisicing elit. Totam, nemo. Laboriosam ipsa molestiae voluptatem quasi? Id reiciendis, ut repellat consequatur sapiente voluptatibus temporibus, modi ullam quas sit, amet est consequuntur. "),a()(),o(55,"mat-dialog-actions",16)(56,"button",17),r(57," Reset "),a(),o(58,"button",18),r(59," Submit "),a()()(),o(60,"datalist",19),V(61,Ht,2,2,"option",12,Gt),a()}n&2&&(s("formGroup",i.formGroup()),m(4),C(4,i.avatarUrl()||i.formAvatar().value?4:-1),m(4),s("matTooltipPosition",i.materialConfig.tooltip.position)("matTooltipShowDelay",i.materialConfig.tooltip.showDelay)("matTooltipHideDelay",i.materialConfig.tooltip.hideDelay),m(3),s("value",i.avatarName),m(8),s("minlength",i.usersConfig.fullName.min)("maxlength",i.usersConfig.fullName.max),m(),C(20,i.formGroup().get("fullName").hasError("required")?20:-1),m(4),s("minlength",i.usersConfig.email.min)("maxlength",i.usersConfig.email.max),m(),C(25,i.formGroup().get("email").hasError("required")?25:-1),m(4),s("type",i.isHide()?"password":"text")("minlength",i.usersConfig.password.min)("maxlength",i.usersConfig.password.max),m(),De("aria-label","Hide password"),m(2),y(i.isHide()?"visibility_off":"visibility"),m(),C(33,i.formGroup().get("password").hasError("required")?33:-1),m(),C(34,i.formGroup().get("password").hasError("minlength")?34:-1),m(),C(35,i.formGroup().get("password").hasError("maxlength")?35:-1),m(5),k(i.Object.values(i.roles())),m(6),k(i.Object.values(i.levels())),m(5),s("minlength",i.usersConfig.description.min)("maxlength",i.usersConfig.description.max),m(),C(52,i.formGroup().get("description").hasError("required")?52:-1),m(4),s("disabled",i.formGroup().untouched),m(2),s("mat-dialog-close",i.formGroup().value)("disabled",i.formGroup().invalid),m(3),k(i.emailTypes()))},dependencies:[$,ke,Pe,Re,je,J,K,Z,Ae,Le,Ve,re,ne,oe,ee,He,te,ie,F,Fe,I,Ie,We,$e,Je,Ze,Ke,U,N,Y,X,Oe,bt,q,P,Ye,Xe,Ue,ae],styles:["[_nghost-%COMP%]{display:block;width:100%}mat-dialog-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px}form[_ngcontent-%COMP%]{width:100%}mat-card[_ngcontent-%COMP%]{width:100%}mat-card-content[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:10px}.avatar-image[_ngcontent-%COMP%]{position:relative;width:150px;height:150px;min-height:150px;margin:10px 0}.avatar-image[_ngcontent-%COMP%] > img[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover}"]})}return t})();var xt=[{_id:1,avatar:"assets/signin.png",fullName:"Ikrom Qodirov",email:"jamoliddinqodirov18@gmail.com",password:"234234234",role:"STUDENT",level:"beginner",description:"My description about student"},{_id:2,avatar:"assets/history.png",fullName:"Vali Azimov",email:"jamoliddinqodirov18@gmail.com",password:"234234234",role:"STUDENT",level:"beginner",description:"My description about student"},{_id:3,avatar:"assets/dictionary.png",fullName:"maysara iqrorova",email:"jamoliddinqodirov18@gmail.com",password:"234234234",role:"STUDENT",level:"beginner",description:"My description about student"},{_id:4,avatar:"assets/dictionary.png",fullName:"jonibek ghafuro",email:"jgafurov@gmail.com",password:"234234234",role:"STUDENT",level:"beginner",description:"My description about student"},{_id:5,avatar:"assets/testing.png",fullName:"Jamoliddin Qodirov",email:"jamoliddinqodirov18@gmail.com",password:"234234234",role:"STUDENT",level:"beginner",description:"My description about student"},{_id:6,avatar:"assets/testing.png",fullName:"Jamoliddin Qodirov",email:"jamoliddinqodirov18@gmail.com",password:"234234234",role:"ADMIN",level:"elementary",description:"My description about student"},{_id:7,avatar:"assets/dictionary.png",fullName:"Jamoliddin Qodirov",email:"jamoliddinqodirov18@gmail.com",password:"234234234",role:"STUDENT",level:"beginner",description:"My description about student"},{_id:8,avatar:"assets/dictionary.png",fullName:"Jamoliddin Qodirov",email:"jamoliddinqodirov18@gmail.com",password:"234234234",role:"STUDENT",level:"beginner",description:"My description about student"},{_id:9,avatar:"assets/dictionary.png",fullName:"Jamoliddin Qodirov",email:"jamoliddinqodirov18@gmail.com",password:"234234234",role:"STUDENT",level:"beginner",description:"My description about student"},{_id:10,avatar:"assets/signin.png",fullName:"Komila Jabborova",email:"kjaborova@gmail.com",password:"234234234",role:"STUDENT",level:"beginner",description:"My description about student"},{_id:11,avatar:"assets/student.jpg",fullName:"Asal Urunova",email:"jamoliddinqodirov18@gmail.com",password:"234234234",role:"STUDENT",level:"beginner",description:"My description about student"},{_id:12,avatar:"assets/dictionary.png",fullName:"Laylo Sharipova",email:"jamoliddinqodirov18@gmail.com",password:"234234234",role:"STUDENT",level:"beginner",description:"My description about student"},{_id:13,avatar:"assets/dictionary.png",fullName:"Mumin Azizoda",email:"jamoliddinqodirov18@gmail.com",password:"234234234",role:"STUDENT",level:"beginner",description:"My description about student"},{_id:14,avatar:"assets/testing.png",fullName:"Zebo Nematova",email:"znematova@gmail.com",password:"234234234",role:"STUDENT",level:"beginner",description:"My description about student"},{_id:15,avatar:"assets/admin.png",fullName:"sayfura temurbekova",email:"stemurbek@gmail.com",password:"234234234",role:"STUDENT",level:"beginner",description:"My description about student"},{_id:16,avatar:"assets/dictionary.png",fullName:"Mijgona Bobeva",email:"jamoliddinqodirov18@gmail.com",password:"234234234",role:"STUDENT",level:"beginner",description:"My description about student"},{_id:17,avatar:"assets/dictionary.png",fullName:"Maysar Qodirova",email:"jamoliddinqodirov18@gmail.com",password:"234234234",role:"STUDENT",level:"beginner",description:"My description about student"},{_id:18,avatar:"assets/signin.png",fullName:"Jonona rametova",email:"jamoliddinqodirov18@gmail.com",password:"234234234",role:"STUDENT",level:"beginner",description:"My description about student"},{_id:19,avatar:"assets/dictionary.png",fullName:"Jabbor davlatov",email:"jamoliddinqodirov18@gmail.com",password:"234234234",role:"STUDENT",level:"beginner",description:"My description about student"},{_id:20,avatar:"assets/dictionary.png",fullName:"Daler Halimov",email:"jamoliddinqodirov18@gmail.com",password:"234234234",role:"STUDENT",level:"beginner",description:"My description about student"}],Dt={id:{header:"update",property:"_id",tooltip:"Update current user"},columns:[{header:"Full Name",property:"fullName",tooltip:"Full name of current user"},{header:"Role",property:"role",tooltip:"Current user role (Admin | Student)"}],avatar:{header:"avatar",property:"avatar",tooltip:"Avatar image of user"},dialogComponent:O};var A=class extends Be{data=[];paginator;sort;constructor(){super()}connect(){if(this.paginator&&this.sort)return Se(Te(this.data),this.paginator.page,this.sort.sortChange).pipe(ye(()=>this.getPagedData(this.getSortedData([...this.data]))));throw Error("Please set the paginator and sort on the data source before connecting.")}disconnect(){}getPagedData(l){if(this.paginator){let e=this.paginator.pageIndex*this.paginator.pageSize;return l.splice(e,this.paginator.pageSize)}else return l}getSortedData(l){return!this.sort?.active||this.sort.direction===""?l:l.sort((e,n)=>{let i=this.sort?.direction==="asc";switch(this.sort?.active){case"label":return Et(e.fullName,n.fullName,i);case"_id":return Et(e._id,n._id,i);default:return 0}})}};function Et(t,l,e){return!t||!l?-1:(t<l?-1:1)*(e?1:-1)}var Bt=()=>[5,10,20];function Qt(t,l){t&1&&(o(0,"th",12),r(1,"Cover"),a())}function zt(t,l){if(t&1&&_(0,"img",14),t&2){let e=f().$implicit,n=f(2);s("src",e.avatar,L)("matTooltipPosition",n.materialConfig.tooltip.position)("matTooltipShowDelay",n.materialConfig.tooltip.showDelay)("matTooltipHideDelay",n.materialConfig.tooltip.hideDelay)}}function $t(t,l){if(t&1&&(o(0,"td",13),c(1,zt,1,4,"img",14),a()),t&2){let e=l.$implicit;m(),C(1,e.avatar?1:-1)}}function Jt(t,l){t&1&&(o(0,"th",12),r(1,"Full Name"),a())}function Kt(t,l){if(t&1&&(o(0,"td",13)(1,"div",15),r(2),D(3,"titlecase"),a()()),t&2){let e=l.$implicit,n=f(2);m(),s("matTooltipPosition",n.materialConfig.tooltip.position)("matTooltipShowDelay",n.materialConfig.tooltip.showDelay)("matTooltipHideDelay",n.materialConfig.tooltip.hideDelay),m(),ve(" ",E(3,4,e.fullName)," ")}}function Zt(t,l){t&1&&(o(0,"th",12),r(1,"Role"),a())}function Wt(t,l){if(t&1&&(o(0,"td",13)(1,"div",16),r(2),D(3,"titlecase"),a()()),t&2){let e=l.$implicit,n=f(2);m(),s("matTooltipPosition",n.materialConfig.tooltip.position)("matTooltipShowDelay",n.materialConfig.tooltip.showDelay)("matTooltipHideDelay",n.materialConfig.tooltip.hideDelay),m(),ve(" ",E(3,4,e.role)," ")}}function Xt(t,l){t&1&&(o(0,"th",12),r(1,"Update"),a())}function Yt(t,l){if(t&1){let e=w();o(0,"td",13)(1,"button",17),v("click",function(){let i=b(e).$implicit,g=f(2);return T(g.update(i._id))}),o(2,"mat-icon"),r(3,"open_in_new"),a()()()}if(t&2){let e=f(2);m(),s("matTooltipPosition",e.materialConfig.tooltip.position)("matTooltipShowDelay",e.materialConfig.tooltip.showDelay)("matTooltipHideDelay",e.materialConfig.tooltip.hideDelay)}}function ei(t,l){t&1&&_(0,"tr",18)}function ti(t,l){t&1&&_(0,"tr",19)}function ii(t,l){t&1&&(o(0,"tr"),r(1,' class="mat-row" '),o(2,"td",20),r(3,"No data matching the filter"),a()())}function oi(t,l){if(t&1&&(o(0,"table",1),R(1,2),c(2,Qt,2,0,"th",3)(3,$t,2,1,"td",4),j(),R(4,5),c(5,Jt,2,0,"th",3)(6,Kt,4,6,"td",4),j(),R(7,6),c(8,Zt,2,0,"th",3)(9,Wt,4,6,"td",4),j(),R(10,7),c(11,Xt,2,0,"th",3)(12,Yt,4,3,"td",4),j(),c(13,ei,1,0,"tr",8)(14,ti,1,0,"tr",9)(15,ii,4,0,"tr",10),a(),_(16,"mat-paginator",11,0)),t&2){let e=f();m(13),s("matHeaderRowDef",e.displayedColumns()),m(),s("matRowDefColumns",e.displayedColumns()),m(2),s("length",e.list().length)("pageIndex",0)("pageSize",10)("pageSizeOptions",Ne(6,Bt))}}var Nt=class he{materialConfig;dialog;paginator;sort;table;list=xe.required();valueChange=we();listChange$=Ct(this.list);listChange;dialogRef;formGroup=u(new W({avatar:new p(""),fullName:new p("",[d.required]),email:new p("",[d.required]),password:new p("",[d.required]),role:new p("",[d.required]),level:new p("",[d.required]),description:new p("")}));displayedColumns=u(["avatar","fullName","role","_id"]);dataSource=u(new A);constructor(l,e){this.materialConfig=l,this.dialog=e}ngAfterViewInit(){this.tableInit(),this.onListChange()}update(l){let e=this.list().findIndex(n=>n._id===l);e!==-1&&(fe(this.formGroup()),ft(this.dialogRef),this.dialogRef=this.openDialog(this.list()[e]).subscribe(n=>{n&&(this.valueChange.emit(n),this.tableInit())}))}openDialog(l){let n={formGroup:gt(l,this.formGroup())};return this.dialog.open(O,{data:n}).afterClosed()}tableInit(){this.dataSource.set(new A),this.dataSource().data=this.list(),this.dataSource().sort=this.sort,this.dataSource().paginator=this.paginator,this.table.dataSource=this.dataSource()}onListChange(){console.log("onListChange"),this.listChange=this.listChange$.subscribe(()=>{console.log("listObservable: "),this.tableInit()})}static \u0275fac=function(e){return new(e||he)(h(G),h(se))};static \u0275cmp=M({type:he,selectors:[["comp-users-table"]],viewQuery:function(e,n){if(e&1&&(H(ue,5),H(ce,5),H(pe,5)),e&2){let i;B(i=Q())&&(n.paginator=i.first),B(i=Q())&&(n.sort=i.first),B(i=Q())&&(n.table=i.first)}},inputs:{list:[Me.SignalBased,"list"]},outputs:{valueChange:"valueChange"},standalone:!0,features:[x],decls:1,vars:1,consts:[["paginator",""],["mat-table","","matSort",""],["matColumnDef","avatar"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","fullName"],["matColumnDef","role"],["matColumnDef","_id"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[4,"matNoDataRow"],["aria-label","Select page",3,"length","pageIndex","pageSize","pageSizeOptions"],["mat-header-cell",""],["mat-cell",""],["loading","lazy","matTooltip","Avatar image of user","alt","",1,"avatar",3,"src","matTooltipPosition","matTooltipShowDelay","matTooltipHideDelay"],["matTooltip","Full Name of user",3,"matTooltipPosition","matTooltipShowDelay","matTooltipHideDelay"],["matTooltip","User Role",3,"matTooltipPosition","matTooltipShowDelay","matTooltipHideDelay"],["matTooltip","Open this Document and update it","mat-icon-button","",3,"click","matTooltipPosition","matTooltipShowDelay","matTooltipHideDelay"],["mat-header-row",""],["mat-row",""],["colspan","4",1,"mat-cell"]],template:function(e,n){e&1&&c(0,oi,18,7),e&2&&C(0,n.dataSource()?0:-1)},dependencies:[$,dt,pe,tt,nt,it,et,rt,ot,at,lt,mt,st,pt,ue,ut,ce,U,N,q,P,F,I],styles:["[_nghost-%COMP%]{display:block;width:100%}.avatar[_ngcontent-%COMP%]{display:block;width:42px;height:42px;border-radius:50%;object-fit:cover}td[_ngcontent-%COMP%]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}div[_ngcontent-%COMP%]{width:min-content}"]})};Nt=be([ct()],Nt);function ai(t,l){if(t&1){let e=w();o(0,"button",7),v("click",function(){b(e);let i=f();return T(i.searchField().reset())}),o(1,"mat-icon"),r(2,"close"),a()()}}var Mo=(()=>{class t{materialConfig;usersConfig;dialog;usersList=u(xt);tableData=u(Dt);searchField=u(new p("",d.required));dialogRef;formGroup;constructor(e,n,i){this.materialConfig=e,this.usersConfig=n,this.dialog=i}ngOnInit(){this.formGroupInit()}onAddUser(){this.dialogRef=this.openDialog().subscribe(e=>{e&&this.usersList.update(n=>(n.unshift(e),n))})}onUpdateUser(e){if(!e?._id)return;let n=e._id,i=this.usersList().findIndex(g=>g._id===n);this.usersList.update(g=>(g.splice(i,1,e),g))}openDialog(){let e={formGroup:this.formGroup()};return this.dialog.open(O,{data:e}).afterClosed()}formGroupInit(){let e=new W({avatar:new p(""),fullName:new p("",[d.required,d.minLength(this.usersConfig.fullName.min),d.maxLength(this.usersConfig.fullName.max)]),email:new p("",[d.required,d.email,d.minLength(this.usersConfig.email.min),d.maxLength(this.usersConfig.email.max)]),password:new p("",[d.required,d.minLength(this.usersConfig.password.min),d.maxLength(this.usersConfig.password.max)]),description:new p("",[d.maxLength(this.usersConfig.description.max)]),role:new p(le.STUDENT,[d.required]),level:new p(me.BEGINNER,[d.required])});this.formGroup=u(e)}static \u0275fac=function(n){return new(n||t)(h(G),h(de),h(se))};static \u0275cmp=M({type:t,selectors:[["app-users"]],standalone:!0,features:[x],decls:15,vars:11,consts:[[1,"mat-headline-2","text-center"],[1,"example-form-field"],["matPrefix","","mat-icon-button",""],["matInput","","type","text",3,"formControl"],["matSuffix","","mat-icon-button","","aria-label","Search"],["mat-fab","","color","primary","matTooltip","Add new User",3,"click","matTooltipPosition","matTooltipShowDelay","matTooltipHideDelay"],[3,"valueChange","list","columns","identify","avatar","dialogComponent","formGroup"],["matPrefix","","mat-icon-button","",3,"click"]],template:function(n,i){n&1&&(o(0,"h1",0),r(1,"User Accounts"),a(),o(2,"header")(3,"mat-form-field",1)(4,"mat-label"),r(5,"Search Users"),a(),c(6,ai,3,0,"button",2),_(7,"input",3),o(8,"button",4)(9,"mat-icon"),r(10,"search"),a()()(),o(11,"button",5),v("click",function(){return i.onAddUser()}),o(12,"mat-icon"),r(13,"add"),a()()(),o(14,"comp-table",6),v("valueChange",function(S){return i.onUpdateUser(S)}),a()),n&2&&(m(6),C(6,i.searchField().value?6:-1),m(),s("formControl",i.searchField()),m(4),s("matTooltipPosition",i.materialConfig.tooltip.position)("matTooltipShowDelay",i.materialConfig.tooltip.showDelay)("matTooltipHideDelay",i.materialConfig.tooltip.hideDelay),m(3),s("list",i.usersList())("columns",i.tableData().columns)("identify",i.tableData().id)("avatar",i.tableData().avatar)("dialogComponent",i.tableData().dialogComponent)("formGroup",i.formGroup()))},dependencies:[ht,F,I,Ge,U,N,vt,q,P,ae,oe,ee,te,ie,re,ne,Y,J,K,Z,qe,X,_t],styles:["[_nghost-%COMP%]{flex:0 0 100vw;overflow-x:hidden}@media screen and (min-width: 960px){[_nghost-%COMP%]{flex:1 1 auto}}mat-form-field[_ngcontent-%COMP%]{flex:0 1 550px}header[_ngcontent-%COMP%]{display:flex;gap:8px}"]})}return t})();export{Mo as UsersComponent};
