import{a as me,b as le}from"./chunk-PXGN2JG4.js";import{a as ne,b as ae,c as re}from"./chunk-G3SFXQSY.js";import"./chunk-FYXAUPIQ.js";import{f as ee}from"./chunk-73FD5PWE.js";import"./chunk-SSLYQRHY.js";import"./chunk-WSDEOAYZ.js";import"./chunk-5CC4SUG3.js";import"./chunk-ZEEIW5SF.js";import"./chunk-7MLRNDAE.js";import"./chunk-X6D6ZXMZ.js";import"./chunk-EEPI5JBV.js";import{d as X}from"./chunk-OELXEG4N.js";import"./chunk-A3HFD2ZB.js";import{a as te,b as oe,c as ie}from"./chunk-WQUYFIZ5.js";import"./chunk-L4VVBDDS.js";import{d as Z}from"./chunk-FDFBILGX.js";import"./chunk-OKG76SOY.js";import"./chunk-YCVZ2DKW.js";import{a as J,b as W}from"./chunk-3RUGDQG5.js";import{a as Q,c as $,d as Y,g as K,h as z}from"./chunk-JJGNKWU3.js";import{b as O,c as R,e as j,f as H,i as N,k as U,l as q,x as B}from"./chunk-B6A23TUE.js";import"./chunk-RGNDWIHZ.js";import"./chunk-ZITBM2SP.js";import"./chunk-MDARTJMG.js";import{a as A,b as G}from"./chunk-2G67OSBZ.js";import{$ as L,ba as P,ca as k}from"./chunk-DZWWLC2F.js";import"./chunk-ATQ6OJSW.js";import{A as h,Ab as d,Fb as I,H as _,J as g,Jb as n,Kb as a,Lb as S,Pb as f,Sb as u,Ub as T,X as b,Z as M,ac as x,bb as l,bc as F,cb as c,dc as m,i as v,jc as V,la as D,n as C,nb as r,ob as E,ua as p,va as s,vb as w}from"./chunk-E25BKHHC.js";var ce=["searchInput"];function fe(se,o){if(se&1){let t=f();n(0,"button",8),u("click",function(){p(t);let i=T();return s(i.searchControl().reset())}),n(1,"mat-icon"),m(2,"close"),a()()}}var pe=class y{materialConfig;dialog;searchInput=E.required("searchInput");everydayList=r(ae);searchControl=r(new N("",[R.required]));tableData=r(re);formGroup=r(X);destroy$=r(new v);constructor(o,t){this.materialConfig=o,this.dialog=t}ngAfterViewInit(){this.onInputHandler()}onAddEveryday(){this.openDialog().pipe(g(1)).subscribe(o=>{this.everydayList.update(t=>(t.unshift(o),t))})}onUpdateEveryday(o){if(!o._id)return;let t=o._id,e=this.everydayList().findIndex(i=>i._id===t);this.everydayList.update(i=>(i.splice(e,1,o),i))}openDialog(){let o={formGroup:this.formGroup()};return this.dialog.open(ne,{data:o}).afterClosed()}onInputHandler(){let o=this.searchInput().nativeElement;h(o,"input").pipe(_(1e3),b(this.destroy$()),M(t=>{let e=t.target;this.searchDocument(e.value)})).subscribe()}searchDocument(o){let t=this.everydayList().filter(e=>Z(e.label,o));this.everydayList.set(t)}ngOnDestroy(){this.destroy$().next(!0)}static \u0275fac=function(t){return new(t||y)(c(ie),c(ee))};static \u0275cmp=D({type:y,selectors:[["app-everyday"]],viewQuery:function(t,e){t&1&&x(e.searchInput,ce,5),t&2&&F()},standalone:!0,features:[V],decls:16,vars:11,consts:[["searchInput",""],[1,"mat-headline-2","text-center"],[1,"example-form-field"],["matPrefix","","mat-icon-button",""],["matInput","","type","text",3,"formControl"],["matSuffix","","mat-icon-button","","aria-label","Search"],["mat-fab","","color","primary","matTooltip","Add new Document",3,"click","matTooltipPosition","matTooltipShowDelay","matTooltipHideDelay"],[3,"valueChange","list","columns","identify","avatar","dialogComponent","formGroup"],["matPrefix","","mat-icon-button","",3,"click"]],template:function(t,e){if(t&1){let i=f();n(0,"h1",1),m(1,"Everyday Documents"),a(),n(2,"header")(3,"mat-form-field",2)(4,"mat-label"),m(5,"Search Documents"),a(),w(6,fe,3,0,"button",3),S(7,"input",4,0),n(9,"button",5)(10,"mat-icon"),m(11,"search"),a()()(),n(12,"button",6),u("click",function(){return p(i),s(e.onAddEveryday())}),n(13,"mat-icon"),m(14,"add"),a()()(),n(15,"comp-table",7),u("valueChange",function(ue){return p(i),s(e.onUpdateEveryday(ue))}),a()}t&2&&(l(6),I(6,e.searchControl().value?6:-1),l(),d("formControl",e.searchControl()),l(5),d("matTooltipPosition",e.materialConfig.tooltip.position)("matTooltipShowDelay",e.materialConfig.tooltip.showDelay)("matTooltipHideDelay",e.materialConfig.tooltip.hideDelay),l(3),d("list",e.everydayList())("columns",e.tableData().columns)("identify",e.tableData().id)("avatar",e.tableData().avatar)("dialogComponent",e.tableData().dialogComponent)("formGroup",e.formGroup()))},dependencies:[B,O,j,H,U,q,k,P,L,G,A,W,J,K,Q,$,Y,z,oe,te,le],styles:["[_nghost-%COMP%]{flex:0 0 100vw;overflow-x:hidden}@media screen and (min-width: 960px){[_nghost-%COMP%]{flex:1 1 auto}}mat-form-field[_ngcontent-%COMP%]{flex:0 1 550px}header[_ngcontent-%COMP%]{display:flex;gap:8px}"]})};pe=C([me()],pe);export{pe as EverydayComponent};
