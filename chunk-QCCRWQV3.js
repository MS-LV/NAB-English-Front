import{a as Le}from"./chunk-DDCKFMMT.js";import{a as ke,b as Re}from"./chunk-BKY7WMAJ.js";import{c as De}from"./chunk-KXUFQZIM.js";import{b as N,c as G}from"./chunk-YCVZ2DKW.js";import{a as Fe,b as Ne}from"./chunk-Z3NAGWM3.js";import{a as te,b as ie,c as ne,d as oe,e as re,f as ae,g as le,i as me,j as se}from"./chunk-WU43Z2PU.js";import{a as Ve,b as Be,c as He}from"./chunk-WRIK7YZC.js";import{a as je,b as qe}from"./chunk-VIGM4TIH.js";import"./chunk-EIV6QZRO.js";import"./chunk-P2KDBDCF.js";import{c as Ge}from"./chunk-PK5IVVJZ.js";import{a as Te,b as Oe,d as Se,g as Pe,h as Ie}from"./chunk-IUNWJZ3G.js";import{b as ue,c as p,e as fe,f as he,g as F,i as h,j as Ce,l as ge,n as _e,o as ye,p as ve,q as xe,r as be,s as Me,v as Ee,w as we}from"./chunk-FKZNMG4K.js";import"./chunk-RGNDWIHZ.js";import{a as X,b as ee}from"./chunk-WJ2WTO7Q.js";import{U as Q,aa as de,ba as pe,ca as ce}from"./chunk-IJDN24GB.js";import"./chunk-YN2XHAVH.js";import{Ab as S,Ac as Y,Bb as w,Cb as T,Db as o,Eb as r,Fb as f,Ga as H,Jb as K,Jc as J,Mb as y,Ob as v,Wb as Z,Xb as l,Yb as x,Za as A,aa as k,ab as m,ba as R,bb as g,da as j,dc as z,fa as q,hc as P,ic as I,jb as U,ka as O,la as L,ma as V,mb as c,na as B,sb as _,tb as $,ua as b,ub as d,uc as W,va as M,zb as u}from"./chunk-AP74RX5A.js";var D=class{constructor(i,a){this._document=a;let n=this._textarea=this._document.createElement("textarea"),t=n.style;t.position="fixed",t.top=t.opacity="0",t.left="-999em",n.setAttribute("aria-hidden","true"),n.value=i,n.readOnly=!0,(this._document.fullscreenElement||this._document.body).appendChild(n)}copy(){let i=this._textarea,a=!1;try{if(i){let n=this._document.activeElement;i.select(),i.setSelectionRange(0,i.value.length),a=this._document.execCommand("copy"),n&&n.focus()}}catch{}return a}destroy(){let i=this._textarea;i&&(i.remove(),this._textarea=void 0)}},Ke=(()=>{let i=class i{constructor(n){this._document=n}copy(n){let t=this.beginCopy(n),s=t.copy();return t.destroy(),s}beginCopy(n){return new D(n,this._document)}};i.\u0275fac=function(t){return new(t||i)(q(Y))},i.\u0275prov=k({token:i,factory:i.\u0275fac,providedIn:"root"});let e=i;return e})(),Ze=new j("CDK_COPY_TO_CLIPBOARD_CONFIG"),Ae=(()=>{let i=class i{constructor(n,t,s){this._clipboard=n,this._ngZone=t,this.text="",this.attempts=1,this.copied=new H,this._pending=new Set,s&&s.attempts!=null&&(this.attempts=s.attempts)}copy(n=this.attempts){if(n>1){let t=n,s=this._clipboard.beginCopy(this.text);this._pending.add(s);let C=()=>{let E=s.copy();!E&&--t&&!this._destroyed?this._currentTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(C,1)):(this._currentTimeout=null,this._pending.delete(s),s.destroy(),this.copied.emit(E))};C()}else this.copied.emit(this._clipboard.copy(this.text))}ngOnDestroy(){this._currentTimeout&&clearTimeout(this._currentTimeout),this._pending.forEach(n=>n.destroy()),this._pending.clear(),this._destroyed=!0}};i.\u0275fac=function(t){return new(t||i)(g(Ke),g(U),g(Ze,8))},i.\u0275dir=B({type:i,selectors:[["","cdkCopyToClipboard",""]],hostBindings:function(t,s){t&1&&y("click",function(){return s.copy()})},inputs:{text:[O.None,"cdkCopyToClipboard","text"],attempts:[O.None,"cdkCopyToClipboardAttempts","attempts"]},outputs:{copied:"cdkCopyToClipboardCopied"},standalone:!0});let e=i;return e})(),Ue=(()=>{let i=class i{};i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=V({type:i}),i.\u0275inj=R({});let e=i;return e})();var We=(e,i)=>i.name;function Ye(e,i){if(e&1&&f(0,"img",5),e&2){let a=v();d("src",a.coverUrl(),A)}}function Je(e,i){e&1&&f(0,"img",22)}function Qe(e,i){e&1&&(o(0,"mat-error"),l(1,"Full Name is "),o(2,"strong"),l(3,"required"),r()())}function Xe(e,i){e&1&&(o(0,"mat-error"),l(1,"email name is "),o(2,"strong"),l(3,"required"),r()())}function et(e,i){e&1&&(o(0,"mat-error"),l(1,"incorrect syntax "),o(2,"strong"),l(3,"email"),r()())}function tt(e,i){e&1&&(o(0,"mat-error"),l(1,"Fill "),o(2,"b"),l(3,"Password"),r(),l(4," field"),r())}function it(e,i){if(e&1&&(o(0,"mat-error"),l(1,"Password minimum length "),o(2,"b"),l(3),r(),l(4," symbols"),r()),e&2){let a=v();m(3),x(a.usersConfig.password.min)}}function nt(e,i){if(e&1&&(o(0,"mat-error"),l(1,"Password maximum length "),o(2,"b"),l(3),r(),l(4," symbols"),r()),e&2){let a=v();m(3),x(a.usersConfig.password.max)}}function ot(e,i){e&1&&f(0,"input",14)}function rt(e,i){if(e&1&&(o(0,"mat-option",21),l(1),P(2,"titlecase"),r()),e&2){let a=i.$implicit;d("value",a),m(),x(I(2,2,a))}}function at(e,i){if(e&1&&(o(0,"mat-select",23),w(1,rt,3,4,"mat-option",21,S),r()),e&2){let a=v();m(),T(a.Object.values(a.roles()))}}function lt(e,i){e&1&&f(0,"input",15)}function mt(e,i){if(e&1&&(o(0,"mat-option",21),l(1),P(2,"titlecase"),r()),e&2){let a=i.$implicit;d("value",a),m(),x(I(2,2,a))}}function st(e,i){if(e&1&&(o(0,"mat-select",24),w(1,mt,3,4,"mat-option",21,S),r()),e&2){let a=v();d("panelClass",a.isReadOnly()?"hidden":""),m(),T(a.Object.values(a.levels()))}}function dt(e,i){if(e&1&&(o(0,"option",21),l(1),r()),e&2){let a=i.$implicit,n=v();d("value",n.emailField()[0]+a.value),m(),x(a.name)}}var Wt=(()=>{class e{usersConfig;materialConfig;formGroup=c(new F({}));emailTypes=c([{name:"Gmail",value:"@gmail.com"},{name:"Email",value:"@email.ru"}]);formChanges$;emailField=c([""]);coverUrl=c("");isReadOnly=c(!0);isFormChanges=c(!1);isHide=c(!0);roles=c(N);levels=c(G);formCoverFile=W(()=>this.formGroup().get("avatar"));Object=Object;constructor(a,n){this.usersConfig=a,this.materialConfig=n}get coverFileName(){return this.formCoverFile().value.name??""}ngOnInit(){this.formGroupInit(),this.formChanges$=this.formGroup().valueChanges.subscribe(()=>{this.isFormChanges.set(!0)})}onEmailInput(){if(!this.formGroup().get("email").value){this.emailField.set([""]);return}let n=this.formGroup().get("email").value.match(new RegExp(/^\w+/));this.emailField.set(n)}onInputFileChange(a){let n=a.files;if(!n?.item(0))return;let t=n.item(0);this.formCoverFile().patchValue(t),this.coverUrl.set(Ge(this.formCoverFile().value)),console.log("file: ",this.formGroup().value)}ngOnDestroy(){this.formChanges$.unsubscribe()}formGroupInit(){let a=new F({avatar:new h(""),fullName:new h("Jamoliddin Qodirov",[p.required,p.minLength(this.usersConfig.fullName.min),p.maxLength(this.usersConfig.fullName.max)]),email:new h("jqodirov@gmail.com",[p.required,p.email,p.minLength(this.usersConfig.email.min),p.maxLength(this.usersConfig.email.max)]),description:new h("Description about student",[p.max(this.usersConfig.description.max)]),password:new h("325544",[p.required,p.minLength(this.usersConfig.password.min),p.maxLength(this.usersConfig.password.max)]),role:new h(N.STUDENT,[p.required]),level:new h(G.BEGINNER,[p.required])});this.formGroup.set(a)}static \u0275fac=function(n){return new(n||e)(g(Le),g(Ve))};static \u0275cmp=L({type:e,selectors:[["app-profile"]],standalone:!0,features:[z],decls:70,vars:27,consts:[["f_input",""],[3,"formGroup"],[1,"example-card"],["id","user_photo","type","file","hidden","","accept","image/*",3,"change"],["matTooltip","Upload cover image for document","mat-card-avatar","","for","user_photo",3,"matTooltipPosition","matTooltipShowDelay","matTooltipHideDelay"],["alt","",3,"src"],[1,"hover-icon"],[1,"card-right"],["mat-mini-fab","",3,"click","color"],["mat-icon-button","",1,"copy-button",3,"cdkCopyToClipboard"],["matInput","","formControlName","fullName","required","",3,"readonly"],["matInput","","type","email","formControlName","email","list","emailTypes","required","","placeholder","example@gmail.com",3,"input","readonly"],["matInput","","formControlName","password",3,"type","readonly","minlength","maxlength"],["type","button","mat-icon-button","","matSuffix","",3,"click"],["matInput","","formControlName","role","required","","readonly",""],["matInput","","formControlName","level","required","","readonly",""],["matInput","","rows","5","formControlName","description","placeholder","Write about youself",3,"minlength","maxlength","readonly"],["mat-icon-button","","type","submit","color","primary",3,"disabled"],["mat-icon-button","","color","warn"],["mode","indeterminate"],["id","emailTypes"],[3,"value"],["src","assets/dictionary.png","alt",""],["formControlName","role","required",""],["formControlName","level","required","",3,"panelClass"]],template:function(n,t){if(n&1){let s=K();o(0,"form",1)(1,"mat-card",2)(2,"mat-card-header")(3,"input",3,0),y("change",function(){b(s);let E=Z(4);return M(t.onInputFileChange(E))}),r(),o(5,"label",4),_(6,Ye,1,1,"img",5)(7,Je,1,0),o(8,"div",6)(9,"mat-icon"),l(10,"edit"),r()()(),o(11,"mat-card-title"),l(12,"Mumina Solieva"),r(),o(13,"mat-card-title",7)(14,"button",8),y("click",function(){return b(s),M(t.isReadOnly.set(!t.isReadOnly()))}),o(15,"mat-icon"),l(16,"edit"),r()()(),o(17,"mat-card-subtitle"),l(18," ID: a562swd2ql109 "),o(19,"button",9)(20,"mat-icon"),l(21,"content_copy"),r()()()(),o(22,"mat-card-content")(23,"mat-form-field")(24,"mat-label"),l(25,"Full Name"),r(),f(26,"input",10),_(27,Qe,4,0,"mat-error"),r(),o(28,"mat-form-field")(29,"mat-label"),l(30,"Email"),r(),o(31,"input",11),y("input",function(){return b(s),M(t.onEmailInput())}),r(),_(32,Xe,4,0,"mat-error")(33,et,4,0,"mat-error"),r(),o(34,"mat-form-field")(35,"mat-label"),l(36,"Password"),r(),f(37,"input",12),o(38,"button",13),y("click",function(){return b(s),M(t.isHide.set(!t.isHide()))}),o(39,"mat-icon"),l(40),r()(),_(41,tt,5,0,"mat-error")(42,it,5,1,"mat-error")(43,nt,5,1,"mat-error"),r(),o(44,"mat-form-field")(45,"mat-label"),l(46,"Role"),r(),_(47,ot,1,0,"input",14)(48,at,3,0),r(),o(49,"mat-form-field")(50,"mat-label"),l(51,"Level"),r(),_(52,lt,1,0,"input",15)(53,st,3,1),r(),o(54,"mat-form-field")(55,"mat-label"),l(56,"Description"),r(),f(57,"textarea",16),r()(),o(58,"mat-card-footer")(59,"mat-card-actions")(60,"button",17)(61,"mat-icon"),l(62,"save"),r()(),o(63,"button",18)(64,"mat-icon"),l(65,"delete"),r()()(),f(66,"mat-progress-bar",19),r()()(),o(67,"datalist",20),w(68,dt,2,2,"option",21,We),r()}n&2&&(d("formGroup",t.formGroup()),m(5),d("matTooltipPosition",t.materialConfig.tooltip.position)("matTooltipShowDelay",t.materialConfig.tooltip.showDelay)("matTooltipHideDelay",t.materialConfig.tooltip.hideDelay),m(),u(6,t.coverUrl()&&t.formCoverFile().value?6:7),m(8),d("color",t.isReadOnly()?"":"primary"),m(5),d("cdkCopyToClipboard","Hello World !"),m(7),d("readonly",t.isReadOnly()),m(),u(27,t.formGroup().get("fullName").hasError("required")?27:-1),m(4),d("readonly",t.isReadOnly()),m(),u(32,t.formGroup().get("email").hasError("required")?32:-1),m(),u(33,t.formGroup().get("email").hasError("email")?33:-1),m(4),d("type",t.isHide()?"password":"text")("readonly",t.isReadOnly())("minlength",t.usersConfig.password.min)("maxlength",t.usersConfig.password.max),m(),$("aria-label","Hide password"),m(2),x(t.isHide()?"visibility_off":"visibility"),m(),u(41,t.formGroup().get("password").hasError("required")?41:-1),m(),u(42,t.formGroup().get("password").hasError("minlength")?42:-1),m(),u(43,t.formGroup().get("password").hasError("maxlength")?43:-1),m(4),u(47,t.isReadOnly()?47:48),m(5),u(52,t.isReadOnly()?52:53),m(5),d("minlength",t.usersConfig.description.min)("maxlength",t.usersConfig.description.max)("readonly",t.isReadOnly()),m(3),d("disabled",!t.isFormChanges()||t.formGroup().invalid),m(8),T(t.emailTypes()))},dependencies:[De,se,te,re,me,ne,le,ae,oe,ie,ee,X,ce,pe,de,Re,ke,Ie,Pe,Te,Oe,Se,Ne,Fe,Ue,Ae,He,Be,qe,je,Q,Ee,Ce,ye,ve,ue,fe,he,xe,be,Me,J,we,ge,_e],styles:["[_nghost-%COMP%]{flex:0 0 100vw;overflow-x:hidden}@media screen and (min-width: 960px){[_nghost-%COMP%]{flex:1 1 auto}}form[_ngcontent-%COMP%]{max-width:700px;margin:0 auto}.copy-icon[_ngcontent-%COMP%]{font-size:15px;height:15px;width:15px}mat-form-field[_ngcontent-%COMP%]{width:100%}mat-card-title[_ngcontent-%COMP%]{display:inline}mat-card-header[_ngcontent-%COMP%]     .mat-mdc-card-header-text{width:100%}.card-right[_ngcontent-%COMP%]{position:absolute;top:15px;right:15px}mat-card-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;column-gap:8px}label[for=user_photo][_ngcontent-%COMP%]{position:relative}label[for=user_photo][_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%}label[for=user_photo][_ngcontent-%COMP%]:hover   .hover-icon[_ngcontent-%COMP%]{opacity:1}.hover-icon[_ngcontent-%COMP%]{position:absolute;top:0;left:0;display:flex;justify-content:center;align-items:center;width:100%;height:100%;border-radius:50%;background:#00000080;color:#fff;opacity:0;transition:.3s;overflow:hidden}label[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:50%;object-fit:cover}.hidden[_ngcontent-%COMP%]{display:none}"]})}return e})();export{Wt as ProfileComponent};
