import{a as Ae,b as Ue}from"./chunk-A3HFD2ZB.js";import{c as He}from"./chunk-QLHMX4IY.js";import{a as Ve,b as Be}from"./chunk-QMC2GGUA.js";import{a as je,b as qe,c as Le}from"./chunk-WQUYFIZ5.js";import"./chunk-L4VVBDDS.js";import{c as Re}from"./chunk-FDFBILGX.js";import{b as ke}from"./chunk-OKG76SOY.js";import{b as N,c as G}from"./chunk-YCVZ2DKW.js";import{a as Ge,b as De}from"./chunk-3RUGDQG5.js";import{a as Oe,b as Se,d as Ie,g as Pe,h as Ne}from"./chunk-JJGNKWU3.js";import{b as he,c as p,e as Ce,f as ge,g as P,i as h,j as _e,l as ye,o as ve,p as xe,q as be,r as Me,s as Ee,t as we,w as Fe,x as Te}from"./chunk-B6A23TUE.js";import"./chunk-RGNDWIHZ.js";import{a as oe,b as ne,c as re,d as ae,e as le,f as me,g as se,i as de,j as pe}from"./chunk-MDARTJMG.js";import{a as te,b as ie}from"./chunk-2G67OSBZ.js";import{U as ee,aa as ce,ba as ue,ca as fe}from"./chunk-DZWWLC2F.js";import"./chunk-ATQ6OJSW.js";import{Ab as d,Bc as J,Fb as u,Ga as U,Gb as O,Hb as w,Ib as F,Ic as Q,Jb as n,Kb as r,Lb as f,Pb as z,Pd as X,Sb as y,Ub as v,X as R,_a as $,aa as j,ba as q,bb as m,cb as g,cc as W,da as L,dc as l,ec as x,fa as V,i as k,jc as Y,ka as T,kb as K,la as B,ma as H,na as A,nb as c,nc as S,oc as I,ua as b,va as M,vb as _,zb as Z}from"./chunk-E25BKHHC.js";var D=class{constructor(i,a){this._document=a;let o=this._textarea=this._document.createElement("textarea"),t=o.style;t.position="fixed",t.top=t.opacity="0",t.left="-999em",o.setAttribute("aria-hidden","true"),o.value=i,o.readOnly=!0,(this._document.fullscreenElement||this._document.body).appendChild(o)}copy(){let i=this._textarea,a=!1;try{if(i){let o=this._document.activeElement;i.select(),i.setSelectionRange(0,i.value.length),a=this._document.execCommand("copy"),o&&o.focus()}}catch{}return a}destroy(){let i=this._textarea;i&&(i.remove(),this._textarea=void 0)}},ze=(()=>{let i=class i{constructor(o){this._document=o}copy(o){let t=this.beginCopy(o),s=t.copy();return t.destroy(),s}beginCopy(o){return new D(o,this._document)}};i.\u0275fac=function(t){return new(t||i)(V(Q))},i.\u0275prov=j({token:i,factory:i.\u0275fac,providedIn:"root"});let e=i;return e})(),We=new L("CDK_COPY_TO_CLIPBOARD_CONFIG"),$e=(()=>{let i=class i{constructor(o,t,s){this._clipboard=o,this._ngZone=t,this.text="",this.attempts=1,this.copied=new U,this._pending=new Set,s&&s.attempts!=null&&(this.attempts=s.attempts)}copy(o=this.attempts){if(o>1){let t=o,s=this._clipboard.beginCopy(this.text);this._pending.add(s);let C=()=>{let E=s.copy();!E&&--t&&!this._destroyed?this._currentTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(C,1)):(this._currentTimeout=null,this._pending.delete(s),s.destroy(),this.copied.emit(E))};C()}else this.copied.emit(this._clipboard.copy(this.text))}ngOnDestroy(){this._currentTimeout&&clearTimeout(this._currentTimeout),this._pending.forEach(o=>o.destroy()),this._pending.clear(),this._destroyed=!0}};i.\u0275fac=function(t){return new(t||i)(g(ze),g(K),g(We,8))},i.\u0275dir=A({type:i,selectors:[["","cdkCopyToClipboard",""]],hostBindings:function(t,s){t&1&&y("click",function(){return s.copy()})},inputs:{text:[T.None,"cdkCopyToClipboard","text"],attempts:[T.None,"cdkCopyToClipboardAttempts","attempts"]},outputs:{copied:"cdkCopyToClipboardCopied"},standalone:!0});let e=i;return e})(),Ke=(()=>{let i=class i{};i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=H({type:i}),i.\u0275inj=q({});let e=i;return e})();var Je=(e,i)=>i.name;function Qe(e,i){if(e&1&&f(0,"img",5),e&2){let a=v();d("src",a.coverUrl(),$)}}function Xe(e,i){e&1&&f(0,"img",22)}function et(e,i){e&1&&(n(0,"mat-error"),l(1,"Full Name is "),n(2,"strong"),l(3,"required"),r()())}function tt(e,i){e&1&&(n(0,"mat-error"),l(1,"email name is "),n(2,"strong"),l(3,"required"),r()())}function it(e,i){e&1&&(n(0,"mat-error"),l(1,"incorrect syntax "),n(2,"strong"),l(3,"email"),r()())}function ot(e,i){e&1&&(n(0,"mat-error"),l(1,"Fill "),n(2,"b"),l(3,"Password"),r(),l(4," field"),r())}function nt(e,i){if(e&1&&(n(0,"mat-error"),l(1,"Password minimum length "),n(2,"b"),l(3),r(),l(4," symbols"),r()),e&2){let a=v();m(3),x(a.usersFormConfig.password.min)}}function rt(e,i){if(e&1&&(n(0,"mat-error"),l(1,"Password maximum length "),n(2,"b"),l(3),r(),l(4," symbols"),r()),e&2){let a=v();m(3),x(a.usersFormConfig.password.max)}}function at(e,i){e&1&&f(0,"input",14)}function lt(e,i){if(e&1&&(n(0,"mat-option",21),l(1),S(2,"titlecase"),r()),e&2){let a=i.$implicit;d("value",a),m(),x(I(2,2,a))}}function mt(e,i){if(e&1&&(n(0,"mat-select",23),w(1,lt,3,4,"mat-option",21,O),r()),e&2){let a=v();m(),F(a.Object.values(a.roles()))}}function st(e,i){e&1&&f(0,"input",15)}function dt(e,i){if(e&1&&(n(0,"mat-option",21),l(1),S(2,"titlecase"),r()),e&2){let a=i.$implicit;d("value",a),m(),x(I(2,2,a))}}function pt(e,i){if(e&1&&(n(0,"mat-select",24),w(1,dt,3,4,"mat-option",21,O),r()),e&2){let a=v();d("panelClass",a.isReadOnly()?"hidden":""),m(),F(a.Object.values(a.levels()))}}function ct(e,i){if(e&1&&(n(0,"option",21),l(1),r()),e&2){let a=i.$implicit,o=v();d("value",o.emailField()[0]+a.value),m(),x(a.name)}}var Xt=(()=>{class e{usersFormConfig;materialConfig;formGroup=c(new P({}));emailTypes=c([{name:"Gmail",value:"@gmail.com"},{name:"Email",value:"@email.ru"}]);destroy$=c(new k);emailField=c([""]);coverUrl=c("");isReadOnly=c(!0);isFormChanges=c(!1);isHide=c(!0);roles=c(N);levels=c(G);formCoverFile=J(()=>this.formGroup().get("avatar"));Object=Object;constructor(a,o){this.usersFormConfig=a,this.materialConfig=o}get coverFileName(){return this.formCoverFile().value.name??""}ngOnInit(){this.formGroupInit(),this.formGroup().valueChanges.pipe(R(this.destroy$())).subscribe(()=>{this.isFormChanges.set(!0)})}onEmailInput(){if(!this.formGroup().get("email").value){this.emailField.set([""]);return}let o=this.formGroup().get("email").value.match(new RegExp(/^\w+/));this.emailField.set(o)}onInputFileChange(a){let o=a.files;if(!o?.item(0))return;let t=o.item(0);this.formCoverFile().patchValue(t),this.coverUrl.set(Re(this.formCoverFile().value)),console.log("file: ",this.formGroup().value)}ngOnDestroy(){this.destroy$().next(!0)}formGroupInit(){let a=new P({avatar:new h(""),fullName:new h("Jamoliddin Qodirov",[p.required,p.minLength(this.usersFormConfig.fullName.min),p.maxLength(this.usersFormConfig.fullName.max)]),email:new h("jqodirov@gmail.com",[p.required,p.email,p.minLength(this.usersFormConfig.email.min),p.maxLength(this.usersFormConfig.email.max)]),description:new h("Description about student",[p.max(this.usersFormConfig.description.max)]),password:new h("325544",[p.required,p.minLength(this.usersFormConfig.password.min),p.maxLength(this.usersFormConfig.password.max)]),role:new h(N.STUDENT,[p.required]),level:new h(G.BEGINNER,[p.required])});this.formGroup.set(a)}static \u0275fac=function(o){return new(o||e)(g(ke),g(Le))};static \u0275cmp=B({type:e,selectors:[["app-profile"]],standalone:!0,features:[Y],decls:79,vars:27,consts:[["f_input",""],[3,"formGroup"],[1,"example-card"],["id","user_photo","type","file","hidden","","accept","image/*",3,"change"],["matTooltip","Upload cover image for document","mat-card-avatar","","for","user_photo",3,"matTooltipPosition","matTooltipShowDelay","matTooltipHideDelay"],["alt","",3,"src"],[1,"hover-icon"],[1,"card-right"],["mat-mini-fab","",3,"click","color"],["mat-icon-button","",1,"copy-button",3,"cdkCopyToClipboard"],["matInput","","formControlName","fullName","required","",3,"readonly"],["matInput","","type","email","formControlName","email","list","emailTypes","required","","placeholder","example@gmail.com",3,"input","readonly"],["matInput","","formControlName","password",3,"type","readonly","minlength","maxlength"],["type","button","mat-icon-button","","matSuffix","",3,"click"],["matInput","","formControlName","role","required","","readonly",""],["matInput","","formControlName","level","required","","readonly",""],["matInput","","rows","5","formControlName","description","placeholder","Write about youself",3,"minlength","maxlength","readonly"],["mat-icon-button","","type","submit","color","primary",3,"disabled"],["mat-icon-button","","color","warn"],["mode","indeterminate"],["id","emailTypes"],[3,"value"],["src","assets/dictionary.png","alt",""],["formControlName","role","required",""],["formControlName","level","required","",3,"panelClass"]],template:function(o,t){if(o&1){let s=z();n(0,"form",1)(1,"mat-card",2)(2,"mat-card-header")(3,"input",3,0),y("change",function(){b(s);let E=W(4);return M(t.onInputFileChange(E))}),r(),n(5,"label",4),_(6,Qe,1,1,"img",5)(7,Xe,1,0),n(8,"div",6)(9,"mat-icon"),l(10,"edit"),r()()(),n(11,"mat-card-title"),l(12,"Mumina Solieva"),r(),n(13,"mat-card-title",7)(14,"button",8),y("click",function(){return b(s),M(t.isReadOnly.set(!t.isReadOnly()))}),n(15,"mat-icon"),l(16,"edit"),r()()(),n(17,"mat-card-subtitle"),l(18," ID: a562swd2ql109 "),n(19,"button",9)(20,"mat-icon"),l(21,"content_copy"),r()()()(),n(22,"mat-card-content")(23,"mat-form-field")(24,"mat-label"),l(25,"Full Name"),r(),f(26,"input",10),_(27,et,4,0,"mat-error"),r(),n(28,"mat-form-field")(29,"mat-label"),l(30,"Email"),r(),n(31,"input",11),y("input",function(){return b(s),M(t.onEmailInput())}),r(),_(32,tt,4,0,"mat-error")(33,it,4,0,"mat-error"),r(),n(34,"mat-form-field")(35,"mat-label"),l(36,"Password"),r(),f(37,"input",12),n(38,"button",13),y("click",function(){return b(s),M(t.isHide.set(!t.isHide()))}),n(39,"mat-icon"),l(40),r()(),_(41,ot,5,0,"mat-error")(42,nt,5,1,"mat-error")(43,rt,5,1,"mat-error"),r(),n(44,"mat-form-field")(45,"mat-label"),l(46,"Role"),r(),_(47,at,1,0,"input",14)(48,mt,3,0),r(),n(49,"mat-form-field")(50,"mat-label"),l(51,"Level"),r(),_(52,st,1,0,"input",15)(53,pt,3,1),r(),n(54,"mat-form-field")(55,"mat-label"),l(56,"Description"),r(),f(57,"textarea",16),r()(),n(58,"mat-card-footer")(59,"mat-card-actions")(60,"button",17)(61,"mat-icon"),l(62,"save"),r()(),n(63,"button",18)(64,"mat-icon"),l(65,"delete"),r()()(),f(66,"mat-progress-bar",19),r()()(),f(67,"br")(68,"br")(69,"br")(70,"br")(71,"br")(72,"br")(73,"br")(74,"br")(75,"br"),n(76,"datalist",20),w(77,ct,2,2,"option",21,Je),r()}o&2&&(d("formGroup",t.formGroup()),m(5),d("matTooltipPosition",t.materialConfig.tooltip.position)("matTooltipShowDelay",t.materialConfig.tooltip.showDelay)("matTooltipHideDelay",t.materialConfig.tooltip.hideDelay),m(),u(6,t.coverUrl()&&t.formCoverFile().value?6:7),m(8),d("color",t.isReadOnly()?"":"primary"),m(5),d("cdkCopyToClipboard","Hello World !"),m(7),d("readonly",t.isReadOnly()),m(),u(27,t.formGroup().get("fullName").hasError("required")?27:-1),m(4),d("readonly",t.isReadOnly()),m(),u(32,t.formGroup().get("email").hasError("required")?32:-1),m(),u(33,t.formGroup().get("email").hasError("email")?33:-1),m(4),d("type",t.isHide()?"password":"text")("readonly",t.isReadOnly())("minlength",t.usersFormConfig.password.min)("maxlength",t.usersFormConfig.password.max),m(),Z("aria-label","Hide password"),m(2),x(t.isHide()?"visibility_off":"visibility"),m(),u(41,t.formGroup().get("password").hasError("required")?41:-1),m(),u(42,t.formGroup().get("password").hasError("minlength")?42:-1),m(),u(43,t.formGroup().get("password").hasError("maxlength")?43:-1),m(4),u(47,t.isReadOnly()?47:48),m(5),u(52,t.isReadOnly()?52:53),m(5),d("minlength",t.usersFormConfig.description.min)("maxlength",t.usersFormConfig.description.max)("readonly",t.isReadOnly()),m(3),d("disabled",!t.isFormChanges()||t.formGroup().invalid),m(17),F(t.emailTypes()))},dependencies:[He,pe,oe,le,de,re,se,me,ae,ne,ie,te,fe,ue,ce,Be,Ve,Ne,Pe,Oe,Se,Ie,De,Ge,Ke,$e,qe,je,Ue,Ae,ee,Fe,_e,xe,be,he,Ce,ge,Me,Ee,we,X,Te,ye,ve],styles:["[_nghost-%COMP%]{flex:0 0 100vw;overflow-x:hidden}@media screen and (min-width: 960px){[_nghost-%COMP%]{flex:1 1 auto}}form[_ngcontent-%COMP%]{max-width:700px;margin:0 auto}.copy-icon[_ngcontent-%COMP%]{font-size:15px;height:15px;width:15px}mat-card-title[_ngcontent-%COMP%]{display:inline}mat-card-header[_ngcontent-%COMP%]     .mat-mdc-card-header-text{width:100%}.card-right[_ngcontent-%COMP%]{position:absolute;top:15px;right:15px}mat-card-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;column-gap:8px}label[for=user_photo][_ngcontent-%COMP%]{position:relative}label[for=user_photo][_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%}label[for=user_photo][_ngcontent-%COMP%]:hover   .hover-icon[_ngcontent-%COMP%]{opacity:1}.hover-icon[_ngcontent-%COMP%]{position:absolute;top:0;left:0;display:flex;justify-content:center;align-items:center;width:100%;height:100%;border-radius:50%;background:#00000080;color:#fff;opacity:0;transition:.3s;overflow:hidden}label[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:50%;object-fit:cover}.hidden[_ngcontent-%COMP%]{display:none}"]})}return e})();export{Xt as ProfileComponent};
