import{b as St}from"./chunk-UQUXWO6X.js";import{a as Vt,b as Y,c as ct,d as z,e as J,f as F,g as dt,h as kt,i as K,j as Yt}from"./chunk-EN7CLXKZ.js";import"./chunk-FYXAUPIQ.js";import"./chunk-73FD5PWE.js";import"./chunk-SSLYQRHY.js";import"./chunk-WSDEOAYZ.js";import{a as xt,b as yt,c as vt}from"./chunk-5CC4SUG3.js";import"./chunk-ZEEIW5SF.js";import"./chunk-7MLRNDAE.js";import"./chunk-X6D6ZXMZ.js";import{d as Wt,e as Ut,h as Ht}from"./chunk-EEPI5JBV.js";import{a as ht,b as Pt,c as jt}from"./chunk-OELXEG4N.js";import"./chunk-WQUYFIZ5.js";import"./chunk-L4VVBDDS.js";import"./chunk-FDFBILGX.js";import"./chunk-OKG76SOY.js";import{a as c}from"./chunk-YCVZ2DKW.js";import{a as Ct,b as Z}from"./chunk-3RUGDQG5.js";import{a as ft,b as _t,g as gt,h as X}from"./chunk-JJGNKWU3.js";import{b as st,c as W,e as U,f as E,j as N,l as D,m as lt,n as ut,o as H,v as Qt,x as w}from"./chunk-B6A23TUE.js";import"./chunk-RGNDWIHZ.js";import"./chunk-ZITBM2SP.js";import{a as Ot,c as $t,j as Bt}from"./chunk-MDARTJMG.js";import{a as mt,b as pt}from"./chunk-2G67OSBZ.js";import{Z as j,ca as A}from"./chunk-DZWWLC2F.js";import"./chunk-ATQ6OJSW.js";import{A as Tt,Ab as s,B as It,Bc as S,Bd as Rt,Da as Dt,Ea as f,Fb as G,Gb as T,Hb as y,Ib as v,Jb as o,Kb as r,Lb as it,Pb as B,Pd as P,Sb as g,Ub as l,X as At,_a as wt,aa as Et,ac as Q,bb as p,bc as V,cb as rt,dc as a,ec as b,fa as Nt,fc as nt,ga as M,gc as Lt,i as Gt,ic as k,jc as x,ka as d,la as C,nb as et,nc as R,ob as at,oc as O,pb as qt,ua as q,va as L,vb as _}from"./chunk-E25BKHHC.js";var Ft=(()=>{class t{fb;constructor(e){this.fb=e}prepareFormGroup(e){let i=Object.values(c);for(let n of i){let u=e.get(n);if(!u)continue;let h=u.get("questionList");h&&this.addUserAnswer("userAnswer",h)}return this.writingFormGroupInit(e),e}addUserAnswer(e,i){i.controls.forEach(n=>{let u=this.fb.control("",[W.required]);n.addControl(e,u);let h=n.get("neither");h&&(h.controls=Wt(h.controls))})}writingFormGroupInit(e){let i=e.get(c.WRITING);i.addControl("theme",this.fb.control("",[W.required])),i.addControl("assay",this.fb.control("",[W.required,W.minLength(ht.writingSymbolLength.min),W.maxLength(ht.writingSymbolLength.max)]))}static \u0275fac=function(i){return new(i||t)(Nt(Qt))};static \u0275prov=Et({token:t,factory:t.\u0275fac})}return t})();var Mt=function(t){return t.DONE="done",t.FINISH="finish",t}(Mt||{});var me=(t,m)=>m.description;function pe(t,m){if(t&1&&a(0),t&2){let e=l().$index,i=l();nt(" ",i.formArray().get(""+e).value.userAnswer," ")}}function se(t,m){if(t&1&&(o(0,"mat-radio-button",8),a(1),R(2,"titlecase"),r()),t&2){let e=m.$implicit;s("value",e),p(),nt("",O(2,2,e)," ")}}function le(t,m){t&1&&a(0," No variants. Some thing wrong with this question ")}function ue(t,m){if(t&1){let e=B();o(0,"button",11),g("click",function(){q(e);let n=l(3);return L(n.onNextClick())}),a(1," Next "),r()}if(t&2){let e=l(2).$index,i=l();s("disabled",i.formArray().get(""+e).invalid)}}function ce(t,m){if(t&1&&(o(0,"button",12),a(1," Submit "),r()),t&2){let e=l(3);s("disabled",e.formArray().invalid)}}function de(t,m){if(t&1&&(o(0,"h1",6),a(1),r(),o(2,"mat-radio-group",7),y(3,se,3,4,"mat-radio-button",8,T,!1,le,1,0),r(),o(6,"div",9),_(7,ue,2,1,"button",10)(8,ce,2,1),r()),t&2){let e=l(),i=e.$implicit,n=e.$index,u=e.$count;p(),b(i.description),p(2),v(i.neither),p(4),G(7,n!==u-1?7:8)}}function fe(t,m){if(t&1&&(o(0,"mat-step",2),_(1,pe,1,1,"ng-template",4)(2,de,9,3,"ng-template",5),r()),t&2){let e=m.$index;s("editable",!1),p(2),s("formGroupName",e)}}function _e(t,m){t&1&&a(0," Empty list of Questions ")}function ge(t,m){t&1&&(o(0,"mat-icon"),a(1,"cancel"),r())}var tt=(()=>{class t{formGroup=f.required();valueChange=Dt();formArray=S(()=>this.formGroup().get("questionList"));questionList=S(()=>this.formArray().value);constructor(){}ngAfterViewInit(){}submit(){let e={activity:c.GRAMMAR,type:Mt.DONE};this.valueChange.emit(e)}onNextClick(){}checkAnswer(){}ngOnDestroy(){}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=C({type:t,selectors:[["comp-questions-form"]],inputs:{formGroup:[d.SignalBased,"formGroup"]},outputs:{valueChange:"valueChange"},standalone:!0,features:[k([{provide:Vt,useValue:{displayDefaultIndicatorType:!0,showError:!0}}]),x],decls:6,vars:2,consts:[[3,"ngSubmit","formGroup"],["orientation","vertical","formArrayName","questionList"],["errorMessage","Incorrect answer",3,"editable"],["matStepperIcon","error"],["matStepLabel",""],["matStepContent","",3,"formGroupName"],[1,"mat-title"],["name","flavors","formControlName","userAnswer"],[3,"value"],[1,"buttons"],["type","button","mat-raised-button","","color","primary","matStepperNext","",3,"disabled"],["type","button","mat-raised-button","","color","primary","matStepperNext","",3,"click","disabled"],["type","submit","mat-raised-button","","color","primary","matStepperNext","",3,"disabled"]],template:function(i,n){i&1&&(o(0,"form",0),g("ngSubmit",function(){return n.submit()}),o(1,"mat-stepper",1),y(2,fe,3,2,"mat-step",2,me,!1,_e,1,0),_(5,ge,2,0,"ng-template",3),r()()),i&2&&(s("formGroup",n.formGroup()),p(2),v(n.questionList()))},dependencies:[K,J,Y,F,dt,ct,z,A,j,w,N,U,E,D,H,lt,ut,P,vt,xt,yt,pt,mt],styles:["mat-radio-button[_ngcontent-%COMP%]{display:block}"]})}return t})();var Kt=(()=>{class t{testingComponent=M(I);formGroup=f.required();document=f.required();constructor(){}ngOnInit(){}submit(){this.testingComponent.nextActivity()}ngOnDestroy(){}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=C({type:t,selectors:[["comp-grammar"]],inputs:{formGroup:[d.SignalBased,"formGroup"],document:[d.SignalBased,"document"]},standalone:!0,features:[x],decls:1,vars:1,consts:[[3,"valueChange","formGroup"]],template:function(i,n){i&1&&(o(0,"comp-questions-form",0),g("valueChange",function(){return n.submit()}),r()),i&2&&s("formGroup",n.formGroup())},dependencies:[tt],changeDetection:0})}return t})();function Ce(t,m){if(t&1&&(o(0,"p",0),a(1),r()),t&2){let e=m.$implicit;p(),b(e)}}var Xt=(()=>{class t{testingComponent=M(I);formGroup=f.required();document=f.required();readTexts=S(()=>this.formGroup().get("readTexts").value);ngOnInit(){}submit(){this.testingComponent.nextActivity()}ngOnDestroy(){}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=C({type:t,selectors:[["comp-reading"]],inputs:{formGroup:[d.SignalBased,"formGroup"],document:[d.SignalBased,"document"]},standalone:!0,features:[x],decls:3,vars:1,consts:[[1,"mat-body-1"],[3,"valueChange","formGroup"]],template:function(i,n){i&1&&(y(0,Ce,2,1,"p",0,T),o(2,"comp-questions-form",1),g("valueChange",function(){return n.submit()}),r()),i&2&&(v(n.readTexts()),p(2),s("formGroup",n.formGroup()))},dependencies:[tt],styles:["p[_ngcontent-%COMP%]{text-align:justify;text-indent:32px}"],changeDetection:0})}return t})();var xe=["audio"];function ye(t,m){if(t&1&&(o(0,"mat-card")(1,"mat-card-content"),it(2,"audio",3,0),r()()),t&2){let e=m.$implicit;p(2),s("src",e,wt)}}function ve(t,m){t&1&&(o(0,"p",1),a(1,"No Audio File"),r())}var Zt=(()=>{class t{testingComponent=M(I);audiosRef=qt("audio");formGroup=f.required();document=f.required();audios=S(()=>this.formGroup().get("audios").value);destroy$=et(new Gt);constructor(){}ngAfterViewInit(){this.audioHandler()}submit(){this.testingComponent.nextActivity()}audioHandler(){let e=this.audiosRef().map(i=>Tt(i.nativeElement,"ended"));It(...e).pipe(At(this.destroy$())).subscribe(i=>{let n=i.srcElement,u=+n.dataset.repeated;n.removeAttribute("controls"),!isNaN(u)&&n.setAttribute("data-repeated",u+1+"")})}ngOnDestroy(){this.destroy$().next(!0)}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=C({type:t,selectors:[["comp-listening"]],viewQuery:function(i,n){i&1&&Q(n.audiosRef,xe,5),i&2&&V()},inputs:{formGroup:[d.SignalBased,"formGroup"],document:[d.SignalBased,"document"]},standalone:!0,features:[x],decls:4,vars:2,consts:[["audio",""],[1,"mat-body-1"],[3,"valueChange","formGroup"],["data-repeated","0","controls","",3,"src"]],template:function(i,n){i&1&&(y(0,ye,4,1,"mat-card",null,T,!1,ve,2,0,"p",1),o(3,"comp-questions-form",2),g("valueChange",function(){return n.submit()}),r()),i&2&&(v(n.audios()),p(3),s("formGroup",n.formGroup()))},dependencies:[tt,Bt,Ot,$t],styles:["mat-card[_ngcontent-%COMP%] + mat-card[_ngcontent-%COMP%]{margin-top:8px}audio[_ngcontent-%COMP%]{display:block;width:100%}"]})}return t})();function Fe(t,m){if(t&1&&a(0),t&2){let e=l().$index,i=l();nt(" ",i.formArray().get(""+e).value.userAnswer," ")}}function he(t,m){t&1&&(o(0,"mat-error"),a(1,"answer is "),o(2,"strong"),a(3,"required"),r()())}function Me(t,m){t&1&&(o(0,"button",10),a(1," Back "),r())}function Ge(t,m){if(t&1&&(o(0,"button",11),a(1," Next "),r()),t&2){let e=l(2).$index,i=l();s("disabled",i.formGroup().get("questionList").get(""+e).invalid)}}function Te(t,m){if(t&1&&(o(0,"button",12),a(1," Submit "),r()),t&2){let e=l(3);s("disabled",e.formArray().invalid)}}function Ie(t,m){if(t&1){let e=B();o(0,"h1",7),a(1),R(2,"titlecase"),R(3,"titlecase"),r(),o(4,"mat-form-field")(5,"mat-label"),a(6,"Type answer question"),r(),o(7,"input",8),g("keydown.enter",function(n){q(e);let u=l().$index,h=l();return L(h.onInputEnter(n,u))})("input",function(n){q(e);let u=l(2);return L(u.input(n))}),r(),_(8,he,4,0,"mat-error"),r(),o(9,"div",9),_(10,Me,2,0,"button",10)(11,Ge,2,1,"button",11)(12,Te,2,1),r()}if(t&2){let e=l(),i=e.$implicit,n=e.$index,u=e.$index,h=e.$count,ne=l();p(),Lt(" ",O(2,6,i.tajik)," - ",O(3,8,i.russian)," "),p(6),s("autofocus",!0),p(),G(8,ne.isValidField(n)?8:-1),p(2),G(10,u!==0?10:-1),p(),G(11,u!==h-1?11:12)}}function Ae(t,m){if(t&1&&(o(0,"mat-step",3),_(1,Fe,1,1,"ng-template",5)(2,Ie,13,10,"ng-template",6),r()),t&2){let e=m.$index;s("formGroupName",e)("editable",!1)}}function Ee(t,m){t&1&&a(0," Empty list of Questions ")}function Ne(t,m){t&1&&(o(0,"mat-icon"),a(1,"cancel"),r())}var te=(()=>{class t{stepper=at.required(F);testingComponent=M(I);formGroup=f.required();document=f.required();formArray=S(()=>this.formGroup().get("questionList"));questionList=S(()=>this.formArray().value);constructor(){}ngOnInit(){}input(e){e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation()}onInputEnter(e,i){let n=this.formGroup().get("questionList").get(""+i);if(n.invalid){e.preventDefault(),n.markAsTouched();return}this.stepper().next()}submit(){this.testingComponent.nextActivity()}isValidField(e){return this.formGroup().get("questionList").get(""+e).hasError("required")&&this.formGroup().get("questionList").get(""+e).touched}ngOnDestroy(){}static \u0275fac=function(i){return new(i||t)};static \u0275cmp=C({type:t,selectors:[["comp-dictionary"]],viewQuery:function(i,n){i&1&&Q(n.stepper,F,5),i&2&&V()},inputs:{formGroup:[d.SignalBased,"formGroup"],document:[d.SignalBased,"document"]},standalone:!0,features:[k([]),x],decls:8,vars:2,consts:[[3,"ngSubmit","formGroup"],[1,"mat-headline-4","title"],["orientation","vertical","formArrayName","questionList"],["errorMessage","Incorrect answer",3,"formGroupName","editable"],["matStepperIcon","error"],["matStepLabel",""],["matStepContent",""],[1,"mat-title"],["matInput","","formControlName","userAnswer",3,"keydown.enter","input","autofocus"],[1,"buttons"],["type","button","mat-button","","matStepperPrevious","","accesskey","z"],["type","button","mat-raised-button","","color","primary","matStepperNext","",3,"disabled"],["type","submit","mat-raised-button","","color","primary","matStepperNext","",3,"disabled"]],template:function(i,n){i&1&&(o(0,"form",0),g("ngSubmit",function(){return n.submit()}),o(1,"div",1),a(2,"Everyday: Lessone 1 - Title of Book"),r(),o(3,"mat-stepper",2),y(4,Ae,3,2,"mat-step",3,T,!1,Ee,1,0),_(7,Ne,2,0,"ng-template",4),r()()),i&2&&(s("formGroup",n.formGroup()),p(4),v(n.questionList()))},dependencies:[K,J,Y,F,dt,kt,ct,z,A,j,X,gt,ft,_t,Z,Ct,w,N,st,U,E,D,H,lt,ut,P,Yt,pt,mt],changeDetection:0})}return t})();function De(t,m){if(t&1&&(o(0,"mat-radio-button",3),a(1),r()),t&2){let e=m.$implicit;s("value",e),p(),b(e)}}function we(t,m){t&1&&a(0," List of themes empty ")}function qe(t,m){t&1&&(o(0,"mat-error"),a(1,"Assay field is "),o(2,"b"),a(3,"required"),r()())}function Le(t,m){if(t&1&&(o(0,"mat-error"),a(1,"Assay minimum must be "),o(2,"b"),a(3),r(),a(4," symbol. Actual symbol length is "),o(5,"b"),a(6),r()()),t&2){let e=l();p(3),b(e.formAssay().errors.minlength.requiredLength),p(3),b(e.formAssay().errors.minlength.actualLength)}}function Re(t,m){if(t&1&&(o(0,"mat-error"),a(1,"Assay maximum must be "),o(2,"b"),a(3),r(),a(4," symbol. Actual symbol length is "),o(5,"b"),a(6),r()()),t&2){let e=l();p(3),b(e.formAssay().errors.maxlength.requiredLength),p(3),b(e.formAssay().errors.maxlength.actualLength)}}var ee=(()=>{class t{config;testingComponent=M(I);formGroup=f.required();document=f.required();themes=S(()=>this.formGroup().get("themes").value);formAssay=S(()=>this.formGroup().get("assay"));constructor(e){this.config=e}ngOnInit(){}submit(){this.testingComponent.nextActivity(!0)}static \u0275fac=function(i){return new(i||t)(rt(Pt))};static \u0275cmp=C({type:t,selectors:[["comp-writing"]],inputs:{formGroup:[d.SignalBased,"formGroup"],document:[d.SignalBased,"document"]},standalone:!0,features:[x],decls:19,vars:6,consts:[[3,"ngSubmit","formGroup"],[1,"mat-h3"],["formControlName","theme"],["color","primary",3,"value"],["matInput","","formControlName","assay","rows","10",3,"minLength","maxLength"],["mat-raised-button","","color","primary","type","submit",3,"disabled"]],template:function(i,n){i&1&&(o(0,"form",0),g("ngSubmit",function(){return n.submit()}),o(1,"h3",1),a(2,"Choose your theme for assay:"),r(),o(3,"mat-radio-group",2),y(4,De,2,2,"mat-radio-button",3,T,!1,we,1,0),r(),o(7,"mat-form-field")(8,"mat-label"),a(9,"Assay text..."),r(),it(10,"textarea",4),_(11,qe,4,0,"mat-error")(12,Le,7,2)(13,Re,7,2),r(),it(14,"br")(15,"br")(16,"br"),o(17,"button",5),a(18,"Finish and Save"),r()()),i&2&&(s("formGroup",n.formGroup()),p(4),v(n.themes()),p(6),s("minLength",n.config.writingSymbolLength.min)("maxLength",n.config.writingSymbolLength.max),p(),G(11,n.formAssay().hasError("required")?11:n.formAssay().hasError("minlength")?12:n.formAssay().hasError("maxlength")?13:-1),p(6),s("disabled",n.formGroup().invalid))},dependencies:[X,gt,ft,_t,Z,Ct,w,N,st,U,E,D,H,vt,xt,yt,A,j],changeDetection:0})}return t})();var ot=St[0];function ie(t){return[{_id:1,label:c.GRAMMAR,component:Kt,inputs:{formGroup:t.get([c.GRAMMAR]),document:ot[c.GRAMMAR]}},{_id:2,label:c.READING,component:Xt,inputs:{formGroup:t.get([c.READING]),document:ot[c.READING]}},{_id:3,label:c.LISTENING,component:Zt,inputs:{formGroup:t.get([c.LISTENING]),document:ot[c.LISTENING]}},{_id:4,label:c.DICTIONARY,component:te,inputs:{formGroup:t.get([c.DICTIONARY]),document:ot[c.DICTIONARY]}},{_id:5,label:c.WRITING,component:ee,inputs:{formGroup:t.get([c.WRITING]),document:ot[c.WRITING]}}]}var Oe=(t,m)=>m._id;function $e(t,m){if(t&1&&(a(0),R(1,"titlecase")),t&2){let e=l().$implicit;b(O(1,1,e.label))}}function Be(t,m){}function Qe(t,m){t&1&&_(0,Be,0,0,"ng-template")}function Ve(t,m){if(t&1&&_(0,Qe,1,0,null,6),t&2){let e=l().$implicit;s("ngComponentOutlet",e.component)("ngComponentOutletInputs",e.inputs)}}function ke(t,m){t&1&&(o(0,"mat-step",3),_(1,$e,2,3,"ng-template",4)(2,Ve,1,2,"ng-template",5),r()),t&2&&s("editable",!1)}function Pe(t,m){if(t&1){let e=B();o(0,"form",1),g("ngSubmit",function(){q(e);let n=l();return L(n.submit())}),o(1,"mat-stepper",2),y(2,ke,3,1,"mat-step",3,Oe),r()()}if(t&2){let e=l();s("formGroup",e.formGroup()),p(),s("linear",!1),p(),v(e.activitiesStep())}}var I=(()=>{class t{service;stepper=at.required(F);formGroup;activitiesStep;Activities=c;constructor(e){this.service=e}ngOnInit(){this.formInit()}nextActivity(e=!1){this.stepper().next(),!(!e||this.formGroup().invalid)&&(this.submit(),console.log(JSON.stringify(this.formGroup().value)))}submit(){}formInit(){let e=Ht(St[0],Ut(jt));this.formGroup=et(this.service.prepareFormGroup(e)),this.activitiesStep=et(ie(this.formGroup()))}static \u0275fac=function(i){return new(i||t)(rt(Ft))};static \u0275cmp=C({type:t,selectors:[["view-testing"]],viewQuery:function(i,n){i&1&&Q(n.stepper,F,5),i&2&&V()},standalone:!0,features:[k([Ft]),x],decls:1,vars:1,consts:[[3,"formGroup"],[3,"ngSubmit","formGroup"],["orientation","vertical",3,"linear"],[3,"editable"],["matStepLabel",""],["matStepContent",""],[4,"ngComponentOutlet","ngComponentOutletInputs"]],template:function(i,n){i&1&&_(0,Pe,4,2,"form",0),i&2&&G(0,n.formGroup()&&n.activitiesStep()?0:-1)},dependencies:[Rt,K,J,Y,F,z,A,X,Z,w,N,E,D,P],styles:["[_nghost-%COMP%]{flex:0 0 100vw;overflow-x:hidden}@media screen and (min-width: 960px){[_nghost-%COMP%]{flex:1 1 auto}}  .mat-step-header{pointer-events:none!important}"]})}return t})();export{I as TestingComponent};
